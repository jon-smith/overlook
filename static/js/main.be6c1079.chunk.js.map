{"version":3,"sources":["app.module.scss","components/logo.module.css","img/stmarylake.jpg","glitch.module.scss","img/tiles/tree_16x32.png","img/tiles/tree_16x16.png","img/tiles/grass_16x16.png","img/tiles/mud_light_16x16.png","img/tiles/shrub_light_16x16.png","img/tiles/road_mark_16x16.png","img/tiles/water_16x16.png","img/tiles/water_edge_left_16x16.png","img/tiles/water_edge_right_16x16.png","img/tiles/water_edge_top_16x16.png","img/tiles/water_edge_top_right_16x16.png","img/tiles/water_edge_top_left_16x16.png","img/sprites/yellow_car_1_32x16.png","img/sprites/yellow_car_2_32x16.png","components/logo.tsx","hooks/use-interval.ts","components/noise-canvas.tsx","components/div-on-scroll-to-visible.tsx","components/div-auto-hide-content.tsx","components/fixed-pos-icon-container.tsx","pages/door-scene.tsx","hooks/use-state-with-time.ts","pages/grady-sisters.tsx","pages/driving-scene-drawing.ts","pages/driving-scene.tsx","pages/typewriter-scene.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","buildHexPoints","radius","midX","midY","map","n","i","index","angleDeg","angleRad","Math","PI","cos","sin","hexPointFromEdgeIndex","buildHexPointsString","p","join","SVGElements","props","size","buildHex","color","points","fill","outerSize","BackgroundSVGElements","width","hexWidth","lineThickness","hexRad","sqrt","buildMainLogo","centreX","centreY","includeOuter","buildFillLine","top","x","y","height","hOffset","vOffset","topX","topY","leftX","leftY","topLeftY","rightX","rightY","topRightY","bottomX","bottomY","LogoBackground","id","patternUnits","Logo","className","styles","logo","viewBox","useInterval","callback","delay","savedCallback","useRef","useEffect","current","setInterval","clearInterval","NoiseCanvas","canvasRef","noiseFrames","currentFrame","ctx","getContext","Array","idata","createImageData","buffer32","Uint32Array","data","buffer","len","length","random","createNoise","putImageData","ref","style","DivWithOnYScrollEnter","children","scrollFps","onEnterYRange","onLeaveYRange","rest","divRef","scrollPos","useWindowScroll","useState","inYRange","setInYRange","element","getBoundingClientRect","bottom","window","innerHeight","elementInWithinYRange","DivAutoHideContent","show","setShow","FixedIconContainer","position","bottomOffsetPc","bottomOffsetEm","left","leftOffsetEm","icon","widthEm","hFlip","stageToIndex","s","DoorSceneContents","stageAndP","zeroToN","stage","relativeP","stageAndRelativeProgress","percentage","stageIndex","bottomOffset","doorSize","axeOffset","maxOffset","calcAxeOffset","faceOffset","calcFaceOffset","angry","axe","door","DoorScene","hideAll","useStateWithTime","initial","checkEquality","value","time","Date","now","setValue","setValueAndTime","useCallback","newValue","GradySisters","hasDisplayedOnce","setHasDisplayedOnce","display","setDisplay","lastSet","doUpdate","doRandomDisplay","isInRange","fromP","toP","hasPassedCentre","centre","windowCentre","elementPassedCentre","randomValue","girlLightSkinTone","transform","fontFamily","imgFromSource","src","img","Image","treeImg","bigTreeTile","smallTreeImg","smallTreeTile","grassImg","grassTile","mudLightImg","mudLightTile","shrubLightImg","shrubLightTile","waterImg","waterTile","waterLeftEdgeImg","waterLeftEdgeTile","waterRightImg","waterRightEdgeTile","waterTopEdgeImg","waterTopEdgeTile","waterTopRightEdgeImg","waterTopRightEdgeTile","waterTopLeftEdgeImg","waterTopLeftEdgeTile","roadImg","roadTile","carImg1","carSprite1","carImg2","carSprite2","drawColumn","def","drawCell","row","imgDim","drawImage","forEach","cell","forestTop","roadside","forestToLake","forestToLake1","forestToLake2","forestToLake3","forestToLake4","lakeTop","cutout","lakeTopMountain","edge1","edge2","lakeTopMountainLeft","lakeTopMountainMid","lakeTopMountainRight","forestBottom","roadside2","columnsAndDuration","getColumn","cumulative","drawScene","sceneProgress","columnOffset","floor","columnIndex","clearRect","c","CANVAS_WIDTH","column","save","translate","restore","carImg","drawCar","DrivingScene","moving","setMoving","speed","setSpeed","setSceneProgress","setProgressTime","handler","savedHandler","eventListener","event","addEventListener","removeEventListener","useWindowKeyDown","e","elementIsWithinYRange","keyCode","target","document","body","preventDefault","range","sinceLast","speedToUse","max","min","textToRepeat","alterText","text","characters","repeats","extra","slice","TypewriterScene","setText","keyboardIcon","minHeight","minWidth","onChange","FourPageNoiseCanvas","useWindowSize","undefined","wait","vh4","DrivingSceneFullScreen","drivingSceneCanvas","convertDoorScenePercentage","navDivProps","clickId","onClick","anchor","querySelector","scrollIntoView","behavior","block","scrollToId","role","ArrowNav","fadeIn","setFadeIn","arrowName","type","arrowUp","arrowDown","App","app","blur","bgImage","background","bgImageAlt","bgImageStyle","opacity","strength","appPage","glitchStyles","glitch","data-text","vh1point2","overlayArrowContainerPlus10vh","vh1point5","vh2","overlayArrowContainer","renderLayer","vignette","calligraphy","Boolean","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.be6c1079.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"app_app__1Uy6u\",\"appPage\":\"app_appPage__We3tK\",\"calligraphy\":\"app_calligraphy__1XrDg\",\"vh1point2\":\"app_vh1point2__2BV1c\",\"vh1point5\":\"app_vh1point5__YvjLz\",\"vh2\":\"app_vh2__oHNJ_\",\"vh3\":\"app_vh3__2bPd2\",\"vh4\":\"app_vh4__2izdf\",\"drivingSceneCanvas\":\"app_drivingSceneCanvas__3WLXt\",\"vignette\":\"app_vignette__z5He4\",\"vignette-anim\":\"app_vignette-anim__2ss0N\",\"arrowUp\":\"app_arrowUp__2-1yX\",\"arrowRight\":\"app_arrowRight__2osVl\",\"arrowLeft\":\"app_arrowLeft__2H4iY\",\"arrowDown\":\"app_arrowDown__1z9-Y\",\"overlayArrowContainer\":\"app_overlayArrowContainer__39Nna\",\"overlayArrowContainerPlus10vh\":\"app_overlayArrowContainerPlus10vh__2CwCY\",\"fadeIn\":\"app_fadeIn__3_ShH\",\"fadein\":\"app_fadein__3LzNg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logo\":\"logo_logo__mTUnK\",\"logo-float\":\"logo_logo-float__uraBD\"};","module.exports = __webpack_public_path__ + \"static/media/stmarylake.b2970c56.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"glitch\":\"glitch_glitch__3nVK2\",\"noise-anim\":\"glitch_noise-anim__17aSe\",\"noise-anim-2\":\"glitch_noise-anim-2__1_meq\"};","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAgCAIAAACU62+bAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAFJSURBVDhPvZHBdQMxCER9dCspIW1sCykhtbkNt5R89vNGrOxcw8NogBnByrev5/3xc8yIf572Wsdv5h/fSxkqYNaNl5w2cQpmXVxIN5eEQ8KjMeKXTTTwcdStCrRoepYlIliegmAj3V6JXKM6rzdqa0LuxmGDJy9imTWFhEhVjTJ509XUhLrnNNkbD3eshH6lsAEwAoxqeqWwiZo8wcTEEnB492xP2zSdIPBDVVrEwNY7R+BKmHMySqc+2ZeVAPSmzLszwdgPIiNsSZtDW6+kyd54OPoQ6lY1sgEwAoxqoK0JMjR5gomJJeDw7tmetmk6QeCHqrSIgfNK2j/8D/xM0vvLZfZK5mm8BVzH5PU/WN0AFgytvsEDmVUMnN26dBallYAjbg+HPVO9JyR3SxsK8KkpgUdKriHIYraglUC2iQ08o3S7RXjefwEVnQW4EjUaJAAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAFMSURBVDhPdZGxTgJREEXfLhaSUGC5BYUlFiaYUOwWfoCFJttaUlrSUvILFH4ApVuYwA+YrJ1bkEhBQQHJUpBoYkNhouflwvOhOIHZuTNzZ+7OBp2X47R1lRVj540x/aTE9/LoV97a6CuF0+wavOI4jl3g5+X3MGW8T/DzigP+WqW9iDkbFMB8uMHX8xjoqwqJ1P1615J07K2/U2yM8uIAQ0VkeUUw85hdllvme/IsD4c8nSFYuzSebHOeqg89eBckt/aeliBjNj+6NV5NeMjia27AKXgoRff0NCM4aBoRSrqwulX4G0RRhAR7JTj/Nfmw82BV2SuBoSqrWO/tv7oamG4/nA4s476qcS7O4qBs70oY30tlrcWAcBTLKtWbOeXpagaoXs4Y/HHfXl88LSaftcfrYjHZNJaN8yOqmrKVJOC0seqk96PTLcyK8Te/AO6lU5ZpFAAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAB1SURBVDhPY0w+xxFk6LXu/DY4yQAGyCLI4gxb/wcB9WgWMwBJCBuZxBRH4QOlkeWwijMCMcQqLLaDAZo4E5CFJgoXwSqOxQ34/YNwEhAgmwcVAgNkcSaoGHGqgVwsfgArA4lgFR+NB2TzoEJggCxOYjwwMAAA/pkpR8/QYFUAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAB0SURBVDhP1dHBDcAgCAVQx+gojtYxHKGjdAxH6bESyBc/mJ6b/Hh4SkAtd6ua/nSsPuRScJ0H6ZCdSwEpkrqNFE9rohftjmCYnc9Le/UI0XUpGPmssVfChk/qs0P6JhC4dSDFANGlgBRJ3UaKpzXR//8Prb7iXZnQM/6r1wAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAACiSURBVDhPY0w4wcEABgEGHhsu7ICQEBEIQBNnAuITK37ARSsqNkBEcIprFDBs+BGARgKtxSXOLGLB8EXkgYwOy4IJVywiOG68uPPkyh8gF0hiFYc6CUhCAJANlIY7CSIIBHBxkKchEnB1EDaQxCoODSVMpch6gADORQQrXBEaQBMH+QECOjoCgCQwBCFcOEATH40HiBCEi6wHCOBcEuOBgQEAfFDxOJjdqpUAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAxSURBVDhPY5w/fz4DKYAJShMNRqQGFiAO9DCEcOBg/Y7zQBKrOMk2jEYcMYBEDQwMAAQYCdtnSiDpAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABLSURBVDhPY8xI+MGAAQIiGDasgLKRAVCcCcqEAaAQEGCqhotjtwEPQLeBIEBogFiKCdDEyXUSkcYDAZU8jcfC0XjABJjiJNrAwAAAQYAdksAVr3EAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAFmSURBVDhPY2RhV/y95R9jGOP/Vf8F0oSPlJxz6dMQYLnfPu3H9nkMbBwMQPDrB4LBdLjyvXCG+v914ozBcqcqLxs0ex6pvP+PRXbfEoQi51gQCQRAEaaXn/6Ic39RyOX+v/GXdqPb9ea9zj1WQDlWdpAKIAAq2rsYqhkImP7///+PRVCc6wtnNNvvJW+Mmqx5Of4sSr7zCWwkJmD68pN1Sfy+J18kL9Sf4IyXOFd39PMPFmTVyE4CAiYxPla/Ga778reZdPhdrNlm1moPtIEP5nogQHcSM+NHaYEf5m32Zys3adW5nKo+CLQhbq4KJyOKX+GAKXOF7ZNXX0/XHNJv8brauMeozXdP8VGIHLLBcMD05NW353P/qhWbf1/4wqDVC2gP0FUcjH+cYqAqgADuASCDaV/pdeFkPmCYMvqzAf0AdBXQth//WQYwHpiFOEiLB17236TFw9/3P0iLh8qDDiTEAwMDAOSx8c06LhJCAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAFMSURBVDhPY1yx4//exQxsHAxA8OsHlMHGyrD7GMfXX5LHGlg+/WB59fpGyAwNPo4/314xsSCrdo5lgHM/vWXhFZW98uAckO0xwXNv8bHff37LM0gzZif/B8mDAdyGj28YFm9gEOAQkNHUu3f//ZGW+5++Mzu1aPz7eJIFrBIdiEoyMDIy/v//H0IyM4qIq2o9n/37cA4vE1QJzElAEgheP2eAq77PcP/v/zcvnjx/efu6yZTPIA0QRUDHwD0AtIFXgOfZXJVHDJ+BXCB5pe69VvWHk/GMTMgGQ1RDgKik6LuvDMwMvEA2NwPvpRdvWRklHRb+B9kANxgNiEqI3qkS4GVQXBXNyC0ifGbSJyEuA5zxcPC04uP3oHj48Or9hz/3Q2dYAeOB+dNfnPHw5sVrMVHZB88g8WA3aOPBktR4uFxBYjwYdpAYD4pKxgBxxvPiVe9Z6QAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAF0SURBVDhPY9iWxcDAYreznPnFbOebk0xvTXaf4Mbw8f//RYHYxRle/P//dI6ymJq3pIoNEC3PZ3jz//+9//dwiTP9Z2B49oFzeuThTXnnGNmEBbgY/jAwMDOIAEms4iwvJhqefXpfUpDDsd/1dPlGwzb/0xIqH74ycrBxYBVnnJjI4Grvef3+UUEuhpiFjmtStrFwWrAwsxy7cszJyAlTnAmo+sHjPfGLXPk4//CzvI5d6Kgo+u/U9VNA1VjFmZ48O5iy3OtMxSb7LjMOTg62/1+0qwTUJJhxiTNq6uqys3x4+0PwWvvHz99Zzt+5K8DJEL3AkJPxD1ZxxrV7/u9fysDCxvD+K8Pvnwyc3AxAwMHA4BTDgFWcacd8hv9MDL//MLD9Z/BLZmD6zcDBDAo/XOKM2cnAmICCXz8Y2ICGYABkcSYoTTRAaAAa4xwLItEAmjjISXAb4QwIwCrOBOTADUBTjVWcMTUa5GlkIQjAVAoCDAwAAlvpXSX2OZIAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAGFSURBVDhPY1yx4//exQxsHAxA8OsHlMHGyrDlsOq02OdP33N8uv82YeX/8wWMdhP+MzGKMCGrdo4FkRDAy/EneYEZF9sPGxfH0zmMhhP+T/Bi/P3/DRNENRAAGXDNQPD5Bwsn6w89Cdmvbx4bTvm/JJqRV5v/TIMkE1QeFXz6wbAo+c771++Vs66zMLPc7dVlEue20rE6+egFQgOak959ZfjGKvl+oebV18/PPr1vp2+3++D2zHn/QRogipCd9OcPg4qsxuqMY2IlsvLCv33MrQ5dPORq7zk7lZEJ2WC4B4Dgx68f4qJW2woOxi92VS/5rS7JfP3+URk5YcbU6P9AaWSlQPDlJ0OFLccvRkkONo7bj24IcTNEzTfkZf8NlMIeD0CGRTjIhazsDCwsDL9/MAjxg8R//2TAHg9AkRMrGQT5GHjYGZh+M3glMHz9wvD7DwMDMwNjdjLISRAAtwENIItjjwc8AGc8wAGaOMhJcBvhDAjAKo4zHnCJY48HIMBUCgIMDABNyrlnqq7DegAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAGLSURBVDhPY2Rg4Pt/QIvR+9f/LSyMQdz/133jjeNS5L/fOPH+9nkMbBwMQPDrB4LB9P//R0aHE/+/nGX0+XOz8whnvMS5uqM//rPsW4JQ5BwLIoEAKMJ0qIDx////jIxy/7ewqpfbXKrd7tJrDZRjZQepAAKgor2LoZqBgOnCJ4YLEw23tbxkDOL6v/67UZM1L8efRcl3PoGNxARMqfP+H7p4QUHGeVvxUfE04bO1R55+4EBWjewkIGCcmc5ga+l56OKhCHtT05rvX/9JLE3Y//bLp+2P/jP9RngD4SRJGeHr94+qSTCrlXH/+M0JVP3sI9fP9wy/Uf0KB4xySkoCQtyffrAsTTj/5RfD5x8MQNVRk/5HeDLwCaMohQDGdXv/AwMBGCaff4JMZQWr+PKCIbAAEThwJwEZTMDYYWBm+P2HAehirwQQycHMICKNohrZbYzZyf9BTDCAm4QGkMWZoDTRAKEB2WpkgCYOchLcRjgDArCKMwE5WMMblzhjajTI08hCEICpFAQYGACQlMHpvocT5gAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"static/media/yellow_car_1_32x16.165b4b46.png\";","module.exports = __webpack_public_path__ + \"static/media/yellow_car_2_32x16.fc2bd6f8.png\";","import React from 'react';\r\nimport styles from './logo.module.css';\r\n\r\nconst logoMainDark = '#2e1c01';\r\nconst logoMainOrange = '#ffb347';\r\nconst logoMainRed = '#ff443a';\r\n\r\nconst logoBackgroundDark = 'black';\r\nconst logoBackgroundOrange = '#ea8900';\r\nconst logoBackgroundRed = '#c30a00';\r\n\r\nconst hexPointFromEdgeIndex = (\r\n\tindex: number,\r\n\tradius: number,\r\n\tmidX: number,\r\n\tmidY: number\r\n): [number, number] => {\r\n\tconst angleDeg = 60 * index - 30;\r\n\tconst angleRad = (Math.PI / 180) * angleDeg;\r\n\treturn [midX + radius * Math.cos(angleRad), midY + radius * Math.sin(angleRad)];\r\n};\r\n\r\nconst buildHexPoints = (radius: number, midX: number, midY: number): [number, number][] => {\r\n\treturn [0, 1, 2, 3, 4, 5, 6].map((n, i) => hexPointFromEdgeIndex(i, radius, midX, midY));\r\n};\r\n\r\nconst pointsToString = (points: [number, number][]) => points.map(p => p.join(',')).join(' ');\r\n\r\nconst buildHexPointsString = (radius: number, midX: number, midY: number) => {\r\n\treturn pointsToString(buildHexPoints(radius, midX, midY));\r\n};\r\n\r\nconst SVGElements = (props: { size: number }) => {\r\n\tconst { size } = props;\r\n\tconst buildHex = (radius: number, color: string) => {\r\n\t\tconst p = buildHexPointsString(radius, size * 0.5, size * 0.5);\r\n\t\treturn <polygon points={p} fill={color} />;\r\n\t};\r\n\r\n\tconst outerSize = size * 0.5;\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{buildHex(outerSize, logoMainDark)}\r\n\t\t\t{buildHex(outerSize * 0.8, logoMainOrange)}\r\n\t\t\t{buildHex(outerSize * 0.6, logoMainDark)}\r\n\t\t\t{buildHex(outerSize * 0.4, logoMainRed)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nconst hexMinorToMajorDimension = (w: number) => (w * 2) / Math.sqrt(3);\r\n\r\nconst BackgroundSVGElements = (props: { width: number }) => {\r\n\tconst { width } = props;\r\n\r\n\tconst hexWidth = (width * 8) / 7;\r\n\tconst lineThickness = hexWidth / 8;\r\n\tconst hexRad = hexMinorToMajorDimension(hexWidth) * 0.5;\r\n\r\n\tconst buildMainLogo = (centreX: number, centreY: number, includeOuter: boolean) => {\r\n\t\tconst buildHex = (radius: number, color: string) => {\r\n\t\t\tconst p = buildHexPointsString(radius, centreX, centreY);\r\n\t\t\treturn <polygon points={p} fill={color} />;\r\n\t\t};\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t{includeOuter && buildHex(hexRad, logoBackgroundDark)}\r\n\t\t\t\t{buildHex(hexRad * 0.75, logoBackgroundOrange)}\r\n\t\t\t\t{buildHex(hexRad * 0.5, logoBackgroundDark)}\r\n\t\t\t\t{buildHex(hexRad * 0.25, logoBackgroundRed)}\r\n\t\t\t</>\r\n\t\t);\r\n\t};\r\n\r\n\tconst buildFillLine = (centreX: number, top: number) => {\r\n\t\tconst x = centreX - lineThickness * 0.5;\r\n\t\treturn <rect x={x} y={top} width={lineThickness} height={hexRad} fill={logoBackgroundDark} />;\r\n\t};\r\n\r\n\tconst hOffset = hexRad * 0.75;\r\n\tconst vOffset = hexRad * 0.82;\r\n\r\n\tconst topX = width * 0.5;\r\n\tconst topY = width * 0.5;\r\n\r\n\tconst leftX = topX - hOffset;\r\n\tconst leftY = topY + vOffset;\r\n\tconst topLeftY = leftY - 2.6 * vOffset;\r\n\r\n\tconst rightX = topX + hOffset;\r\n\tconst rightY = leftY;\r\n\tconst topRightY = topLeftY;\r\n\r\n\tconst bottomX = topX;\r\n\tconst bottomY = topY + vOffset * 2;\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{buildMainLogo(topX, topY, true)}\r\n\t\t\t{buildMainLogo(leftX, leftY, false)}\r\n\t\t\t{buildMainLogo(rightX, rightY, false)}\r\n\t\t\t{buildMainLogo(leftX, topLeftY, false)}\r\n\t\t\t{buildMainLogo(rightX, topRightY, false)}\r\n\t\t\t{buildMainLogo(bottomX, bottomY, false)}\r\n\t\t\t{buildFillLine(topX, topY + hexRad * 0.25)}\r\n\t\t\t{buildFillLine(leftX, leftY - 1.25 * hexRad)}\r\n\t\t\t{buildFillLine(rightX, rightY - 1.25 * hexRad)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport const Logo = () => {\r\n\t// All measurements done relative to this number, but it doesn't appear to matter what this number is\r\n\t// But don't really want to hardccode the numbers below in case there becomes a need to change it\r\n\tconst dimension = 1;\r\n\r\n\treturn (\r\n\t\t<svg className={styles.logo} viewBox={`0 0 ${dimension} ${dimension}`}>\r\n\t\t\t<SVGElements size={dimension} />\r\n\t\t</svg>\r\n\t);\r\n};\r\n\r\nexport const LogoBackground = () => {\r\n\tconst width = 30;\r\n\tconst height = width * 1.41;\r\n\treturn (\r\n\t\t<svg width=\"100%\" height=\"100%\">\r\n\t\t\t<defs>\r\n\t\t\t\t<pattern\r\n\t\t\t\t\tid=\"pattern\"\r\n\t\t\t\t\tx=\"0\"\r\n\t\t\t\t\ty=\"0\"\r\n\t\t\t\t\twidth={width}\r\n\t\t\t\t\theight={height}\r\n\t\t\t\t\tpatternUnits=\"userSpaceOnUse\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<BackgroundSVGElements width={width} />\r\n\t\t\t\t</pattern>\r\n\t\t\t</defs>\r\n\t\t\t<rect x=\"0\" y=\"0\" width=\"100%\" height=\"100%\" fill=\"url(#pattern)\" />\r\n\t\t</svg>\r\n\t);\r\n};\r\n\r\nexport default Logo;\r\n","import { useRef, useEffect } from 'react';\r\n\r\nconst useInterval = (callback: () => void, delay: number) => {\r\n\tconst savedCallback = useRef<Function>();\r\n\r\n\tuseEffect(() => {\r\n\t\tsavedCallback.current = callback;\r\n\t}, [callback]);\r\n\r\n\tuseEffect(() => {\r\n\t\tfunction tick() {\r\n\t\t\tif (savedCallback.current) savedCallback.current();\r\n\t\t}\r\n\r\n\t\tconst id = setInterval(tick, delay);\r\n\t\treturn () => clearInterval(id);\r\n\t}, [delay]);\r\n};\r\n\r\nexport default useInterval;\r\n","import React, { useEffect, useRef } from 'react';\r\nimport useInterval from '../hooks/use-interval';\r\n\r\nconst createNoise = (ctx: CanvasRenderingContext2D, width: number, height: number) => {\r\n\tconst idata = ctx.createImageData(width, height);\r\n\tconst buffer32 = new Uint32Array(idata.data.buffer);\r\n\tconst len = buffer32.length;\r\n\r\n\tfor (let i = 0; i < len; i++) {\r\n\t\tif (Math.random() < 0.3) {\r\n\t\t\tbuffer32[i] = 0xff222222;\r\n\t\t}\r\n\t}\r\n\r\n\treturn idata;\r\n};\r\n\r\ninterface Props {\r\n\twidth: number;\r\n\theight: number;\r\n\tclassName?: string;\r\n\tstyle?: React.CSSProperties;\r\n}\r\n\r\nconst NoiseCanvas = (props: Props) => {\r\n\tconst canvasRef = useRef<HTMLCanvasElement>(null);\r\n\r\n\tconst noiseFrames = useRef<ImageData[]>([]);\r\n\tconst currentFrame = useRef<number>(0);\r\n\r\n\tconst { width, height } = props;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (canvasRef.current) {\r\n\t\t\tconst ctx = canvasRef.current.getContext('2d');\r\n\t\t\tif (ctx) {\r\n\t\t\t\tnoiseFrames.current = Array(10)\r\n\t\t\t\t\t.fill(0)\r\n\t\t\t\t\t.map(() => createNoise(ctx, width, height));\r\n\t\t\t}\r\n\t\t}\r\n\t}, [width, height]);\r\n\r\n\tuseInterval(() => {\r\n\t\tif (noiseFrames.current.length === 0) return;\r\n\r\n\t\tcurrentFrame.current =\r\n\t\t\tcurrentFrame.current === noiseFrames.current.length - 1 ? 0 : currentFrame.current + 1;\r\n\r\n\t\tif (canvasRef.current) {\r\n\t\t\tconst ctx = canvasRef.current.getContext('2d');\r\n\t\t\tif (ctx) {\r\n\t\t\t\tctx.putImageData(noiseFrames.current[currentFrame.current], 0, 0);\r\n\t\t\t}\r\n\t\t}\r\n\t}, 1000 / 25);\r\n\r\n\treturn (\r\n\t\t<canvas\r\n\t\t\tref={canvasRef}\r\n\t\t\twidth={width}\r\n\t\t\theight={height}\r\n\t\t\tstyle={props.style}\r\n\t\t\tclassName={props.className}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default NoiseCanvas;\r\n","import React, { useRef, useEffect, useState } from 'react';\r\nimport { useWindowScroll } from '@react-hook/window-scroll';\r\n\r\ninterface Props {\r\n\tscrollFps?: number;\r\n\tonEnterYRange?: () => void;\r\n\tonLeaveYRange?: () => void;\r\n}\r\n\r\nconst elementInWithinYRange = (element: HTMLDivElement) => {\r\n\tconst { top, bottom } = element.getBoundingClientRect();\r\n\treturn bottom > 0 && top < window.innerHeight;\r\n};\r\n\r\n// Div with callbacks when it enters/leaves the y-scroll view\r\nconst DivWithOnYScrollEnter = (\r\n\tprops: React.PropsWithChildren<Props & React.ComponentProps<'div'>>\r\n) => {\r\n\tconst { children, scrollFps, onEnterYRange, onLeaveYRange, ...rest } = props;\r\n\r\n\tconst divRef = useRef<HTMLDivElement>(null);\r\n\tconst scrollPos = useWindowScroll(scrollFps);\r\n\tconst [inYRange, setInYRange] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (divRef.current) setInYRange(elementInWithinYRange(divRef.current));\r\n\t}, [scrollPos]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (inYRange) {\r\n\t\t\tonEnterYRange?.();\r\n\t\t} else {\r\n\t\t\tonLeaveYRange?.();\r\n\t\t}\r\n\t}, [inYRange, onEnterYRange, onLeaveYRange]);\r\n\r\n\treturn (\r\n\t\t<div ref={divRef} {...rest}>\r\n\t\t\t{children}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default DivWithOnYScrollEnter;\r\n","import React, { useState } from 'react';\r\nimport DivWithOnYScrollEnter from './div-on-scroll-to-visible';\r\n\r\ninterface Props {\r\n\tscrollFps?: number;\r\n}\r\n\r\n// Div that hides the content when it has scrolled out of y-range\r\nconst DivAutoHideContent = (\r\n\tprops: React.PropsWithChildren<Props & React.ComponentProps<'div'>>\r\n) => {\r\n\tconst { children, ...rest } = props;\r\n\r\n\tconst [show, setShow] = useState(false);\r\n\r\n\treturn (\r\n\t\t<DivWithOnYScrollEnter\r\n\t\t\tonLeaveYRange={() => setShow(false)}\r\n\t\t\tonEnterYRange={() => setShow(true)}\r\n\t\t\t{...rest}\r\n\t\t>\r\n\t\t\t{show && children}\r\n\t\t</DivWithOnYScrollEnter>\r\n\t);\r\n};\r\n\r\nexport default DivAutoHideContent;\r\n","import React from 'react';\r\nimport { Icon } from '@iconify/react';\r\n\r\nconst FixedIconContainer = <T extends {}>(props: {\r\n\ticon: T;\r\n\twidthEm: number;\r\n\thFlip?: boolean;\r\n\tbottomOffsetPc?: number;\r\n\tbottomOffsetEm?: number;\r\n\tleftOffsetEm?: number;\r\n}) => (\r\n\t<div\r\n\t\tstyle={{\r\n\t\t\tposition: 'fixed',\r\n\t\t\tbottom: `calc(${props.bottomOffsetPc ?? 0}vh + ${props.bottomOffsetEm ?? 0}em)`,\r\n\t\t\tleft: `${props.leftOffsetEm ?? 0}em`,\r\n\t\t\twidth: '100vw'\r\n\t\t}}\r\n\t>\r\n\t\t<Icon icon={props.icon} width={`${props.widthEm}em`} hFlip={props.hFlip} />\r\n\t</div>\r\n);\r\n\r\nexport default FixedIconContainer;\r\n","import React from 'react';\r\nimport axe from '@iconify/icons-twemoji/axe';\r\nimport door from '@iconify/icons-twemoji/door';\r\nimport angry from '@iconify/icons-twemoji/pouting-face';\r\nimport FixedIconContainer from 'components/fixed-pos-icon-container';\r\n\r\ntype Stage = 'door' | 'axe' | 'face' | 'exit';\r\n\r\nconst stageToIndex = (s: Stage) => {\r\n\tswitch (s) {\r\n\t\tcase 'door':\r\n\t\t\treturn 0;\r\n\t\tcase 'axe':\r\n\t\t\treturn 1;\r\n\t\tcase 'face':\r\n\t\t\treturn 2;\r\n\t\tcase 'exit':\r\n\t\t\treturn 3;\r\n\t\tdefault:\r\n\t\t\treturn 4;\r\n\t}\r\n};\r\n\r\ntype StageAndRelativeProgress = {\r\n\tstage: Stage;\r\n\trelativeP: number;\r\n};\r\n\r\n// Calculate the 'stage' of the animation and the relative progress within that stage\r\nconst stageAndRelativeProgress = (p: number): StageAndRelativeProgress => {\r\n\tconst N = 7;\r\n\tconst zeroToN = p * N;\r\n\tif (zeroToN < 2) {\r\n\t\treturn { stage: 'door', relativeP: zeroToN / 2 };\r\n\t}\r\n\tif (zeroToN < 4) {\r\n\t\treturn { stage: 'axe', relativeP: (zeroToN - 2) / 2 };\r\n\t}\r\n\tif (zeroToN < 6) {\r\n\t\treturn { stage: 'face', relativeP: (zeroToN - 4) / 2 };\r\n\t}\r\n\treturn { stage: 'exit', relativeP: zeroToN - (N - 1) };\r\n};\r\n\r\nconst bottomOffsetAndDoorSize = (p: StageAndRelativeProgress) => {\r\n\tconst maxDoorSize = 9;\r\n\tif (p.stage === 'door') {\r\n\t\treturn { bottomOffset: p.relativeP * 55 - 10, doorSize: p.relativeP * maxDoorSize };\r\n\t}\r\n\tif (p.stage === 'exit') {\r\n\t\treturn { bottomOffset: p.relativeP * 55 + 45, doorSize: maxDoorSize };\r\n\t}\r\n\treturn { bottomOffset: 45, doorSize: maxDoorSize };\r\n};\r\n\r\nconst calcAxeOffset = (p: StageAndRelativeProgress) => {\r\n\tif (p.stage === 'axe' || p.stage === 'face') {\r\n\t\tconst maxOffset = p.stage === 'face' ? 5 : 3.5;\r\n\r\n\t\tif (p.relativeP <= 1 / 3) return p.relativeP * 3 * maxOffset;\r\n\t\tif (p.relativeP <= 2 / 3) return maxOffset;\r\n\r\n\t\treturn (1 - p.relativeP) * 3 * maxOffset;\r\n\t}\r\n\r\n\treturn 0;\r\n};\r\n\r\nconst calcFaceOffset = (p: StageAndRelativeProgress) => {\r\n\tif (p.stage === 'face') {\r\n\t\tconst maxOffset = 3.5;\r\n\t\tif (p.relativeP <= 1 / 3) return p.relativeP * 3 * maxOffset;\r\n\t\tif (p.relativeP <= 2 / 3) return maxOffset;\r\n\r\n\t\treturn (1 - p.relativeP) * 3 * maxOffset;\r\n\t}\r\n\r\n\treturn 0;\r\n};\r\n\r\nconst DoorSceneContents = (props: { percentage: number }) => {\r\n\tconst { percentage } = props;\r\n\r\n\tconst stageAndP = stageAndRelativeProgress(percentage);\r\n\tconst stageIndex = stageToIndex(stageAndP.stage);\r\n\r\n\tconst { bottomOffset, doorSize } = bottomOffsetAndDoorSize(stageAndP);\r\n\tconst axeOffset = calcAxeOffset(stageAndP);\r\n\tconst faceOffset = calcFaceOffset(stageAndP);\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{stageIndex >= stageToIndex('face') && (\r\n\t\t\t\t<FixedIconContainer\r\n\t\t\t\t\ticon={angry}\r\n\t\t\t\t\twidthEm={5}\r\n\t\t\t\t\tleftOffsetEm={faceOffset}\r\n\t\t\t\t\tbottomOffsetPc={bottomOffset}\r\n\t\t\t\t\tbottomOffsetEm={3}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t\t{stageIndex >= stageToIndex('axe') && (\r\n\t\t\t\t<FixedIconContainer\r\n\t\t\t\t\ticon={axe}\r\n\t\t\t\t\twidthEm={5}\r\n\t\t\t\t\thFlip={true}\r\n\t\t\t\t\tleftOffsetEm={axeOffset}\r\n\t\t\t\t\tbottomOffsetPc={bottomOffset}\r\n\t\t\t\t\tbottomOffsetEm={1.5}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t\t<FixedIconContainer icon={door} widthEm={doorSize} bottomOffsetPc={bottomOffset} />\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nconst DoorScene = (props: { percentage: number }) => {\r\n\tconst { percentage } = props;\r\n\tconst hideAll = percentage <= 0.01 || percentage >= 0.99;\r\n\treturn <div>{!hideAll && <DoorSceneContents {...props} />}</div>;\r\n};\r\n\r\nexport default DoorScene;\r\n","import { useState, useCallback } from 'react';\r\n\r\nconst useStateWithTime = <T extends unknown>(initial: T, checkEquality = true) => {\r\n\tconst [value, setValue] = useState({ value: initial, time: Date.now() });\r\n\tconst setValueAndTime = useCallback(\r\n\t\t(newValue: T) => {\r\n\t\t\tif (!checkEquality || value.value !== newValue) {\r\n\t\t\t\tsetValue({ value: newValue, time: Date.now() });\r\n\t\t\t}\r\n\t\t},\r\n\t\t[checkEquality, value.value]\r\n\t);\r\n\r\n\treturn [value.value, setValueAndTime, value.time] as const;\r\n};\r\n\r\nexport default useStateWithTime;\r\n","import React, { useRef, useState, useEffect, useCallback } from 'react';\r\nimport useWindowScroll from '@react-hook/window-scroll';\r\nimport girlLightSkinTone from '@iconify/icons-twemoji/girl-light-skin-tone';\r\nimport useInterval from 'hooks/use-interval';\r\nimport useStateWithTime from 'hooks/use-state-with-time';\r\nimport FixedIconContainer from 'components/fixed-pos-icon-container';\r\n\r\nconst elementInWithinYRange = (element: HTMLDivElement, fromP: number, toP: number) => {\r\n\tconst { top } = element.getBoundingClientRect();\r\n\treturn top >= window.innerHeight * fromP && top <= window.innerHeight * toP;\r\n};\r\n\r\nconst elementPassedCentre = (element: HTMLDivElement) => {\r\n\tconst { top, bottom } = element.getBoundingClientRect();\r\n\r\n\tconst centre = (top + bottom) * 0.5;\r\n\tconst windowCentre = window.innerHeight * 0.5;\r\n\treturn windowCentre > 0 && centre < windowCentre;\r\n};\r\n\r\nconst GradySisters = () => {\r\n\tconst divRef = useRef<HTMLDivElement>(null);\r\n\r\n\tconst scrollPos = useWindowScroll(10);\r\n\r\n\tconst [hasDisplayedOnce, setHasDisplayedOnce] = useState(false);\r\n\tconst [display, setDisplay, lastSet] = useStateWithTime(false);\r\n\r\n\tconst doUpdate = useCallback(\r\n\t\t(doRandomDisplay: boolean) => {\r\n\t\t\tif (!divRef.current) return;\r\n\r\n\t\t\tconst isInRange = elementInWithinYRange(divRef.current, 0.2, 0.8);\r\n\t\t\tconst hasPassedCentre = elementPassedCentre(divRef.current);\r\n\r\n\t\t\tif (!isInRange) {\r\n\t\t\t\tsetDisplay(false);\r\n\t\t\t} else if (!hasDisplayedOnce) {\r\n\t\t\t\tif (hasPassedCentre) {\r\n\t\t\t\t\tsetDisplay(true);\r\n\t\t\t\t\tsetHasDisplayedOnce(true);\r\n\t\t\t\t}\r\n\t\t\t} else if (display) {\r\n\t\t\t\tif (Date.now() - lastSet > 700) setDisplay(false);\r\n\t\t\t} else if (doRandomDisplay) {\r\n\t\t\t\tconst randomValue = Math.random();\r\n\t\t\t\tconst randomDisplay = randomValue < 0.01;\r\n\t\t\t\tsetDisplay(isInRange && randomDisplay);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[display, hasDisplayedOnce, lastSet, setDisplay]\r\n\t);\r\n\r\n\tuseEffect(() => {\r\n\t\tdoUpdate(true);\r\n\t}, [scrollPos, doUpdate]);\r\n\r\n\tuseInterval(() => {\r\n\t\tdoUpdate(false);\r\n\t}, 100);\r\n\r\n\treturn (\r\n\t\t<div ref={divRef}>\r\n\t\t\t{display && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<FixedIconContainer\r\n\t\t\t\t\t\ticon={girlLightSkinTone}\r\n\t\t\t\t\t\twidthEm={5}\r\n\t\t\t\t\t\tbottomOffsetPc={50}\r\n\t\t\t\t\t\tbottomOffsetEm={-2.5}\r\n\t\t\t\t\t\tleftOffsetEm={-2.5}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<FixedIconContainer\r\n\t\t\t\t\t\ticon={girlLightSkinTone}\r\n\t\t\t\t\t\twidthEm={5}\r\n\t\t\t\t\t\tbottomOffsetPc={50}\r\n\t\t\t\t\t\tbottomOffsetEm={-2.5}\r\n\t\t\t\t\t\tleftOffsetEm={2.5}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tposition: 'fixed',\r\n\t\t\t\t\t\t\ttop: '50%',\r\n\t\t\t\t\t\t\tleft: '50%',\r\n\t\t\t\t\t\t\ttransform: 'translate(-50%, -50%)',\r\n\t\t\t\t\t\t\tfontFamily: 'consolas',\r\n\t\t\t\t\t\t\tcolor: 'black'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tCOME PLAY WITH US\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default GradySisters;\r\n","import bigTreeTile from 'img/tiles/tree_16x32.png';\r\nimport smallTreeTile from 'img/tiles/tree_16x16.png';\r\nimport grassTile from 'img/tiles/grass_16x16.png';\r\nimport mudLightTile from 'img/tiles/mud_light_16x16.png';\r\nimport shrubLightTile from 'img/tiles/shrub_light_16x16.png';\r\nimport roadTile from 'img/tiles/road_mark_16x16.png';\r\nimport waterTile from 'img/tiles/water_16x16.png';\r\nimport waterLeftEdgeTile from 'img/tiles/water_edge_left_16x16.png';\r\nimport waterRightEdgeTile from 'img/tiles/water_edge_right_16x16.png';\r\nimport waterTopEdgeTile from 'img/tiles/water_edge_top_16x16.png';\r\nimport waterTopRightEdgeTile from 'img/tiles/water_edge_top_right_16x16.png';\r\nimport waterTopLeftEdgeTile from 'img/tiles/water_edge_top_left_16x16.png';\r\nimport carSprite1 from 'img/sprites/yellow_car_1_32x16.png';\r\nimport carSprite2 from 'img/sprites/yellow_car_2_32x16.png';\r\nimport { FixedLengthArray } from 'utils/array-utils';\r\n\r\nconst imgFromSource = (src: string) => {\r\n\tconst img = new Image();\r\n\timg.src = src;\r\n\treturn img;\r\n};\r\n\r\nconst treeImg = imgFromSource(bigTreeTile);\r\nconst smallTreeImg = imgFromSource(smallTreeTile);\r\nconst grassImg = imgFromSource(grassTile);\r\nconst mudLightImg = imgFromSource(mudLightTile);\r\nconst shrubLightImg = imgFromSource(shrubLightTile);\r\nconst waterImg = imgFromSource(waterTile);\r\nconst waterLeftEdgeImg = imgFromSource(waterLeftEdgeTile);\r\nconst waterRightImg = imgFromSource(waterRightEdgeTile);\r\nconst waterTopEdgeImg = imgFromSource(waterTopEdgeTile);\r\nconst waterTopRightEdgeImg = imgFromSource(waterTopRightEdgeTile);\r\nconst waterTopLeftEdgeImg = imgFromSource(waterTopLeftEdgeTile);\r\nconst roadImg = imgFromSource(roadTile);\r\nconst carImg1 = imgFromSource(carSprite1);\r\nconst carImg2 = imgFromSource(carSprite2);\r\n\r\nconst BLANK_ROWS = 6; // This needs to be tuned for the current parallax settings to get the canvas into the centre\r\nconst ABOVE_ROAD_ROWS = 9;\r\nconst BELOW_ROAD_ROWS = 8;\r\nexport const CANVAS_WIDTH = 600;\r\nexport const CANVAS_HEIGHT = (BLANK_ROWS + ABOVE_ROAD_ROWS + BELOW_ROAD_ROWS) * 16;\r\n\r\ntype AboveRoadDefinition = FixedLengthArray<\r\n\t[HTMLImageElement, number] | null,\r\n\ttypeof ABOVE_ROAD_ROWS\r\n>;\r\n\r\ntype BelowRoadDefinition = FixedLengthArray<\r\n\t[HTMLImageElement, number] | null,\r\n\ttypeof BELOW_ROAD_ROWS\r\n>;\r\n\r\ntype SceneColumnDefinition = [AboveRoadDefinition, BelowRoadDefinition];\r\n\r\nfunction drawColumn(ctx: CanvasRenderingContext2D, def: SceneColumnDefinition) {\r\n\tconst drawCell = (img: CanvasImageSource, row: number, imgDim: [number, number]) => {\r\n\t\tconst y = (row + BLANK_ROWS) * 16;\r\n\t\tctx.drawImage(img, 0, y, imgDim[0], imgDim[1]);\r\n\t};\r\n\r\n\tdef[0].forEach((cell, i) => {\r\n\t\tif (cell) drawCell(cell[0], i, [16, cell[1] * 16]);\r\n\t});\r\n\r\n\tdrawCell(roadImg, ABOVE_ROAD_ROWS, [16, 16]);\r\n\r\n\tdef[1].forEach((cell, i) => {\r\n\t\tif (cell) drawCell(cell[0], i + 1 + ABOVE_ROAD_ROWS, [16, cell[1] * 16]);\r\n\t});\r\n}\r\n\r\nfunction drawCar(ctx: CanvasRenderingContext2D, sceneProgress: number) {\r\n\tconst carImg = Math.floor(sceneProgress % 8) > 4 ? carImg1 : carImg2;\r\n\tctx.drawImage(carImg, CANVAS_WIDTH / 2 - 8, (BLANK_ROWS + 9) * 16, 32, 16);\r\n}\r\n\r\nconst forestTop = (roadside: HTMLImageElement): AboveRoadDefinition => [\r\n\t[treeImg, 2],\r\n\tnull,\r\n\t[treeImg, 2],\r\n\tnull,\r\n\t[treeImg, 2],\r\n\tnull,\r\n\t[treeImg, 2],\r\n\tnull,\r\n\t[roadside, 1]\r\n];\r\n\r\nconst forestToLake = (\r\n\troadside: [HTMLImageElement, HTMLImageElement, HTMLImageElement]\r\n): AboveRoadDefinition => [\r\n\t[treeImg, 2],\r\n\tnull,\r\n\t[treeImg, 2],\r\n\tnull,\r\n\t[treeImg, 2],\r\n\tnull,\r\n\t[roadside[0], 1],\r\n\t[roadside[1], 1],\r\n\t[roadside[2], 1]\r\n];\r\n\r\nconst forestToLake1: AboveRoadDefinition = [\r\n\t[treeImg, 2],\r\n\tnull,\r\n\t[treeImg, 2],\r\n\tnull,\r\n\t[treeImg, 2],\r\n\tnull,\r\n\t[treeImg, 2],\r\n\tnull,\r\n\t[mudLightImg, 1]\r\n];\r\n\r\nconst forestToLake2 = forestToLake([smallTreeImg, mudLightImg, mudLightImg]);\r\nconst forestToLake3 = forestToLake([mudLightImg, mudLightImg, mudLightImg]);\r\n\r\nconst forestToLake4: AboveRoadDefinition = [\r\n\t[waterLeftEdgeImg, 1],\r\n\t[waterLeftEdgeImg, 1],\r\n\t[waterLeftEdgeImg, 1],\r\n\t[waterLeftEdgeImg, 1],\r\n\t[mudLightImg, 1],\r\n\t[mudLightImg, 1],\r\n\t[mudLightImg, 1],\r\n\t[mudLightImg, 1],\r\n\t[mudLightImg, 1]\r\n];\r\n\r\nconst lakeTop = (cutout?: HTMLImageElement): AboveRoadDefinition => [\r\n\t[waterImg, 1],\r\n\t[waterImg, 1],\r\n\t[waterImg, 1],\r\n\t[waterImg, 1],\r\n\t[cutout ?? mudLightImg, 1],\r\n\t[mudLightImg, 1],\r\n\t[mudLightImg, 1],\r\n\t[mudLightImg, 1],\r\n\t[mudLightImg, 1]\r\n];\r\n\r\nconst lakeTopMountain = (edge1: HTMLImageElement, edge2: HTMLImageElement): AboveRoadDefinition => [\r\n\t[edge1, 1],\r\n\t[edge2, 1],\r\n\t[waterImg, 1],\r\n\t[waterImg, 1],\r\n\t[mudLightImg, 1],\r\n\t[mudLightImg, 1],\r\n\t[mudLightImg, 1],\r\n\t[mudLightImg, 1],\r\n\t[mudLightImg, 1]\r\n];\r\n\r\nconst lakeTopMountainLeft = lakeTopMountain(waterRightImg, waterTopRightEdgeImg);\r\nconst lakeTopMountainMid = lakeTopMountain(mudLightImg, waterTopEdgeImg);\r\nconst lakeTopMountainRight = lakeTopMountain(waterLeftEdgeImg, waterTopLeftEdgeImg);\r\n\r\nconst forestBottom = (\r\n\troadside: HTMLImageElement,\r\n\troadside2?: HTMLImageElement\r\n): BelowRoadDefinition => [\r\n\t[roadside, 1],\r\n\t[roadside2 ?? smallTreeImg, 1],\r\n\t[treeImg, 2],\r\n\tnull,\r\n\t[treeImg, 2],\r\n\tnull,\r\n\t[treeImg, 2],\r\n\tnull\r\n];\r\n\r\nconst columnsAndDuration: readonly [SceneColumnDefinition, number][] = [\r\n\t[[forestTop(smallTreeImg), forestBottom(grassImg)], 30],\r\n\t[[forestTop(grassImg), forestBottom(grassImg)], 1],\r\n\t[[forestTop(mudLightImg), forestBottom(grassImg)], 3],\r\n\t[[forestTop(grassImg), forestBottom(grassImg)], 1],\r\n\t[[forestTop(smallTreeImg), forestBottom(grassImg)], 2],\r\n\t[[forestTop(smallTreeImg), forestBottom(mudLightImg)], 3],\r\n\t[[forestTop(smallTreeImg), forestBottom(grassImg)], 1],\r\n\t[[forestTop(grassImg), forestBottom(grassImg)], 1],\r\n\t[[forestTop(shrubLightImg), forestBottom(grassImg)], 2],\r\n\t[[forestTop(grassImg), forestBottom(grassImg)], 1],\r\n\t[[forestTop(smallTreeImg), forestBottom(grassImg)], 6],\r\n\t// transition to lake\r\n\t[[forestTop(grassImg), forestBottom(grassImg)], 1],\r\n\t[[forestToLake1, forestBottom(grassImg)], 1],\r\n\t[[forestToLake2, forestBottom(grassImg)], 1],\r\n\t[[forestToLake3, forestBottom(grassImg)], 1],\r\n\t[[forestToLake4, forestBottom(grassImg)], 1],\r\n\t// Lake top\r\n\t[[lakeTop(), forestBottom(grassImg)], 5],\r\n\t[[lakeTop(waterLeftEdgeImg), forestBottom(grassImg)], 1],\r\n\t[[lakeTop(waterImg), forestBottom(grassImg)], 3],\r\n\t[[lakeTop(waterRightImg), forestBottom(mudLightImg)], 1],\r\n\t[[lakeTop(), forestBottom(mudLightImg)], 5],\r\n\t[[lakeTop(), forestBottom(mudLightImg, mudLightImg)], 5],\r\n\t[[lakeTopMountainLeft, forestBottom(mudLightImg, mudLightImg)], 1],\r\n\t[[lakeTopMountainMid, forestBottom(mudLightImg, mudLightImg)], 4],\r\n\t[[lakeTopMountainRight, forestBottom(mudLightImg, mudLightImg)], 1],\r\n\t[[lakeTop(), forestBottom(mudLightImg, mudLightImg)], 5]\r\n];\r\n\r\nfunction getColumn(index: number): SceneColumnDefinition | null {\r\n\tlet cumulative = 0;\r\n\tfor (let i = 0; i < columnsAndDuration.length; ++i) {\r\n\t\tcumulative += columnsAndDuration[i][1];\r\n\t\tif (index < cumulative) return columnsAndDuration[i][0];\r\n\t}\r\n\treturn null;\r\n}\r\n\r\nexport function drawScene(ctx: CanvasRenderingContext2D, sceneProgress: number) {\r\n\tconst columnOffset = Math.floor(sceneProgress) % 16;\r\n\tconst columnIndex = Math.floor(sceneProgress / 16);\r\n\r\n\tctx.clearRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\r\n\r\n\tfor (let c = -1; c < CANVAS_WIDTH / 16 + 1; c += 1) {\r\n\t\tconst column = getColumn(columnIndex + c);\r\n\t\tif (column) {\r\n\t\t\tctx.save();\r\n\t\t\tctx.translate(c * 16 - columnOffset, 0);\r\n\t\t\tdrawColumn(ctx, column);\r\n\t\t\tctx.restore();\r\n\t\t}\r\n\t}\r\n\r\n\tdrawCar(ctx, sceneProgress);\r\n}\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport useInterval from 'hooks/use-interval';\r\nimport useStateWithTime from 'hooks/use-state-with-time';\r\nimport { CANVAS_HEIGHT, CANVAS_WIDTH, drawScene } from './driving-scene-drawing';\r\n\r\nconst elementIsWithinYRange = (element: Element) => {\r\n\tconst { top, bottom } = element.getBoundingClientRect();\r\n\treturn bottom > 0 && top < window.innerHeight;\r\n};\r\n\r\nconst clamp = (value: number, range: [number, number]) =>\r\n\tMath.max(range[0], Math.min(value, range[1]));\r\n\r\nconst useWindowKeyDown = (handler: (e: KeyboardEvent) => void) => {\r\n\tconst savedHandler = useRef(handler);\r\n\r\n\tuseEffect(() => {\r\n\t\tsavedHandler.current = handler;\r\n\t}, [handler]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst eventListener = (event: KeyboardEvent) => savedHandler.current(event);\r\n\r\n\t\twindow.addEventListener('keydown', eventListener);\r\n\r\n\t\treturn () => {\r\n\t\t\twindow.removeEventListener('keydown', eventListener);\r\n\t\t};\r\n\t});\r\n};\r\n\r\ninterface Props {\r\n\tclassName?: string;\r\n\tstyle?: React.CSSProperties;\r\n}\r\n\r\nconst LEFT_ARROW = 37;\r\nconst RIGHT_ARROW = 39;\r\nconst SPACE_BAR = 32;\r\n\r\nconst DrivingScene = (props: Props) => {\r\n\tconst canvasRef = useRef<HTMLCanvasElement>(null);\r\n\r\n\tconst [moving, setMoving] = useState(true);\r\n\tconst [speed, setSpeed] = useState(20); // pixels per second\r\n\tconst [sceneProgress, setSceneProgress, setProgressTime] = useStateWithTime(0, false);\r\n\r\n\tuseWindowKeyDown((e: KeyboardEvent) => {\r\n\t\tif (canvasRef.current && elementIsWithinYRange(canvasRef.current)) {\r\n\t\t\tconst { keyCode } = e;\r\n\t\t\tif (keyCode === LEFT_ARROW) {\r\n\t\t\t\tsetSpeed(speed - 1);\r\n\t\t\t} else if (keyCode === RIGHT_ARROW) {\r\n\t\t\t\tsetSpeed(speed + 1);\r\n\t\t\t} else if (keyCode === SPACE_BAR) {\r\n\t\t\t\tif (e.target === document.body) {\r\n\t\t\t\t\tsetMoving(!moving);\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tuseEffect(() => {\r\n\t\tif (canvasRef.current) {\r\n\t\t\tconst ctx = canvasRef.current.getContext('2d');\r\n\t\t\tif (ctx) {\r\n\t\t\t\tdrawScene(ctx, sceneProgress);\r\n\t\t\t}\r\n\t\t}\r\n\t}, [sceneProgress]);\r\n\r\n\tuseInterval(() => {\r\n\t\tif (!moving) {\r\n\t\t\t// Even if not moving, set the time so we update the time\r\n\t\t\tsetSceneProgress(sceneProgress);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst sinceLast = Date.now() - setProgressTime;\r\n\t\tconst speedToUse = clamp(speed, [5, 100]);\r\n\t\tconst distance = speedToUse * sinceLast * 0.001;\r\n\t\tsetSceneProgress(sceneProgress + distance);\r\n\t}, 1000 / 25);\r\n\r\n\treturn (\r\n\t\t<canvas\r\n\t\t\tref={canvasRef}\r\n\t\t\twidth={CANVAS_WIDTH}\r\n\t\t\theight={CANVAS_HEIGHT}\r\n\t\t\tstyle={props.style}\r\n\t\t\tclassName={props.className}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default DrivingScene;\r\n","import React, { useState } from 'react';\r\n\r\nimport { InlineIcon } from '@iconify/react';\r\nimport keyboardIcon from '@iconify/icons-twemoji/keyboard';\r\n\r\nconst textToRepeat = 'all work and no play makes Jack a dull boy ';\r\n\r\nconst alterText = (text: string) => {\r\n\tconst characters = text.length;\r\n\tconst repeats = Math.floor(characters / textToRepeat.length);\r\n\tconst extra = characters % textToRepeat.length;\r\n\treturn new Array(repeats).fill(textToRepeat).join('') + textToRepeat.slice(0, extra);\r\n};\r\n\r\nconst TypewriterScene = () => {\r\n\tconst [text, setText] = useState('');\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div>\r\n\t\t\t\t<InlineIcon icon={keyboardIcon} />\r\n\t\t\t\tLeave a comment\r\n\t\t\t\t<InlineIcon icon={keyboardIcon} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<textarea\r\n\t\t\t\t\tstyle={{ minHeight: '30vh', minWidth: '50vw' }}\r\n\t\t\t\t\tvalue={alterText(text)}\r\n\t\t\t\t\tonChange={e => setText(e.target.value)}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default TypewriterScene;\r\n","import React, { useState } from 'react';\r\nimport { Parallax, Background } from 'react-parallax';\r\nimport { useWindowSize } from '@react-hook/window-size';\r\nimport Logo, { LogoBackground } from 'components/logo';\r\nimport NoiseCanvas from 'components/noise-canvas';\r\nimport DivAutoHideContent from 'components/div-auto-hide-content';\r\nimport background from 'img/stmarylake.jpg';\r\nimport styles from 'app.module.scss';\r\nimport glitchStyles from 'glitch.module.scss';\r\nimport DoorScene from 'pages/door-scene';\r\nimport GradySisters from 'pages/grady-sisters';\r\nimport DrivingScene from 'pages/driving-scene';\r\nimport Typewriter from 'pages/typewriter-scene';\r\nimport DivWithOnYScrollEnter from 'components/div-on-scroll-to-visible';\r\n\r\nconst FourPageNoiseCanvas = () => {\r\n\tconst [width, height] = useWindowSize(undefined, undefined, { wait: 500 });\r\n\treturn (\r\n\t\t<NoiseCanvas\r\n\t\t\twidth={width}\r\n\t\t\theight={height * 4}\r\n\t\t\tclassName={styles.vh4}\r\n\t\t\tstyle={{ position: 'absolute', left: 0, top: 0 }}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nconst DrivingSceneFullScreen = () => {\r\n\treturn <DrivingScene className={styles.drivingSceneCanvas} />;\r\n};\r\n\r\nconst convertDoorScenePercentage = (percentage: number) => {\r\n\t// The start percentage depends on the height of the div in the current parallax section\r\n\tconst startP = 0.375;\r\n\treturn (percentage - startP) / (1 - startP);\r\n};\r\n\r\nconst scrollToId = (id: string) => {\r\n\tconst anchor = document.querySelector(`#${id}`);\r\n\tif (anchor) anchor.scrollIntoView({ behavior: 'smooth', block: 'end' });\r\n};\r\n\r\ntype NavID = 'top' | 'driving' | 'typewriter' | 'door-scene' | 'bottom';\r\n\r\nconst navDivProps = (clickId: NavID) => {\r\n\treturn {\r\n\t\tonClick: () => scrollToId(clickId),\r\n\t\trole: 'button'\r\n\t};\r\n};\r\n\r\nconst ArrowNav = (props: { clickId: NavID; type: 'up' | 'down' }) => {\r\n\tconst [fadeIn, setFadeIn] = useState(false);\r\n\tconst arrowName = props.type === 'up' ? styles.arrowUp : styles.arrowDown;\r\n\tconst className = `${arrowName} ${fadeIn ? styles.fadeIn : ''}`;\r\n\treturn (\r\n\t\t<DivWithOnYScrollEnter\r\n\t\t\tclassName={className}\r\n\t\t\tscrollFps={100}\r\n\t\t\tonEnterYRange={() => setFadeIn(true)}\r\n\t\t\tonLeaveYRange={() => setFadeIn(false)}\r\n\t\t\t{...navDivProps(props.clickId)}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nfunction App() {\r\n\treturn (\r\n\t\t<div className={styles.app}>\r\n\t\t\t<Parallax\r\n\t\t\t\tblur={{ min: -3, max: 5 }}\r\n\t\t\t\tbgImage={background}\r\n\t\t\t\tbgImageAlt=\"background\"\r\n\t\t\t\tbgImageStyle={{ opacity: '0.7' }}\r\n\t\t\t\tstrength={100}\r\n\t\t\t>\r\n\t\t\t\t<div className={styles.appPage} id=\"top\">\r\n\t\t\t\t\t<Logo />\r\n\t\t\t\t\tWELCOME TO THE\r\n\t\t\t\t\t<div className={glitchStyles.glitch} data-text=\"Overlook\">\r\n\t\t\t\t\t\tOverlook\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\tHOTEL\r\n\t\t\t\t\t<ArrowNav clickId=\"driving\" type=\"down\" />\r\n\t\t\t\t</div>\r\n\t\t\t</Parallax>\r\n\t\t\t<Parallax strength={200}>\r\n\t\t\t\t<div className={`${styles.appPage} ${styles.vh1point2}`} id=\"driving\" />\r\n\t\t\t\t<div className={styles.overlayArrowContainerPlus10vh}>\r\n\t\t\t\t\t<ArrowNav clickId=\"typewriter\" type=\"down\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<Background className={`${styles.vh1point2}`}>\r\n\t\t\t\t\t<DrivingSceneFullScreen />\r\n\t\t\t\t</Background>\r\n\t\t\t</Parallax>\r\n\t\t\t<Parallax strength={500}>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={`${styles.appPage} ${styles.vh1point5}`}\r\n\t\t\t\t\tid=\"carpet\"\r\n\t\t\t\t\t{...navDivProps('typewriter')}\r\n\t\t\t\t>\r\n\t\t\t\t\t<GradySisters />\r\n\t\t\t\t</div>\r\n\t\t\t\t<Background className={styles.vh2}>\r\n\t\t\t\t\t<LogoBackground />\r\n\t\t\t\t</Background>\r\n\t\t\t</Parallax>\r\n\t\t\t<Parallax strength={400}>\r\n\t\t\t\t<div className={styles.appPage} id=\"typewriter\">\r\n\t\t\t\t\t<Typewriter />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={styles.overlayArrowContainer}>\r\n\t\t\t\t\t<ArrowNav clickId=\"door-scene\" type=\"down\" />\r\n\t\t\t\t</div>\r\n\t\t\t</Parallax>\r\n\t\t\t<Parallax\r\n\t\t\t\tbgImage=\"dummy\"\r\n\t\t\t\tstrength={0}\r\n\t\t\t\trenderLayer={percentage => (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<FourPageNoiseCanvas />\r\n\t\t\t\t\t\t<DivAutoHideContent className={`${styles.appPage} ${styles.vh4}`} id=\"door-scene\">\r\n\t\t\t\t\t\t\t<DoorScene percentage={convertDoorScenePercentage(percentage)} />\r\n\t\t\t\t\t\t</DivAutoHideContent>\r\n\t\t\t\t\t\t<div className={`${styles.appPage} ${styles.vh4} ${styles.vignette}`} />\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t/>\r\n\t\t\t<div className={styles.appPage}>\r\n\t\t\t\t<span className={styles.calligraphy}>fin</span>\r\n\t\t\t\t<ArrowNav clickId=\"top\" type=\"up\" />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n","/* eslint-disable @typescript-eslint/no-use-before-define */\r\n/* eslint-disable no-console */\r\n// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n\twindow.location.hostname === 'localhost' ||\r\n\t\t// [::1] is the IPv6 localhost address.\r\n\t\twindow.location.hostname === '[::1]' ||\r\n\t\t// 127.0.0.0/8 are considered localhost for IPv4.\r\n\t\twindow.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\r\n);\r\n\r\ntype Config = {\r\n\tonSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n\tonUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n\t\t// The URL constructor is available in all browsers that support SW.\r\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL ?? '', window.location.href);\r\n\t\tif (publicUrl.origin !== window.location.origin) {\r\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\r\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\r\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\twindow.addEventListener('load', () => {\r\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n\t\t\tif (isLocalhost) {\r\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\r\n\t\t\t\tcheckValidServiceWorker(swUrl, config);\r\n\r\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\r\n\t\t\t\t// service worker/PWA documentation.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\r\n\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\r\n\t\t\t\t\t\t\t'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// Is not localhost. Just register service worker\r\n\t\t\t\tregisterValidSW(swUrl, config);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n\tnavigator.serviceWorker\r\n\t\t.register(swUrl)\r\n\t\t.then(registration => {\r\n\t\t\t// eslint-disable-next-line no-param-reassign\r\n\t\t\tregistration.onupdatefound = () => {\r\n\t\t\t\tconst installingWorker = registration.installing;\r\n\t\t\t\tif (installingWorker == null) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tinstallingWorker.onstatechange = () => {\r\n\t\t\t\t\tif (installingWorker.state === 'installed') {\r\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\r\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\r\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\r\n\t\t\t\t\t\t\t// content until all client tabs are closed.\r\n\t\t\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\r\n\t\t\t\t\t\t\t\t\t'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\r\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// At this point, everything has been precached.\r\n\t\t\t\t\t\t\t// It's the perfect time to display a\r\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\r\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.');\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\r\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t};\r\n\t\t})\r\n\t\t.catch(error => {\r\n\t\t\tconsole.error('Error during service worker registration:', error);\r\n\t\t});\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n\t// Check if the service worker can be found. If it can't reload the page.\r\n\tfetch(swUrl, {\r\n\t\theaders: { 'Service-Worker': 'script' }\r\n\t})\r\n\t\t.then(response => {\r\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\r\n\t\t\tconst contentType = response.headers.get('content-type');\r\n\t\t\tif (\r\n\t\t\t\tresponse.status === 404 ||\r\n\t\t\t\t(contentType != null && contentType.indexOf('javascript') === -1)\r\n\t\t\t) {\r\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\r\n\t\t\t\t\tregistration.unregister().then(() => {\r\n\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// Service worker found. Proceed as normal.\r\n\t\t\t\tregisterValidSW(swUrl, config);\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(() => {\r\n\t\t\tconsole.log('No internet connection found. App is running in offline mode.');\r\n\t\t});\r\n}\r\n\r\nexport function unregister() {\r\n\tif ('serviceWorker' in navigator) {\r\n\t\tnavigator.serviceWorker.ready\r\n\t\t\t.then(registration => {\r\n\t\t\t\tregistration.unregister();\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\tconsole.error(error.message);\r\n\t\t\t});\r\n\t}\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t<App />\r\n\t</React.StrictMode>,\r\n\tdocument.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}