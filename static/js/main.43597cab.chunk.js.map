{"version":3,"sources":["app.module.scss","components/logo.module.css","img/stmarylake.jpg","glitch.module.scss","img/tiles/tree_16x32.png","img/tiles/tree_16x16.png","img/tiles/grass_16x16.png","img/tiles/mud_light_16x16.png","img/tiles/shrub_light_16x16.png","img/tiles/road_mark_16x16.png","img/tiles/water_16x16.png","img/tiles/water_edge_left_16x16.png","img/tiles/water_edge_right_16x16.png","img/tiles/water_edge_top_16x16.png","img/tiles/water_edge_top_right_16x16.png","img/tiles/water_edge_top_left_16x16.png","img/tiles/snow_boulder_16x16.png","img/tiles/snow_ground_16x16.png","img/tiles/snow_ground_rocks_16x16.png","img/tiles/snow_grass_16x16.png","img/tiles/snow_stump_left_16x32.png","img/tiles/snow_stump_right_16x32.png","img/tiles/overlook_hotel_192x80.png","img/sprites/yellow_car_1_32x16.png","img/sprites/yellow_car_2_32x16.png","components/logo.tsx","hooks/use-interval.ts","components/noise-canvas.tsx","components/div-on-scroll-to-visible.tsx","components/div-auto-hide-content.tsx","components/fixed-pos-icon-container.tsx","pages/door-scene.tsx","hooks/use-state-with-time.ts","pages/grady-sisters.tsx","img/image-utils.ts","img/tiles.ts","img/sprites.ts","pages/driving-scene-drawing.ts","pages/driving-scene.tsx","hooks/use-request-animation-frame.ts","pages/typewriter-scene.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","buildHexPoints","radius","midX","midY","map","n","i","index","angleDeg","angleRad","Math","PI","cos","sin","hexPointFromEdgeIndex","buildHexPointsString","p","join","SVGElements","props","size","buildHex","color","points","fill","outerSize","BackgroundSVGElements","width","hexWidth","lineThickness","hexRad","sqrt","buildMainLogo","centreX","centreY","includeOuter","buildFillLine","top","x","y","height","hOffset","vOffset","topX","topY","leftX","leftY","topLeftY","rightX","rightY","topRightY","bottomX","bottomY","LogoBackground","id","patternUnits","Logo","className","styles","logo","viewBox","useInterval","callback","delay","savedCallback","useRef","useEffect","current","setInterval","clearInterval","NoiseCanvas","canvasRef","noiseFrames","currentFrame","ctx","getContext","Array","idata","createImageData","buffer32","Uint32Array","data","buffer","len","length","random","createNoise","putImageData","ref","style","DivWithOnYScrollEnter","children","scrollFps","onEnterYRange","onLeaveYRange","rest","divRef","scrollPos","useWindowScroll","useState","inYRange","setInYRange","element","getBoundingClientRect","bottom","window","innerHeight","elementInWithinYRange","DivAutoHideContent","show","setShow","FixedIconContainer","position","yOffsetPc","yOffsetEm","left","xOffsetEm","transform","icon","widthEm","hFlip","stageToIndex","s","DoorSceneContents","stageAndP","zeroToN","stage","relativeP","stageAndRelativeProgress","percentage","stageIndex","yOffset","doorSize","axeOffset","maxOffset","calcAxeOffset","faceOffset","calcFaceOffset","angry","axe","door","DoorScene","hideAll","useStateWithTime","initial","checkEquality","value","time","Date","now","setValue","setValueAndTime","useCallback","newValue","GradySisters","hasDisplayedOnce","setHasDisplayedOnce","display","setDisplay","lastSet","doUpdate","doRandomDisplay","isInRange","fromP","toP","hasPassedCentre","centre","windowCentre","elementPassedCentre","randomValue","girlLightSkinTone","fontFamily","htmlImageFromSource","src","img","Image","tree","imgFromSource","bigTreeTile","smallTree","smallTreeTile","grass","grassTile","mudLight","mudLightTile","shrubLight","shrubLightTile","water","waterTile","waterLeftEdge","waterLeftEdgeTile","waterRightEdge","waterRightEdgeTile","waterTopEdge","waterTopEdgeTile","waterTopRightEdge","waterTopRightEdgeTile","waterTopLeftEdge","waterTopLeftEdgeTile","road","roadTile","snowBoulder","snowBoulderTile","snowGround","snowGroundTile","snowGroundRocks","snowGroundRocksTile","snowGrass","snowGrassTile","snowStumpLeft","snowStumpLeftTile","snowStumpRight","snowStumpRightTile","hotel","overlookHotelTile","car1","carSprite1","car2","carSprite2","drawColumn","def","drawCell","row","drawImage","forEach","cell","tile","forestTop","roadside","forestToLake","forestToLake1","forestToLake2","forestToLake3","forestToLake4","lakeTop","cutout","lakeTopMountain","edge1","edge2","lakeTopMountainLeft","lakeTopMountainMid","lakeTopMountainRight","getLakeTopTransitionCell","nGround","nEdges","lakeTopTransition","getLakeTopTransition2Cell","nBoulders","lakeTopTransition2","getSnowTopCell","includeTree","treePos","snowTop","overlookTop","overlookTop2","afterOverlookTop","forestBottom","roadside2","getWinterBottomTransitionCell","imgForCell","c","offsetCell","winterBottomTransition","winterBottom","columnsAndDuration","DISTANCE_TO_HOTEL","reduce","a","b","getColumn","cumulative","drawScene","sceneProgress","alpha","columnOffset","floor","columnIndex","clearRect","globalAlpha","CANVAS_WIDTH","column","save","translate","restore","carImg","sprite","drawCar","PROGRESS_VALUE_OUTSIDE_HOTEL","TOTAL_SCENE_LENGTH","TOTAL_SCENE_LENGTH_PLUS_FADE_IN","DrivingScene","onEndScene","moving","setMoving","speed","setSpeed","setSceneProgress","setProgressTime","handler","savedHandler","eventListener","event","addEventListener","removeEventListener","useWindowKeyDown","e","elementIsWithinYRange","keyCode","target","document","body","preventDefault","number","convertNumberKeyCodeToNumber","range","sinceLast","speedToUse","max","min","newProgress","progress","deps","sceneProgressForDraw","FADE_LENGTH","requestAnimationFrame","cancelAnimationFrame","textToRepeat","alterText","text","characters","repeats","extra","slice","TypewriterScene","setText","keyboardIcon","minHeight","minWidth","onChange","FourPageNoiseCanvas","useWindowSize","undefined","wait","vh4","convertDoorScenePercentage","DrivingSceneFullScreen","drivingSceneCanvas","navDivProps","clickId","onClick","anchor","querySelector","scrollIntoView","behavior","block","scrollToId","role","FadeInDiv","longFade","fadeIn","setFadeIn","classNameToUse","fadeIn3s","fadeIn2s","ArrowNav","arrowName","type","arrowUp","arrowDown","App","app","blur","bgImage","background","bgImageAlt","bgImageStyle","opacity","strength","appPage","glitchStyles","glitch","data-text","vh1point2","overlayArrowContainerPlus10vh","vh1point5","vh2","overlayArrowContainer","renderLayer","vignette","calligraphy","siteUpdateText","Boolean","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.43597cab.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"app_app__1Uy6u\",\"appPage\":\"app_appPage__We3tK\",\"calligraphy\":\"app_calligraphy__1XrDg\",\"vh1point2\":\"app_vh1point2__2BV1c\",\"vh1point5\":\"app_vh1point5__YvjLz\",\"vh2\":\"app_vh2__oHNJ_\",\"vh3\":\"app_vh3__2bPd2\",\"vh4\":\"app_vh4__2izdf\",\"drivingSceneCanvas\":\"app_drivingSceneCanvas__3WLXt\",\"siteUpdateText\":\"app_siteUpdateText__2b7oj\",\"vignette\":\"app_vignette__z5He4\",\"vignette-anim\":\"app_vignette-anim__2ss0N\",\"arrowUp\":\"app_arrowUp__2-1yX\",\"arrowRight\":\"app_arrowRight__2osVl\",\"arrowLeft\":\"app_arrowLeft__2H4iY\",\"arrowDown\":\"app_arrowDown__1z9-Y\",\"overlayArrowContainer\":\"app_overlayArrowContainer__39Nna\",\"overlayArrowContainerPlus10vh\":\"app_overlayArrowContainerPlus10vh__2CwCY\",\"fadeIn2s\":\"app_fadeIn2s__3oIJ8\",\"fadein\":\"app_fadein__3LzNg\",\"fadeIn3s\":\"app_fadeIn3s__XEI1j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logo\":\"logo_logo__mTUnK\",\"logo-float\":\"logo_logo-float__uraBD\"};","module.exports = __webpack_public_path__ + \"static/media/stmarylake.b2970c56.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"glitch\":\"glitch_glitch__3nVK2\",\"noise-anim\":\"glitch_noise-anim__17aSe\",\"noise-anim-2\":\"glitch_noise-anim-2__1_meq\"};","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAgCAIAAACU62+bAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAFJSURBVDhPvZHBdQMxCER9dCspIW1sCykhtbkNt5R89vNGrOxcw8NogBnByrev5/3xc8yIf572Wsdv5h/fSxkqYNaNl5w2cQpmXVxIN5eEQ8KjMeKXTTTwcdStCrRoepYlIliegmAj3V6JXKM6rzdqa0LuxmGDJy9imTWFhEhVjTJ509XUhLrnNNkbD3eshH6lsAEwAoxqeqWwiZo8wcTEEnB492xP2zSdIPBDVVrEwNY7R+BKmHMySqc+2ZeVAPSmzLszwdgPIiNsSZtDW6+kyd54OPoQ6lY1sgEwAoxqoK0JMjR5gomJJeDw7tmetmk6QeCHqrSIgfNK2j/8D/xM0vvLZfZK5mm8BVzH5PU/WN0AFgytvsEDmVUMnN26dBallYAjbg+HPVO9JyR3SxsK8KkpgUdKriHIYraglUC2iQ08o3S7RXjefwEVnQW4EjUaJAAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAFMSURBVDhPdZGxTgJREEXfLhaSUGC5BYUlFiaYUOwWfoCFJttaUlrSUvILFH4ApVuYwA+YrJ1bkEhBQQHJUpBoYkNhouflwvOhOIHZuTNzZ+7OBp2X47R1lRVj540x/aTE9/LoV97a6CuF0+wavOI4jl3g5+X3MGW8T/DzigP+WqW9iDkbFMB8uMHX8xjoqwqJ1P1615J07K2/U2yM8uIAQ0VkeUUw85hdllvme/IsD4c8nSFYuzSebHOeqg89eBckt/aeliBjNj+6NV5NeMjia27AKXgoRff0NCM4aBoRSrqwulX4G0RRhAR7JTj/Nfmw82BV2SuBoSqrWO/tv7oamG4/nA4s476qcS7O4qBs70oY30tlrcWAcBTLKtWbOeXpagaoXs4Y/HHfXl88LSaftcfrYjHZNJaN8yOqmrKVJOC0seqk96PTLcyK8Te/AO6lU5ZpFAAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAB1SURBVDhPY0w+xxFk6LXu/DY4yQAGyCLI4gxb/wcB9WgWMwBJCBuZxBRH4QOlkeWwijMCMcQqLLaDAZo4E5CFJgoXwSqOxQ34/YNwEhAgmwcVAgNkcSaoGHGqgVwsfgArA4lgFR+NB2TzoEJggCxOYjwwMAAA/pkpR8/QYFUAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAB0SURBVDhP1dHBDcAgCAVQx+gojtYxHKGjdAxH6bESyBc/mJ6b/Hh4SkAtd6ua/nSsPuRScJ0H6ZCdSwEpkrqNFE9rohftjmCYnc9Le/UI0XUpGPmssVfChk/qs0P6JhC4dSDFANGlgBRJ3UaKpzXR//8Prb7iXZnQM/6r1wAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAACiSURBVDhPY0w4wcEABgEGHhsu7ICQEBEIQBNnAuITK37ARSsqNkBEcIprFDBs+BGARgKtxSXOLGLB8EXkgYwOy4IJVywiOG68uPPkyh8gF0hiFYc6CUhCAJANlIY7CSIIBHBxkKchEnB1EDaQxCoODSVMpch6gADORQQrXBEaQBMH+QECOjoCgCQwBCFcOEATH40HiBCEi6wHCOBcEuOBgQEAfFDxOJjdqpUAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAxSURBVDhPY5w/fz4DKYAJShMNRqQGFiAO9DCEcOBg/Y7zQBKrOMk2jEYcMYBEDQwMAAQYCdtnSiDpAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABLSURBVDhPY8xI+MGAAQIiGDasgLKRAVCcCcqEAaAQEGCqhotjtwEPQLeBIEBogFiKCdDEyXUSkcYDAZU8jcfC0XjABJjiJNrAwAAAQYAdksAVr3EAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAFmSURBVDhPY2RhV/y95R9jGOP/Vf8F0oSPlJxz6dMQYLnfPu3H9nkMbBwMQPDrB4LBdLjyvXCG+v914ozBcqcqLxs0ex6pvP+PRXbfEoQi51gQCQRAEaaXn/6Ic39RyOX+v/GXdqPb9ea9zj1WQDlWdpAKIAAq2rsYqhkImP7///+PRVCc6wtnNNvvJW+Mmqx5Of4sSr7zCWwkJmD68pN1Sfy+J18kL9Sf4IyXOFd39PMPFmTVyE4CAiYxPla/Ga778reZdPhdrNlm1moPtIEP5nogQHcSM+NHaYEf5m32Zys3adW5nKo+CLQhbq4KJyOKX+GAKXOF7ZNXX0/XHNJv8brauMeozXdP8VGIHLLBcMD05NW353P/qhWbf1/4wqDVC2gP0FUcjH+cYqAqgADuASCDaV/pdeFkPmCYMvqzAf0AdBXQth//WQYwHpiFOEiLB17236TFw9/3P0iLh8qDDiTEAwMDAOSx8c06LhJCAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAFMSURBVDhPY1yx4//exQxsHAxA8OsHlMHGyrD7GMfXX5LHGlg+/WB59fpGyAwNPo4/314xsSCrdo5lgHM/vWXhFZW98uAckO0xwXNv8bHff37LM0gzZif/B8mDAdyGj28YFm9gEOAQkNHUu3f//ZGW+5++Mzu1aPz7eJIFrBIdiEoyMDIy/v//H0IyM4qIq2o9n/37cA4vE1QJzElAEgheP2eAq77PcP/v/zcvnjx/efu6yZTPIA0QRUDHwD0AtIFXgOfZXJVHDJ+BXCB5pe69VvWHk/GMTMgGQ1RDgKik6LuvDMwMvEA2NwPvpRdvWRklHRb+B9kANxgNiEqI3qkS4GVQXBXNyC0ifGbSJyEuA5zxcPC04uP3oHj48Or9hz/3Q2dYAeOB+dNfnPHw5sVrMVHZB88g8WA3aOPBktR4uFxBYjwYdpAYD4pKxgBxxvPiVe9Z6QAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAF0SURBVDhPY9iWxcDAYreznPnFbOebk0xvTXaf4Mbw8f//RYHYxRle/P//dI6ymJq3pIoNEC3PZ3jz//+9//dwiTP9Z2B49oFzeuThTXnnGNmEBbgY/jAwMDOIAEms4iwvJhqefXpfUpDDsd/1dPlGwzb/0xIqH74ycrBxYBVnnJjI4Grvef3+UUEuhpiFjmtStrFwWrAwsxy7cszJyAlTnAmo+sHjPfGLXPk4//CzvI5d6Kgo+u/U9VNA1VjFmZ48O5iy3OtMxSb7LjMOTg62/1+0qwTUJJhxiTNq6uqys3x4+0PwWvvHz99Zzt+5K8DJEL3AkJPxD1ZxxrV7/u9fysDCxvD+K8Pvnwyc3AxAwMHA4BTDgFWcacd8hv9MDL//MLD9Z/BLZmD6zcDBDAo/XOKM2cnAmICCXz8Y2ICGYABkcSYoTTRAaAAa4xwLItEAmjjISXAb4QwIwCrOBOTADUBTjVWcMTUa5GlkIQjAVAoCDAwAAlvpXSX2OZIAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAGFSURBVDhPY1yx4//exQxsHAxA8OsHlMHGyrDlsOq02OdP33N8uv82YeX/8wWMdhP+MzGKMCGrdo4FkRDAy/EneYEZF9sPGxfH0zmMhhP+T/Bi/P3/DRNENRAAGXDNQPD5Bwsn6w89Cdmvbx4bTvm/JJqRV5v/TIMkE1QeFXz6wbAo+c771++Vs66zMLPc7dVlEue20rE6+egFQgOak959ZfjGKvl+oebV18/PPr1vp2+3++D2zHn/QRogipCd9OcPg4qsxuqMY2IlsvLCv33MrQ5dPORq7zk7lZEJ2WC4B4Dgx68f4qJW2woOxi92VS/5rS7JfP3+URk5YcbU6P9AaWSlQPDlJ0OFLccvRkkONo7bj24IcTNEzTfkZf8NlMIeD0CGRTjIhazsDCwsDL9/MAjxg8R//2TAHg9AkRMrGQT5GHjYGZh+M3glMHz9wvD7DwMDMwNjdjLISRAAtwENIItjjwc8AGc8wAGaOMhJcBvhDAjAKo4zHnCJY48HIMBUCgIMDABNyrlnqq7DegAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAGLSURBVDhPY2Rg4Pt/QIvR+9f/LSyMQdz/133jjeNS5L/fOPH+9nkMbBwMQPDrB4LB9P//R0aHE/+/nGX0+XOz8whnvMS5uqM//rPsW4JQ5BwLIoEAKMJ0qIDx////jIxy/7ewqpfbXKrd7tJrDZRjZQepAAKgor2LoZqBgOnCJ4YLEw23tbxkDOL6v/67UZM1L8efRcl3PoGNxARMqfP+H7p4QUHGeVvxUfE04bO1R55+4EBWjewkIGCcmc5ga+l56OKhCHtT05rvX/9JLE3Y//bLp+2P/jP9RngD4SRJGeHr94+qSTCrlXH/+M0JVP3sI9fP9wy/Uf0KB4xySkoCQtyffrAsTTj/5RfD5x8MQNVRk/5HeDLwCaMohQDGdXv/AwMBGCaff4JMZQWr+PKCIbAAEThwJwEZTMDYYWBm+P2HAehirwQQycHMICKNohrZbYzZyf9BTDCAm4QGkMWZoDTRAKEB2WpkgCYOchLcRjgDArCKMwE5WMMblzhjajTI08hCEICpFAQYGACQlMHpvocT5gAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAEcSURBVDhPZZFLSgNREEXt1hUEHAt2ViEZxyDuJY5FsIXgOO5F8nFkUFyE6ER3kYHxlKcpXtpLdfV9Vfd1fbra/ewOCnyunh5f3+RX93f4niDOaUY+FmuPEKynqRU93LRVHdWwZjKmDmZqfn1LCusiKAgpLY0gnzdVljqKSwXyw4BS08lY7mBk61RAkpOezlo5wVzD8OK84mU5QOJydCbBl5yNIePCXks9dX5YtcfYUiZA9D1rMYLo/BUgNd1aOWOo4Q5jNbb0lw9wOY45AMgNakS84FFeM0cum99HyOp44mVL8kOe5eYZPxg2x9stCZt5//rGr142+NOTJm92MwD3bcIi/xFd0QzMFu1SJC9JDMbjHRGhAoq0mHOx/gWkLB6oLh+RgAAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAB0SURBVDhPY7yzbScDGCh7uN3dsYsgmwmItxw5BuRARIFcCBuXONQGOB9IIgNMccb///4j84EqgFxMdXBx7H4AOsbHxgrCRhMHaUAWQgZYxZmAGC4KVAEngQCrOCiU4BygCqClEHW4xEfjAQ1gFad1PDAwAAAQDcL5aBJPMAAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAEFSURBVDhPbVJLDgFBFJxuZ7CWGHeQiDUycQOZnYUV1iJBItbcRWTYCXEIYcMtLFCjJqW1qaQ771PvvXo9Yy6bbeBgfTzhbtdrcmUDYathcWCRh3swn4JRiZofwreStGuysziwlFiNp2KTRJAGpJKQkP8PT5XFQVdKEtSbIjmTQcsQcwzBcAcaa5ajCQwGMwcYLmbei+VKTXfgRFS6Wj2o2P8OSnArtwUicNMd5ON2NWA3Brkbi/0Jghq5Q1D5U0CSGLlLp9+BPNz8L9RbyzBCYeb1fDGBt8I05PC+CrILbBicXIirmYByKYx63eSwx/sWHw8Gz7c7bHbpd+Jsh1ytws9XCoI3KCC5in0JHKkAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAACrSURBVDhPY/wPBAwUACYoTRLYfeYxGIMA0QbANIDoAxfvM7iayIL5DCAv4AO7Tj+CsiDsqjkHoTwIn6ALQLbBbEcGMDGiArF67iEGB31FsLORDQMZTtALMADzCoyGeWVgohEZgA0A+QtbQBEDwAaAAgc5tEkyDDmeQQGDzEdm4wJwL6ADkBg4mggARpCtoDiGAVhcgzS3JttBRfEAkDNgcYoe18QACtMBAwMAc8M+WeVHGJAAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAgCAIAAACU62+bAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAD4SURBVDhP1ZJLDsIwDER7bjZcgdMgcRfO0jLmpRPXpIQt1ij1540TJJZt3aZ63h+Lo8yKjN4uV+VRFiJLkFBBSqxTQ6Z1uj82xNU7nZunN2iA2K0TWufYkNdn+ldDvmpiMOf8YIgFe0BwCSPlUjdE8V6sHI85mqgbIJyzD9TrpQPkTeQxTn+KNuIj5bEhmvTRwCBBY6DfA1qzVqc32IAowwBNiy4JuVE68eNE6/TDGEjKvagbMs1tVjZYzSAVg2kDKAxlh0o4h0faGIVaQJ8ooSZ0GHhGm+xR/NWA1BrKfuUHw5nw2DY3SPIESpTZF7UXlu5U/29Ytxe4o3cKGC2IBgAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAgCAIAAACU62+bAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAERSURBVDhPhZA7EsIwDAU5Nw1XoOQkDJyEhoor0FEQnlnNsyLno3kEWd6Nkxxcz+t9+k67aZxyPp7Q1BSipBEkawXKiT3oHBMl7QQ/PZquOsTDkn4CBM7GIbN3wKFfe5P+leA02hH0M21TWRVGmkYCpeVM0C/fONPude0CnKLtTKvypAv8sWGahgm9gBA8cnniuZoulIImMSpC3lCxhPCSpguG8lWC4qZJ/zfZF3IfkqFRYJeHUR8CU1CKJVtEQgCoRVAxURD6ro8rwmI1ZhTU5HACEdkfKdMFygki33iRc7jv7Mbee7w+ipckPmtBncvtjWMzXnqMCTsMtwS4fIj6VQHOGrSaVUGBsMBwS1jId/oBCKcI5EyL6zEAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/yellow_car_1_32x16.165b4b46.png\";","module.exports = __webpack_public_path__ + \"static/media/yellow_car_2_32x16.fc2bd6f8.png\";","import React from 'react';\r\nimport styles from './logo.module.css';\r\n\r\nconst logoMainDark = '#2e1c01';\r\nconst logoMainOrange = '#ffb347';\r\nconst logoMainRed = '#ff443a';\r\n\r\nconst logoBackgroundDark = 'black';\r\nconst logoBackgroundOrange = '#ea8900';\r\nconst logoBackgroundRed = '#c30a00';\r\n\r\nconst hexPointFromEdgeIndex = (\r\n\tindex: number,\r\n\tradius: number,\r\n\tmidX: number,\r\n\tmidY: number\r\n): [number, number] => {\r\n\tconst angleDeg = 60 * index - 30;\r\n\tconst angleRad = (Math.PI / 180) * angleDeg;\r\n\treturn [midX + radius * Math.cos(angleRad), midY + radius * Math.sin(angleRad)];\r\n};\r\n\r\nconst buildHexPoints = (radius: number, midX: number, midY: number): [number, number][] => {\r\n\treturn [0, 1, 2, 3, 4, 5, 6].map((n, i) => hexPointFromEdgeIndex(i, radius, midX, midY));\r\n};\r\n\r\nconst pointsToString = (points: [number, number][]) => points.map(p => p.join(',')).join(' ');\r\n\r\nconst buildHexPointsString = (radius: number, midX: number, midY: number) => {\r\n\treturn pointsToString(buildHexPoints(radius, midX, midY));\r\n};\r\n\r\nconst SVGElements = (props: { size: number }) => {\r\n\tconst { size } = props;\r\n\tconst buildHex = (radius: number, color: string) => {\r\n\t\tconst p = buildHexPointsString(radius, size * 0.5, size * 0.5);\r\n\t\treturn <polygon points={p} fill={color} />;\r\n\t};\r\n\r\n\tconst outerSize = size * 0.5;\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{buildHex(outerSize, logoMainDark)}\r\n\t\t\t{buildHex(outerSize * 0.8, logoMainOrange)}\r\n\t\t\t{buildHex(outerSize * 0.6, logoMainDark)}\r\n\t\t\t{buildHex(outerSize * 0.4, logoMainRed)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nconst hexMinorToMajorDimension = (w: number) => (w * 2) / Math.sqrt(3);\r\n\r\nconst BackgroundSVGElements = (props: { width: number }) => {\r\n\tconst { width } = props;\r\n\r\n\tconst hexWidth = (width * 8) / 7;\r\n\tconst lineThickness = hexWidth / 8;\r\n\tconst hexRad = hexMinorToMajorDimension(hexWidth) * 0.5;\r\n\r\n\tconst buildMainLogo = (centreX: number, centreY: number, includeOuter: boolean) => {\r\n\t\tconst buildHex = (radius: number, color: string) => {\r\n\t\t\tconst p = buildHexPointsString(radius, centreX, centreY);\r\n\t\t\treturn <polygon points={p} fill={color} />;\r\n\t\t};\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t{includeOuter && buildHex(hexRad, logoBackgroundDark)}\r\n\t\t\t\t{buildHex(hexRad * 0.75, logoBackgroundOrange)}\r\n\t\t\t\t{buildHex(hexRad * 0.5, logoBackgroundDark)}\r\n\t\t\t\t{buildHex(hexRad * 0.25, logoBackgroundRed)}\r\n\t\t\t</>\r\n\t\t);\r\n\t};\r\n\r\n\tconst buildFillLine = (centreX: number, top: number) => {\r\n\t\tconst x = centreX - lineThickness * 0.5;\r\n\t\treturn <rect x={x} y={top} width={lineThickness} height={hexRad} fill={logoBackgroundDark} />;\r\n\t};\r\n\r\n\tconst hOffset = hexRad * 0.75;\r\n\tconst vOffset = hexRad * 0.82;\r\n\r\n\tconst topX = width * 0.5;\r\n\tconst topY = width * 0.5;\r\n\r\n\tconst leftX = topX - hOffset;\r\n\tconst leftY = topY + vOffset;\r\n\tconst topLeftY = leftY - 2.6 * vOffset;\r\n\r\n\tconst rightX = topX + hOffset;\r\n\tconst rightY = leftY;\r\n\tconst topRightY = topLeftY;\r\n\r\n\tconst bottomX = topX;\r\n\tconst bottomY = topY + vOffset * 2;\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{buildMainLogo(topX, topY, true)}\r\n\t\t\t{buildMainLogo(leftX, leftY, false)}\r\n\t\t\t{buildMainLogo(rightX, rightY, false)}\r\n\t\t\t{buildMainLogo(leftX, topLeftY, false)}\r\n\t\t\t{buildMainLogo(rightX, topRightY, false)}\r\n\t\t\t{buildMainLogo(bottomX, bottomY, false)}\r\n\t\t\t{buildFillLine(topX, topY + hexRad * 0.25)}\r\n\t\t\t{buildFillLine(leftX, leftY - 1.25 * hexRad)}\r\n\t\t\t{buildFillLine(rightX, rightY - 1.25 * hexRad)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport const Logo = () => {\r\n\t// All measurements done relative to this number, but it doesn't appear to matter what this number is\r\n\t// But don't really want to hardccode the numbers below in case there becomes a need to change it\r\n\tconst dimension = 1;\r\n\r\n\treturn (\r\n\t\t<svg className={styles.logo} viewBox={`0 0 ${dimension} ${dimension}`}>\r\n\t\t\t<SVGElements size={dimension} />\r\n\t\t</svg>\r\n\t);\r\n};\r\n\r\nexport const LogoBackground = () => {\r\n\tconst width = 30;\r\n\tconst height = width * 1.41;\r\n\treturn (\r\n\t\t<svg width=\"100%\" height=\"100%\">\r\n\t\t\t<defs>\r\n\t\t\t\t<pattern\r\n\t\t\t\t\tid=\"pattern\"\r\n\t\t\t\t\tx=\"0\"\r\n\t\t\t\t\ty=\"0\"\r\n\t\t\t\t\twidth={width}\r\n\t\t\t\t\theight={height}\r\n\t\t\t\t\tpatternUnits=\"userSpaceOnUse\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<BackgroundSVGElements width={width} />\r\n\t\t\t\t</pattern>\r\n\t\t\t</defs>\r\n\t\t\t<rect x=\"0\" y=\"0\" width=\"100%\" height=\"100%\" fill=\"url(#pattern)\" />\r\n\t\t</svg>\r\n\t);\r\n};\r\n\r\nexport default Logo;\r\n","import { useRef, useEffect } from 'react';\r\n\r\nconst useInterval = (callback: () => void, delay: number) => {\r\n\tconst savedCallback = useRef<Function>();\r\n\r\n\tuseEffect(() => {\r\n\t\tsavedCallback.current = callback;\r\n\t}, [callback]);\r\n\r\n\tuseEffect(() => {\r\n\t\tfunction tick() {\r\n\t\t\tif (savedCallback.current) savedCallback.current();\r\n\t\t}\r\n\r\n\t\tconst id = setInterval(tick, delay);\r\n\t\treturn () => clearInterval(id);\r\n\t}, [delay]);\r\n};\r\n\r\nexport default useInterval;\r\n","import React, { useEffect, useRef } from 'react';\r\nimport useInterval from '../hooks/use-interval';\r\n\r\nconst createNoise = (ctx: CanvasRenderingContext2D, width: number, height: number) => {\r\n\tconst idata = ctx.createImageData(width, height);\r\n\tconst buffer32 = new Uint32Array(idata.data.buffer);\r\n\tconst len = buffer32.length;\r\n\r\n\tfor (let i = 0; i < len; i++) {\r\n\t\tif (Math.random() < 0.3) {\r\n\t\t\tbuffer32[i] = 0xff222222;\r\n\t\t}\r\n\t}\r\n\r\n\treturn idata;\r\n};\r\n\r\ninterface Props {\r\n\twidth: number;\r\n\theight: number;\r\n\tclassName?: string;\r\n\tstyle?: React.CSSProperties;\r\n}\r\n\r\nconst NoiseCanvas = (props: Props) => {\r\n\tconst canvasRef = useRef<HTMLCanvasElement>(null);\r\n\r\n\tconst noiseFrames = useRef<ImageData[]>([]);\r\n\tconst currentFrame = useRef<number>(0);\r\n\r\n\tconst { width, height } = props;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (canvasRef.current) {\r\n\t\t\tconst ctx = canvasRef.current.getContext('2d');\r\n\t\t\tif (ctx) {\r\n\t\t\t\tnoiseFrames.current = Array(10)\r\n\t\t\t\t\t.fill(0)\r\n\t\t\t\t\t.map(() => createNoise(ctx, width, height));\r\n\t\t\t}\r\n\t\t}\r\n\t}, [width, height]);\r\n\r\n\tuseInterval(() => {\r\n\t\tif (noiseFrames.current.length === 0) return;\r\n\r\n\t\tcurrentFrame.current =\r\n\t\t\tcurrentFrame.current === noiseFrames.current.length - 1 ? 0 : currentFrame.current + 1;\r\n\r\n\t\tif (canvasRef.current) {\r\n\t\t\tconst ctx = canvasRef.current.getContext('2d');\r\n\t\t\tif (ctx) {\r\n\t\t\t\tctx.putImageData(noiseFrames.current[currentFrame.current], 0, 0);\r\n\t\t\t}\r\n\t\t}\r\n\t}, 1000 / 25);\r\n\r\n\treturn (\r\n\t\t<canvas\r\n\t\t\tref={canvasRef}\r\n\t\t\twidth={width}\r\n\t\t\theight={height}\r\n\t\t\tstyle={props.style}\r\n\t\t\tclassName={props.className}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default NoiseCanvas;\r\n","import React, { useRef, useEffect, useState } from 'react';\r\nimport { useWindowScroll } from '@react-hook/window-scroll';\r\n\r\ninterface Props {\r\n\tscrollFps?: number;\r\n\tonEnterYRange?: () => void;\r\n\tonLeaveYRange?: () => void;\r\n}\r\n\r\nconst elementInWithinYRange = (element: HTMLDivElement) => {\r\n\tconst { top, bottom } = element.getBoundingClientRect();\r\n\treturn bottom > 0 && top < window.innerHeight;\r\n};\r\n\r\n// Div with callbacks when it enters/leaves the y-scroll view\r\nconst DivWithOnYScrollEnter = (\r\n\tprops: React.PropsWithChildren<Props & React.ComponentProps<'div'>>\r\n) => {\r\n\tconst { children, scrollFps, onEnterYRange, onLeaveYRange, ...rest } = props;\r\n\r\n\tconst divRef = useRef<HTMLDivElement>(null);\r\n\tconst scrollPos = useWindowScroll(scrollFps);\r\n\tconst [inYRange, setInYRange] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (divRef.current) setInYRange(elementInWithinYRange(divRef.current));\r\n\t}, [scrollPos]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (inYRange) {\r\n\t\t\tonEnterYRange?.();\r\n\t\t} else {\r\n\t\t\tonLeaveYRange?.();\r\n\t\t}\r\n\t}, [inYRange, onEnterYRange, onLeaveYRange]);\r\n\r\n\treturn (\r\n\t\t<div ref={divRef} {...rest}>\r\n\t\t\t{children}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default DivWithOnYScrollEnter;\r\n","import React, { useState } from 'react';\r\nimport DivWithOnYScrollEnter from './div-on-scroll-to-visible';\r\n\r\ninterface Props {\r\n\tscrollFps?: number;\r\n}\r\n\r\n// Div that hides the content when it has scrolled out of y-range\r\nconst DivAutoHideContent = (\r\n\tprops: React.PropsWithChildren<Props & React.ComponentProps<'div'>>\r\n) => {\r\n\tconst { children, ...rest } = props;\r\n\r\n\tconst [show, setShow] = useState(false);\r\n\r\n\treturn (\r\n\t\t<DivWithOnYScrollEnter\r\n\t\t\tonLeaveYRange={() => setShow(false)}\r\n\t\t\tonEnterYRange={() => setShow(true)}\r\n\t\t\t{...rest}\r\n\t\t>\r\n\t\t\t{show && children}\r\n\t\t</DivWithOnYScrollEnter>\r\n\t);\r\n};\r\n\r\nexport default DivAutoHideContent;\r\n","import React from 'react';\r\nimport { Icon } from '@iconify/react';\r\n\r\nconst FixedIconContainer = <T extends {}>(props: {\r\n\ticon: T;\r\n\twidthEm: number;\r\n\thFlip?: boolean;\r\n\tyOffsetPc?: number;\r\n\tyOffsetEm?: number;\r\n\txOffsetEm?: number;\r\n}) => (\r\n\t<div\r\n\t\tstyle={{\r\n\t\t\tposition: 'fixed',\r\n\t\t\ttop: `calc(50% +  ${props.yOffsetPc ?? 0}% + ${props.yOffsetEm ?? 0}em)`,\r\n\t\t\tleft: `${props.xOffsetEm ?? 0}em`,\r\n\t\t\twidth: '100vw',\r\n\t\t\ttransform: 'translateY(-50%)'\r\n\t\t}}\r\n\t>\r\n\t\t<Icon icon={props.icon} width={`${props.widthEm}em`} hFlip={props.hFlip} />\r\n\t</div>\r\n);\r\n\r\nexport default FixedIconContainer;\r\n","import React from 'react';\r\nimport axe from '@iconify/icons-twemoji/axe';\r\nimport door from '@iconify/icons-twemoji/door';\r\nimport angry from '@iconify/icons-twemoji/pouting-face';\r\nimport FixedIconContainer from 'components/fixed-pos-icon-container';\r\n\r\ntype Stage = 'door' | 'axe' | 'face' | 'exit';\r\n\r\nconst stageToIndex = (s: Stage) => {\r\n\tswitch (s) {\r\n\t\tcase 'door':\r\n\t\t\treturn 0;\r\n\t\tcase 'axe':\r\n\t\t\treturn 1;\r\n\t\tcase 'face':\r\n\t\t\treturn 2;\r\n\t\tcase 'exit':\r\n\t\t\treturn 3;\r\n\t\tdefault:\r\n\t\t\treturn 4;\r\n\t}\r\n};\r\n\r\ntype StageAndRelativeProgress = {\r\n\tstage: Stage;\r\n\trelativeP: number;\r\n};\r\n\r\n// Calculate the 'stage' of the animation and the relative progress within that stage\r\nconst stageAndRelativeProgress = (p: number): StageAndRelativeProgress => {\r\n\tconst N = 7;\r\n\tconst zeroToN = p * N;\r\n\tif (zeroToN < 2) {\r\n\t\treturn { stage: 'door', relativeP: zeroToN / 2 };\r\n\t}\r\n\tif (zeroToN < 4) {\r\n\t\treturn { stage: 'axe', relativeP: (zeroToN - 2) / 2 };\r\n\t}\r\n\tif (zeroToN < 6) {\r\n\t\treturn { stage: 'face', relativeP: (zeroToN - 4) / 2 };\r\n\t}\r\n\treturn { stage: 'exit', relativeP: zeroToN - (N - 1) };\r\n};\r\n\r\nconst yOffsetAndDoorSize = (p: StageAndRelativeProgress) => {\r\n\tconst maxDoorSize = 9;\r\n\tif (p.stage === 'door') {\r\n\t\treturn { yOffset: 50 - p.relativeP * 50, doorSize: p.relativeP * maxDoorSize };\r\n\t}\r\n\tif (p.stage === 'exit') {\r\n\t\treturn { yOffset: -p.relativeP * 100, doorSize: maxDoorSize };\r\n\t}\r\n\treturn { yOffset: 0, doorSize: maxDoorSize };\r\n};\r\n\r\nconst calcAxeOffset = (p: StageAndRelativeProgress) => {\r\n\tif (p.stage === 'axe' || p.stage === 'face') {\r\n\t\tconst maxOffset = p.stage === 'face' ? 5 : 3.5;\r\n\r\n\t\tif (p.relativeP <= 1 / 3) return p.relativeP * 3 * maxOffset;\r\n\t\tif (p.relativeP <= 2 / 3) return maxOffset;\r\n\r\n\t\treturn (1 - p.relativeP) * 3 * maxOffset;\r\n\t}\r\n\r\n\treturn 0;\r\n};\r\n\r\nconst calcFaceOffset = (p: StageAndRelativeProgress) => {\r\n\tif (p.stage === 'face') {\r\n\t\tconst maxOffset = 3.5;\r\n\t\tif (p.relativeP <= 1 / 3) return p.relativeP * 3 * maxOffset;\r\n\t\tif (p.relativeP <= 2 / 3) return maxOffset;\r\n\r\n\t\treturn (1 - p.relativeP) * 3 * maxOffset;\r\n\t}\r\n\r\n\treturn 0;\r\n};\r\n\r\nconst DoorSceneContents = (props: { percentage: number }) => {\r\n\tconst { percentage } = props;\r\n\r\n\tconst stageAndP = stageAndRelativeProgress(percentage);\r\n\tconst stageIndex = stageToIndex(stageAndP.stage);\r\n\r\n\tconst { yOffset, doorSize } = yOffsetAndDoorSize(stageAndP);\r\n\tconst axeOffset = calcAxeOffset(stageAndP);\r\n\tconst faceOffset = calcFaceOffset(stageAndP);\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{stageIndex >= stageToIndex('face') && (\r\n\t\t\t\t<FixedIconContainer\r\n\t\t\t\t\ticon={angry}\r\n\t\t\t\t\twidthEm={5}\r\n\t\t\t\t\txOffsetEm={faceOffset}\r\n\t\t\t\t\tyOffsetPc={yOffset}\r\n\t\t\t\t\tyOffsetEm={-1.5}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t\t{stageIndex >= stageToIndex('axe') && (\r\n\t\t\t\t<FixedIconContainer\r\n\t\t\t\t\ticon={axe}\r\n\t\t\t\t\twidthEm={5}\r\n\t\t\t\t\thFlip={true}\r\n\t\t\t\t\txOffsetEm={axeOffset}\r\n\t\t\t\t\tyOffsetPc={yOffset}\r\n\t\t\t\t\tyOffsetEm={0}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t\t<FixedIconContainer icon={door} widthEm={doorSize} yOffsetPc={yOffset} />\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nconst DoorScene = (props: { percentage: number }) => {\r\n\tconst { percentage } = props;\r\n\tconst hideAll = percentage <= 0.01 || percentage >= 0.99;\r\n\treturn <div>{!hideAll && <DoorSceneContents {...props} />}</div>;\r\n};\r\n\r\nexport default DoorScene;\r\n","import { useState, useCallback } from 'react';\r\n\r\nconst useStateWithTime = <T extends unknown>(initial: T, checkEquality = true) => {\r\n\tconst [value, setValue] = useState({ value: initial, time: Date.now() });\r\n\tconst setValueAndTime = useCallback(\r\n\t\t(newValue: T) => {\r\n\t\t\tif (!checkEquality || value.value !== newValue) {\r\n\t\t\t\tsetValue({ value: newValue, time: Date.now() });\r\n\t\t\t}\r\n\t\t},\r\n\t\t[checkEquality, value.value]\r\n\t);\r\n\r\n\treturn [value.value, setValueAndTime, value.time] as const;\r\n};\r\n\r\nexport default useStateWithTime;\r\n","import React, { useRef, useState, useEffect, useCallback } from 'react';\r\nimport useWindowScroll from '@react-hook/window-scroll';\r\nimport girlLightSkinTone from '@iconify/icons-twemoji/girl-light-skin-tone';\r\nimport useInterval from 'hooks/use-interval';\r\nimport useStateWithTime from 'hooks/use-state-with-time';\r\nimport FixedIconContainer from 'components/fixed-pos-icon-container';\r\n\r\nconst elementInWithinYRange = (element: HTMLDivElement, fromP: number, toP: number) => {\r\n\tconst { top } = element.getBoundingClientRect();\r\n\treturn top >= window.innerHeight * fromP && top <= window.innerHeight * toP;\r\n};\r\n\r\nconst elementPassedCentre = (element: HTMLDivElement) => {\r\n\tconst { top, bottom } = element.getBoundingClientRect();\r\n\r\n\tconst centre = (top + bottom) * 0.5;\r\n\tconst windowCentre = window.innerHeight * 0.5;\r\n\treturn windowCentre > 0 && centre < windowCentre;\r\n};\r\n\r\nconst GradySisters = () => {\r\n\tconst divRef = useRef<HTMLDivElement>(null);\r\n\r\n\tconst scrollPos = useWindowScroll(10);\r\n\r\n\tconst [hasDisplayedOnce, setHasDisplayedOnce] = useState(false);\r\n\tconst [display, setDisplay, lastSet] = useStateWithTime(false);\r\n\r\n\tconst doUpdate = useCallback(\r\n\t\t(doRandomDisplay: boolean) => {\r\n\t\t\tif (!divRef.current) return;\r\n\r\n\t\t\tconst isInRange = elementInWithinYRange(divRef.current, 0.2, 0.8);\r\n\t\t\tconst hasPassedCentre = elementPassedCentre(divRef.current);\r\n\r\n\t\t\tif (!isInRange) {\r\n\t\t\t\tsetDisplay(false);\r\n\t\t\t} else if (!hasDisplayedOnce) {\r\n\t\t\t\tif (hasPassedCentre) {\r\n\t\t\t\t\tsetDisplay(true);\r\n\t\t\t\t\tsetHasDisplayedOnce(true);\r\n\t\t\t\t}\r\n\t\t\t} else if (display) {\r\n\t\t\t\tif (Date.now() - lastSet > 700) setDisplay(false);\r\n\t\t\t} else if (doRandomDisplay) {\r\n\t\t\t\tconst randomValue = Math.random();\r\n\t\t\t\tconst randomDisplay = randomValue < 0.01;\r\n\t\t\t\tsetDisplay(isInRange && randomDisplay);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[display, hasDisplayedOnce, lastSet, setDisplay]\r\n\t);\r\n\r\n\tuseEffect(() => {\r\n\t\tdoUpdate(true);\r\n\t}, [scrollPos, doUpdate]);\r\n\r\n\tuseInterval(() => {\r\n\t\tdoUpdate(false);\r\n\t}, 100);\r\n\r\n\treturn (\r\n\t\t<div ref={divRef}>\r\n\t\t\t{display && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<FixedIconContainer icon={girlLightSkinTone} widthEm={5} xOffsetEm={-2.5} />\r\n\t\t\t\t\t<FixedIconContainer icon={girlLightSkinTone} widthEm={5} xOffsetEm={2.5} />\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tposition: 'fixed',\r\n\t\t\t\t\t\t\ttop: '50%',\r\n\t\t\t\t\t\t\tleft: '50%',\r\n\t\t\t\t\t\t\ttransform: 'translate(-50%, -50%)',\r\n\t\t\t\t\t\t\tfontFamily: 'consolas',\r\n\t\t\t\t\t\t\tcolor: 'black'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tCOME PLAY WITH US\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default GradySisters;\r\n","export const htmlImageFromSource = (src: string) => {\r\n\tconst img = new Image();\r\n\timg.src = src;\r\n\treturn img;\r\n};\r\n","import bigTreeTile from 'img/tiles/tree_16x32.png';\r\nimport smallTreeTile from 'img/tiles/tree_16x16.png';\r\nimport grassTile from 'img/tiles/grass_16x16.png';\r\nimport mudLightTile from 'img/tiles/mud_light_16x16.png';\r\nimport shrubLightTile from 'img/tiles/shrub_light_16x16.png';\r\nimport roadTile from 'img/tiles/road_mark_16x16.png';\r\nimport waterTile from 'img/tiles/water_16x16.png';\r\nimport waterLeftEdgeTile from 'img/tiles/water_edge_left_16x16.png';\r\nimport waterRightEdgeTile from 'img/tiles/water_edge_right_16x16.png';\r\nimport waterTopEdgeTile from 'img/tiles/water_edge_top_16x16.png';\r\nimport waterTopRightEdgeTile from 'img/tiles/water_edge_top_right_16x16.png';\r\nimport waterTopLeftEdgeTile from 'img/tiles/water_edge_top_left_16x16.png';\r\nimport snowBoulderTile from 'img/tiles/snow_boulder_16x16.png';\r\nimport snowGroundTile from 'img/tiles/snow_ground_16x16.png';\r\nimport snowGroundRocksTile from 'img/tiles/snow_ground_rocks_16x16.png';\r\nimport snowGrassTile from 'img/tiles/snow_grass_16x16.png';\r\nimport snowStumpLeftTile from 'img/tiles/snow_stump_left_16x32.png';\r\nimport snowStumpRightTile from 'img/tiles/snow_stump_right_16x32.png';\r\nimport overlookHotelTile from 'img/tiles/overlook_hotel_192x80.png';\r\nimport { htmlImageFromSource as imgFromSource } from 'img/image-utils';\r\n\r\nexport const tree = imgFromSource(bigTreeTile);\r\nexport const smallTree = imgFromSource(smallTreeTile);\r\nexport const grass = imgFromSource(grassTile);\r\nexport const mudLight = imgFromSource(mudLightTile);\r\nexport const shrubLight = imgFromSource(shrubLightTile);\r\nexport const water = imgFromSource(waterTile);\r\nexport const waterLeftEdge = imgFromSource(waterLeftEdgeTile);\r\nexport const waterRightEdge = imgFromSource(waterRightEdgeTile);\r\nexport const waterTopEdge = imgFromSource(waterTopEdgeTile);\r\nexport const waterTopRightEdge = imgFromSource(waterTopRightEdgeTile);\r\nexport const waterTopLeftEdge = imgFromSource(waterTopLeftEdgeTile);\r\nexport const road = imgFromSource(roadTile);\r\nexport const snowBoulder = imgFromSource(snowBoulderTile);\r\nexport const snowGround = imgFromSource(snowGroundTile);\r\nexport const snowGroundRocks = imgFromSource(snowGroundRocksTile);\r\nexport const snowGrass = imgFromSource(snowGrassTile);\r\nexport const snowStumpLeft = imgFromSource(snowStumpLeftTile);\r\nexport const snowStumpRight = imgFromSource(snowStumpRightTile);\r\nexport const hotel = imgFromSource(overlookHotelTile);\r\n","import carSprite1 from 'img/sprites/yellow_car_1_32x16.png';\r\nimport carSprite2 from 'img/sprites/yellow_car_2_32x16.png';\r\nimport { htmlImageFromSource as imgFromSource } from 'img/image-utils';\r\n\r\nexport const car1 = imgFromSource(carSprite1);\r\nexport const car2 = imgFromSource(carSprite2);\r\n","import * as tile from 'img/tiles';\r\nimport * as sprite from 'img/sprites';\r\nimport { FixedLengthArray } from 'utils/array-utils';\r\n\r\nconst BLANK_ROWS = 4; // This needs to be tuned for the current parallax settings to get the canvas into the centre\r\nconst ABOVE_ROAD_ROWS = 9;\r\nconst BELOW_ROAD_ROWS = 8;\r\nexport const CANVAS_WIDTH = 600;\r\nexport const CANVAS_HEIGHT = (BLANK_ROWS + ABOVE_ROAD_ROWS + BELOW_ROAD_ROWS) * 16;\r\n\r\ntype AboveRoadDefinition = FixedLengthArray<HTMLImageElement | null, typeof ABOVE_ROAD_ROWS>;\r\n\r\ntype BelowRoadDefinition = FixedLengthArray<HTMLImageElement | null, typeof BELOW_ROAD_ROWS>;\r\n\r\ntype SceneColumnDefinition = [AboveRoadDefinition, BelowRoadDefinition];\r\n\r\nfunction drawColumn(ctx: CanvasRenderingContext2D, def: SceneColumnDefinition) {\r\n\tconst drawCell = (img: CanvasImageSource, row: number) => {\r\n\t\tconst { width, height } = img;\r\n\t\tconst y = (row + BLANK_ROWS) * 16;\r\n\t\tctx.drawImage(img, 0, y, width as number, height as number);\r\n\t};\r\n\r\n\tdef[0].forEach((cell, i) => {\r\n\t\tif (cell) drawCell(cell, i);\r\n\t});\r\n\r\n\tdrawCell(tile.road, ABOVE_ROAD_ROWS);\r\n\r\n\tdef[1].forEach((cell, i) => {\r\n\t\tif (cell) {\r\n\t\t\tdrawCell(cell, i + 1 + ABOVE_ROAD_ROWS);\r\n\t\t}\r\n\t});\r\n}\r\n\r\nfunction drawCar(ctx: CanvasRenderingContext2D, sceneProgress: number) {\r\n\tconst carImg = Math.floor(sceneProgress % 8) > 4 ? sprite.car1 : sprite.car2;\r\n\tctx.drawImage(carImg, CANVAS_WIDTH / 2 - 8, (BLANK_ROWS + 9) * 16, 32, 16);\r\n}\r\n\r\nconst forestTop = (roadside: HTMLImageElement): AboveRoadDefinition => [\r\n\ttile.tree,\r\n\tnull,\r\n\ttile.tree,\r\n\tnull,\r\n\ttile.tree,\r\n\tnull,\r\n\ttile.tree,\r\n\tnull,\r\n\troadside\r\n];\r\n\r\nconst forestToLake = (\r\n\troadside: [HTMLImageElement, HTMLImageElement, HTMLImageElement]\r\n): AboveRoadDefinition => [\r\n\ttile.tree,\r\n\tnull,\r\n\ttile.tree,\r\n\tnull,\r\n\ttile.tree,\r\n\tnull,\r\n\troadside[0],\r\n\troadside[1],\r\n\troadside[2]\r\n];\r\n\r\nconst forestToLake1: AboveRoadDefinition = [\r\n\ttile.tree,\r\n\tnull,\r\n\ttile.tree,\r\n\tnull,\r\n\ttile.tree,\r\n\tnull,\r\n\ttile.tree,\r\n\tnull,\r\n\ttile.mudLight\r\n];\r\n\r\nconst forestToLake2 = forestToLake([tile.smallTree, tile.mudLight, tile.mudLight]);\r\nconst forestToLake3 = forestToLake([tile.mudLight, tile.mudLight, tile.mudLight]);\r\n\r\nconst forestToLake4: AboveRoadDefinition = [\r\n\ttile.waterLeftEdge,\r\n\ttile.waterLeftEdge,\r\n\ttile.waterLeftEdge,\r\n\ttile.waterLeftEdge,\r\n\ttile.mudLight,\r\n\ttile.mudLight,\r\n\ttile.mudLight,\r\n\ttile.mudLight,\r\n\ttile.mudLight\r\n];\r\n\r\nconst lakeTop = (cutout?: HTMLImageElement): AboveRoadDefinition => [\r\n\ttile.water,\r\n\ttile.water,\r\n\ttile.water,\r\n\ttile.water,\r\n\tcutout ?? tile.mudLight,\r\n\ttile.mudLight,\r\n\ttile.mudLight,\r\n\ttile.mudLight,\r\n\ttile.mudLight\r\n];\r\n\r\nconst lakeTopMountain = (edge1: HTMLImageElement, edge2: HTMLImageElement): AboveRoadDefinition => [\r\n\tedge1,\r\n\tedge2,\r\n\ttile.water,\r\n\ttile.water,\r\n\ttile.mudLight,\r\n\ttile.mudLight,\r\n\ttile.mudLight,\r\n\ttile.mudLight,\r\n\ttile.mudLight\r\n];\r\n\r\nconst lakeTopMountainLeft = lakeTopMountain(tile.waterRightEdge, tile.waterTopRightEdge);\r\nconst lakeTopMountainMid = lakeTopMountain(tile.mudLight, tile.waterTopEdge);\r\nconst lakeTopMountainRight = lakeTopMountain(tile.waterLeftEdge, tile.waterTopLeftEdge);\r\n\r\nconst getLakeTopTransitionCell = (cell: number, nGround: number, nEdges: number) => {\r\n\tif (nGround > cell) return tile.mudLight;\r\n\tconst offsetCell = cell - nGround;\r\n\treturn nEdges > offsetCell ? tile.waterRightEdge : tile.water;\r\n};\r\n\r\nconst lakeTopTransition = (nGround: number, nEdges: number): AboveRoadDefinition => [\r\n\tgetLakeTopTransitionCell(3, nGround, nEdges),\r\n\tgetLakeTopTransitionCell(2, nGround, nEdges),\r\n\tgetLakeTopTransitionCell(1, nGround, nEdges),\r\n\tgetLakeTopTransitionCell(0, nGround, nEdges),\r\n\ttile.mudLight,\r\n\ttile.mudLight,\r\n\ttile.mudLight,\r\n\ttile.mudLight,\r\n\ttile.mudLight\r\n];\r\n\r\nconst getLakeTopTransition2Cell = (cell: number, nBoulders: number) => {\r\n\tif (cell < nBoulders) {\r\n\t\tif (cell < nBoulders - 3) {\r\n\t\t\treturn cell === 0 ? tile.snowGround : tile.snowGrass;\r\n\t\t}\r\n\t\treturn tile.snowBoulder;\r\n\t}\r\n\r\n\treturn tile.mudLight;\r\n};\r\n\r\nconst lakeTopTransition2 = (nBoulders: number): AboveRoadDefinition => [\r\n\tgetLakeTopTransition2Cell(8, nBoulders),\r\n\tgetLakeTopTransition2Cell(7, nBoulders),\r\n\tgetLakeTopTransition2Cell(6, nBoulders),\r\n\tgetLakeTopTransition2Cell(5, nBoulders),\r\n\tgetLakeTopTransition2Cell(4, nBoulders),\r\n\tgetLakeTopTransition2Cell(3, nBoulders),\r\n\tgetLakeTopTransition2Cell(2, nBoulders),\r\n\tgetLakeTopTransition2Cell(1, nBoulders),\r\n\tgetLakeTopTransition2Cell(0, nBoulders)\r\n];\r\n\r\nconst getSnowTopCell = (\r\n\tcell: number,\r\n\tincludeTree: 'left' | 'right' | 'none',\r\n\ttreePos: number\r\n): HTMLImageElement | null => {\r\n\tif (includeTree !== 'none') {\r\n\t\tif (cell - 1 === treePos) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tif (cell === treePos) {\r\n\t\t\tconst img = includeTree === 'left' ? tile.snowStumpLeft : tile.snowStumpRight;\r\n\t\t\treturn img;\r\n\t\t}\r\n\t}\r\n\r\n\treturn tile.snowGrass;\r\n};\r\n\r\nconst snowTop = (\r\n\tincludeTree: 'left' | 'right' | 'none' = 'none',\r\n\ttreePos = 0\r\n): AboveRoadDefinition => [\r\n\ttile.snowBoulder,\r\n\tgetSnowTopCell(0, includeTree, treePos),\r\n\tgetSnowTopCell(1, includeTree, treePos),\r\n\tgetSnowTopCell(2, includeTree, treePos),\r\n\tgetSnowTopCell(3, includeTree, treePos),\r\n\tgetSnowTopCell(4, includeTree, treePos),\r\n\tgetSnowTopCell(5, includeTree, treePos),\r\n\tgetSnowTopCell(6, includeTree, treePos),\r\n\ttile.snowGround\r\n];\r\n\r\nconst overlookTop: AboveRoadDefinition = [\r\n\ttile.snowBoulder,\r\n\ttile.snowBoulder,\r\n\ttile.snowBoulder,\r\n\ttile.snowBoulder,\r\n\ttile.hotel,\r\n\tnull,\r\n\tnull,\r\n\tnull,\r\n\tnull\r\n];\r\n\r\nconst overlookTop2: AboveRoadDefinition = [\r\n\ttile.snowBoulder,\r\n\ttile.snowBoulder,\r\n\ttile.snowBoulder,\r\n\ttile.snowBoulder,\r\n\tnull,\r\n\tnull,\r\n\tnull,\r\n\tnull,\r\n\tnull\r\n];\r\n\r\nconst afterOverlookTop: AboveRoadDefinition = [\r\n\ttile.snowBoulder,\r\n\ttile.snowBoulder,\r\n\ttile.snowBoulder,\r\n\ttile.snowBoulder,\r\n\ttile.snowGrass,\r\n\ttile.snowGrass,\r\n\ttile.snowGrass,\r\n\ttile.snowGrass,\r\n\ttile.snowGrass\r\n];\r\n\r\nconst forestBottom = (\r\n\troadside: HTMLImageElement,\r\n\troadside2?: HTMLImageElement\r\n): BelowRoadDefinition => [\r\n\troadside,\r\n\troadside2 ?? tile.smallTree,\r\n\ttile.tree,\r\n\tnull,\r\n\ttile.tree,\r\n\tnull,\r\n\ttile.tree,\r\n\tnull\r\n];\r\n\r\nconst getWinterBottomTransitionCell = (cell: number, stage: number): HTMLImageElement | null => {\r\n\tconst imgForCell = (c: number) => {\r\n\t\tconst offsetCell = c - 1;\r\n\t\tif (offsetCell < stage) return tile.snowBoulder;\r\n\t\tif (stage % 2 === 0 && offsetCell === stage) return tile.smallTree;\r\n\t\treturn tile.tree;\r\n\t};\r\n\t// If the cell above is a large tree, this cell is null\r\n\tif (cell % 2 !== 0 && imgForCell(cell - 1) === tile.tree) return null;\r\n\treturn imgForCell(cell);\r\n};\r\n\r\nconst winterBottomTransition = (stage: number): BelowRoadDefinition => [\r\n\ttile.snowBoulder,\r\n\tgetWinterBottomTransitionCell(1, stage),\r\n\tgetWinterBottomTransitionCell(2, stage),\r\n\tgetWinterBottomTransitionCell(3, stage),\r\n\tgetWinterBottomTransitionCell(4, stage),\r\n\tgetWinterBottomTransitionCell(5, stage),\r\n\tgetWinterBottomTransitionCell(6, stage),\r\n\tgetWinterBottomTransitionCell(7, stage)\r\n];\r\n\r\nconst winterBottom: BelowRoadDefinition = [\r\n\ttile.snowGround,\r\n\ttile.snowGround,\r\n\ttile.snowGround,\r\n\ttile.snowGround,\r\n\ttile.snowGroundRocks,\r\n\ttile.snowGroundRocks,\r\n\ttile.snowGroundRocks,\r\n\ttile.snowGroundRocks\r\n];\r\n\r\nconst columnsAndDuration: readonly [SceneColumnDefinition, number][] = [\r\n\t[[forestTop(tile.smallTree), forestBottom(tile.grass)], 25],\r\n\t[[forestTop(tile.grass), forestBottom(tile.grass)], 1],\r\n\t[[forestTop(tile.mudLight), forestBottom(tile.grass)], 3],\r\n\t[[forestTop(tile.grass), forestBottom(tile.grass)], 1],\r\n\t[[forestTop(tile.smallTree), forestBottom(tile.grass)], 2],\r\n\t[[forestTop(tile.smallTree), forestBottom(tile.mudLight)], 3],\r\n\t[[forestTop(tile.smallTree), forestBottom(tile.grass)], 1],\r\n\t[[forestTop(tile.grass), forestBottom(tile.grass)], 1],\r\n\t[[forestTop(tile.shrubLight), forestBottom(tile.grass)], 2],\r\n\t[[forestTop(tile.grass), forestBottom(tile.grass)], 1],\r\n\t[[forestTop(tile.smallTree), forestBottom(tile.grass)], 6],\r\n\t// transition to lake\r\n\t[[forestTop(tile.grass), forestBottom(tile.grass)], 1],\r\n\t[[forestToLake1, forestBottom(tile.grass)], 1],\r\n\t[[forestToLake2, forestBottom(tile.grass)], 1],\r\n\t[[forestToLake3, forestBottom(tile.grass)], 1],\r\n\t[[forestToLake4, forestBottom(tile.grass)], 1],\r\n\t// Lake top\r\n\t[[lakeTop(), forestBottom(tile.grass)], 4],\r\n\t[[lakeTop(tile.waterLeftEdge), forestBottom(tile.grass)], 1],\r\n\t[[lakeTop(tile.water), forestBottom(tile.grass)], 3],\r\n\t[[lakeTop(tile.waterRightEdge), forestBottom(tile.mudLight)], 1],\r\n\t[[lakeTop(), forestBottom(tile.mudLight)], 4],\r\n\t[[lakeTop(), forestBottom(tile.mudLight, tile.mudLight)], 4],\r\n\t[[lakeTopMountainLeft, forestBottom(tile.mudLight, tile.mudLight)], 1],\r\n\t[[lakeTopMountainMid, forestBottom(tile.mudLight, tile.mudLight)], 4],\r\n\t[[lakeTopMountainRight, forestBottom(tile.mudLight, tile.mudLight)], 1],\r\n\t[[lakeTop(), forestBottom(tile.mudLight, tile.mudLight)], 2],\r\n\t[[lakeTopTransition(0, 2), forestBottom(tile.mudLight, tile.mudLight)], 1],\r\n\t[[lakeTopTransition(2, 0), forestBottom(tile.mudLight, tile.mudLight)], 1],\r\n\t[[lakeTopTransition(2, 1), forestBottom(tile.mudLight, tile.mudLight)], 1],\r\n\t[[lakeTopTransition(3, 1), forestBottom(tile.mudLight, tile.smallTree)], 1],\r\n\t[[lakeTopTransition2(1), winterBottomTransition(0)], 1],\r\n\t[[lakeTopTransition2(2), winterBottomTransition(1)], 1],\r\n\t[[lakeTopTransition2(2), winterBottomTransition(3)], 1],\r\n\t[[lakeTopTransition2(4), winterBottomTransition(3)], 1],\r\n\t[[lakeTopTransition2(6), winterBottomTransition(4)], 1],\r\n\t[[lakeTopTransition2(8), winterBottom], 1],\r\n\t[[lakeTopTransition2(9), winterBottom], 1],\r\n\t[[snowTop('left', 2), winterBottom], 1],\r\n\t[[snowTop('right', 2), winterBottom], 1],\r\n\t[[snowTop(), winterBottom], 2],\r\n\t[[snowTop('left', 4), winterBottom], 1],\r\n\t[[snowTop('right', 4), winterBottom], 1],\r\n\t[[snowTop(), winterBottom], 1],\r\n\t[[snowTop('left', 1), winterBottom], 1],\r\n\t[[snowTop('right', 1), winterBottom], 1],\r\n\t[[snowTop(), winterBottom], 10],\r\n\t[[overlookTop, winterBottom], 1],\r\n\t[[overlookTop2, winterBottom], 11],\r\n\t[[afterOverlookTop, winterBottom], 20]\r\n];\r\n\r\nconst TOTAL_COLUMNS = columnsAndDuration.map(c => c[1]).reduce((a, b) => a + b, 0);\r\nexport const DISTANCE_TO_HOTEL = (TOTAL_COLUMNS - 45) * 16 + 4;\r\n\r\nfunction getColumn(index: number): SceneColumnDefinition | null {\r\n\tlet cumulative = 0;\r\n\tfor (let i = 0; i < columnsAndDuration.length; ++i) {\r\n\t\tcumulative += columnsAndDuration[i][1];\r\n\t\tif (index < cumulative) return columnsAndDuration[i][0];\r\n\t}\r\n\treturn null;\r\n}\r\n\r\nexport function drawScene(ctx: CanvasRenderingContext2D, sceneProgress: number, alpha: number) {\r\n\tconst columnOffset = Math.floor(sceneProgress) % 16;\r\n\tconst columnIndex = Math.floor(sceneProgress / 16);\r\n\tctx.clearRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\r\n\tctx.globalAlpha = alpha;\r\n\r\n\tfor (let c = -1; c < CANVAS_WIDTH / 16 + 1; c += 1) {\r\n\t\tconst column = getColumn(columnIndex + c);\r\n\t\tif (column) {\r\n\t\t\tctx.save();\r\n\t\t\tctx.translate(c * 16 - columnOffset, 0.0);\r\n\t\t\tdrawColumn(ctx, column);\r\n\t\t\tctx.restore();\r\n\t\t}\r\n\t}\r\n\r\n\tdrawCar(ctx, sceneProgress);\r\n}\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport useInterval from 'hooks/use-interval';\r\nimport useStateWithTime from 'hooks/use-state-with-time';\r\nimport useRequestAnimationFrame from 'hooks/use-request-animation-frame';\r\nimport { CANVAS_HEIGHT, CANVAS_WIDTH, DISTANCE_TO_HOTEL, drawScene } from './driving-scene-drawing';\r\n\r\nconst elementIsWithinYRange = (element: Element) => {\r\n\tconst { top, bottom } = element.getBoundingClientRect();\r\n\treturn bottom > 0 && top < window.innerHeight;\r\n};\r\n\r\nconst clamp = (value: number, range: [number, number]) =>\r\n\tMath.max(range[0], Math.min(value, range[1]));\r\n\r\nconst useWindowKeyDown = (handler: (e: KeyboardEvent) => void) => {\r\n\tconst savedHandler = useRef(handler);\r\n\r\n\tuseEffect(() => {\r\n\t\tsavedHandler.current = handler;\r\n\t}, [handler]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst eventListener = (event: KeyboardEvent) => savedHandler.current(event);\r\n\r\n\t\twindow.addEventListener('keydown', eventListener);\r\n\r\n\t\treturn () => {\r\n\t\t\twindow.removeEventListener('keydown', eventListener);\r\n\t\t};\r\n\t});\r\n};\r\n\r\ninterface Props {\r\n\tclassName?: string;\r\n\tstyle?: React.CSSProperties;\r\n\tonEndScene?: () => void;\r\n}\r\n\r\nconst LEFT_ARROW = 37;\r\nconst RIGHT_ARROW = 39;\r\nconst SPACE_BAR = 32;\r\n\r\nconst convertNumberKeyCodeToNumber = (keyCode: number): number | null => {\r\n\t// 0-9 keys\r\n\tif (keyCode >= 48 && keyCode <= 57) return keyCode - 48;\r\n\r\n\t// Numpad\r\n\tif (keyCode >= 96 && keyCode <= 105) return keyCode - 96;\r\n\r\n\treturn null;\r\n};\r\n\r\nconst PROGRESS_VALUE_OUTSIDE_HOTEL = DISTANCE_TO_HOTEL;\r\nconst STOP_LENGTH = 50;\r\nconst FADE_LENGTH = 100;\r\nconst TOTAL_SCENE_LENGTH = PROGRESS_VALUE_OUTSIDE_HOTEL + STOP_LENGTH + FADE_LENGTH;\r\nconst TOTAL_SCENE_LENGTH_PLUS_FADE_IN = TOTAL_SCENE_LENGTH + FADE_LENGTH;\r\n\r\nfunction calculateProgressAndAlpha(progress: number) {\r\n\tif (progress < PROGRESS_VALUE_OUTSIDE_HOTEL)\r\n\t\treturn { sceneProgressForDraw: progress, alpha: 1.0 };\r\n\r\n\tif (progress < PROGRESS_VALUE_OUTSIDE_HOTEL + STOP_LENGTH)\r\n\t\treturn { sceneProgressForDraw: PROGRESS_VALUE_OUTSIDE_HOTEL, alpha: 1.0 };\r\n\r\n\tif (progress < PROGRESS_VALUE_OUTSIDE_HOTEL + STOP_LENGTH + FADE_LENGTH) {\r\n\t\tconst intoFade = progress - (PROGRESS_VALUE_OUTSIDE_HOTEL + STOP_LENGTH);\r\n\t\treturn {\r\n\t\t\tsceneProgressForDraw: PROGRESS_VALUE_OUTSIDE_HOTEL,\r\n\t\t\talpha: 1.0 - intoFade / FADE_LENGTH\r\n\t\t};\r\n\t}\r\n\r\n\tif (progress < PROGRESS_VALUE_OUTSIDE_HOTEL + STOP_LENGTH + FADE_LENGTH * 2) {\r\n\t\tconst intoFade = progress - (PROGRESS_VALUE_OUTSIDE_HOTEL + STOP_LENGTH + FADE_LENGTH);\r\n\t\treturn { sceneProgressForDraw: 0, alpha: intoFade / FADE_LENGTH };\r\n\t}\r\n\r\n\treturn { sceneProgressForDraw: 0, alpha: 1.0 };\r\n}\r\n\r\nconst DrivingScene = (props: Props) => {\r\n\tconst { className, style, onEndScene } = props;\r\n\r\n\tconst canvasRef = useRef<HTMLCanvasElement>(null);\r\n\r\n\tconst [moving, setMoving] = useState(true);\r\n\tconst [speed, setSpeed] = useState(20); // pixels per second\r\n\tconst [sceneProgress, setSceneProgress, setProgressTime] = useStateWithTime(0, false);\r\n\r\n\tuseWindowKeyDown((e: KeyboardEvent) => {\r\n\t\tif (canvasRef.current && elementIsWithinYRange(canvasRef.current)) {\r\n\t\t\tconst { keyCode } = e;\r\n\t\t\tif (keyCode === LEFT_ARROW) {\r\n\t\t\t\tsetSpeed(speed - 1);\r\n\t\t\t} else if (keyCode === RIGHT_ARROW) {\r\n\t\t\t\tsetSpeed(speed + 1);\r\n\t\t\t} else if (keyCode === SPACE_BAR) {\r\n\t\t\t\tif (e.target === document.body) {\r\n\t\t\t\t\tsetMoving(!moving);\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tconst number = convertNumberKeyCodeToNumber(keyCode);\r\n\t\t\t\tif (number !== null) {\r\n\t\t\t\t\tsetSceneProgress((number * DISTANCE_TO_HOTEL) / 9);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tuseInterval(() => {\r\n\t\tif (!moving) {\r\n\t\t\t// Even if not moving, set the time so we update the time\r\n\t\t\tsetSceneProgress(sceneProgress);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst sinceLast = Date.now() - setProgressTime;\r\n\t\tconst speedToUse = clamp(speed, [5, 100]);\r\n\t\tconst distance = speedToUse * sinceLast * 0.001;\r\n\t\tconst newProgress = sceneProgress + distance;\r\n\t\tif (sceneProgress < TOTAL_SCENE_LENGTH && newProgress >= TOTAL_SCENE_LENGTH) {\r\n\t\t\tonEndScene?.();\r\n\t\t}\r\n\t\t// Reset when we reach totalSceneProgress\r\n\t\tsetSceneProgress(newProgress % TOTAL_SCENE_LENGTH_PLUS_FADE_IN);\r\n\t}, 1000 / 25);\r\n\r\n\tconst { sceneProgressForDraw, alpha } = calculateProgressAndAlpha(sceneProgress);\r\n\r\n\tuseRequestAnimationFrame(() => {\r\n\t\tif (canvasRef.current) {\r\n\t\t\tconst ctx = canvasRef.current.getContext('2d');\r\n\t\t\tif (ctx) {\r\n\t\t\t\tdrawScene(ctx, sceneProgressForDraw, alpha);\r\n\t\t\t}\r\n\t\t}\r\n\t}, [sceneProgressForDraw, alpha]);\r\n\r\n\treturn (\r\n\t\t<canvas\r\n\t\t\tref={canvasRef}\r\n\t\t\twidth={CANVAS_WIDTH}\r\n\t\t\theight={CANVAS_HEIGHT}\r\n\t\t\tstyle={style}\r\n\t\t\tclassName={className}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default DrivingScene;\r\n","import { useEffect } from 'react';\r\n\r\nexport default function useRequestAnimationFrame(callback: () => void, deps: React.DependencyList) {\r\n\tuseEffect(() => {\r\n\t\tconst id = requestAnimationFrame(callback);\r\n\t\treturn () => cancelAnimationFrame(id);\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, deps);\r\n}\r\n","import React, { useState } from 'react';\r\n\r\nimport { InlineIcon } from '@iconify/react';\r\nimport keyboardIcon from '@iconify/icons-twemoji/keyboard';\r\n\r\nconst textToRepeat = 'all work and no play makes Jack a dull boy ';\r\n\r\nconst alterText = (text: string) => {\r\n\tconst characters = text.length;\r\n\tconst repeats = Math.floor(characters / textToRepeat.length);\r\n\tconst extra = characters % textToRepeat.length;\r\n\treturn new Array(repeats).fill(textToRepeat).join('') + textToRepeat.slice(0, extra);\r\n};\r\n\r\nconst TypewriterScene = () => {\r\n\tconst [text, setText] = useState('');\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div>\r\n\t\t\t\t<InlineIcon icon={keyboardIcon} />\r\n\t\t\t\tLeave a comment\r\n\t\t\t\t<InlineIcon icon={keyboardIcon} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<textarea\r\n\t\t\t\t\tstyle={{ minHeight: '30vh', minWidth: '50vw' }}\r\n\t\t\t\t\tvalue={alterText(text)}\r\n\t\t\t\t\tonChange={e => setText(e.target.value)}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default TypewriterScene;\r\n","import React, { useState } from 'react';\r\nimport { Parallax, Background } from 'react-parallax';\r\nimport { useWindowSize } from '@react-hook/window-size';\r\nimport Logo, { LogoBackground } from 'components/logo';\r\nimport NoiseCanvas from 'components/noise-canvas';\r\nimport DivAutoHideContent from 'components/div-auto-hide-content';\r\nimport background from 'img/stmarylake.jpg';\r\nimport styles from 'app.module.scss';\r\nimport glitchStyles from 'glitch.module.scss';\r\nimport DoorScene from 'pages/door-scene';\r\nimport GradySisters from 'pages/grady-sisters';\r\nimport DrivingScene from 'pages/driving-scene';\r\nimport Typewriter from 'pages/typewriter-scene';\r\nimport DivWithOnYScrollEnter from 'components/div-on-scroll-to-visible';\r\n\r\nconst FourPageNoiseCanvas = () => {\r\n\tconst [width, height] = useWindowSize(undefined, undefined, { wait: 500 });\r\n\treturn (\r\n\t\t<NoiseCanvas\r\n\t\t\twidth={width}\r\n\t\t\theight={height * 4}\r\n\t\t\tclassName={styles.vh4}\r\n\t\t\tstyle={{ position: 'absolute', left: 0, top: 0 }}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nconst convertDoorScenePercentage = (percentage: number) => {\r\n\t// The start percentage depends on the height of the div in the current parallax section\r\n\tconst startP = 0.375;\r\n\treturn (percentage - startP) / (1 - startP);\r\n};\r\n\r\nconst scrollToId = (id: string) => {\r\n\tconst anchor = document.querySelector(`#${id}`);\r\n\tif (anchor) anchor.scrollIntoView({ behavior: 'smooth', block: 'end' });\r\n};\r\n\r\nconst DrivingSceneFullScreen = () => {\r\n\treturn <DrivingScene className={styles.drivingSceneCanvas} />;\r\n};\r\n\r\ntype NavID = 'top' | 'driving' | 'typewriter' | 'door-scene' | 'bottom';\r\n\r\nconst navDivProps = (clickId: NavID) => {\r\n\treturn {\r\n\t\tonClick: () => scrollToId(clickId),\r\n\t\trole: 'button'\r\n\t};\r\n};\r\n\r\nconst fadeStyle = (long: boolean) => (long ? styles.fadeIn3s : styles.fadeIn2s);\r\n\r\nconst FadeInDiv = (\r\n\tprops: React.PropsWithChildren<{ longFade: boolean } & React.ComponentProps<'div'>>\r\n) => {\r\n\tconst { longFade, children, className, ...rest } = props;\r\n\tconst [fadeIn, setFadeIn] = useState(false);\r\n\tconst classNameToUse = `${className} ${fadeIn ? fadeStyle(longFade) : ''}`;\r\n\treturn (\r\n\t\t<DivWithOnYScrollEnter\r\n\t\t\tclassName={classNameToUse}\r\n\t\t\tscrollFps={100}\r\n\t\t\tonEnterYRange={() => setFadeIn(true)}\r\n\t\t\tonLeaveYRange={() => setFadeIn(false)}\r\n\t\t\t{...rest}\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</DivWithOnYScrollEnter>\r\n\t);\r\n};\r\n\r\nconst ArrowNav = (props: { clickId: NavID; type: 'up' | 'down' }) => {\r\n\tconst arrowName = props.type === 'up' ? styles.arrowUp : styles.arrowDown;\r\n\treturn <FadeInDiv className={arrowName} longFade={false} {...navDivProps(props.clickId)} />;\r\n};\r\n\r\nfunction App() {\r\n\treturn (\r\n\t\t<div className={styles.app}>\r\n\t\t\t<Parallax\r\n\t\t\t\tblur={{ min: -3, max: 5 }}\r\n\t\t\t\tbgImage={background}\r\n\t\t\t\tbgImageAlt=\"background\"\r\n\t\t\t\tbgImageStyle={{ opacity: '0.7' }}\r\n\t\t\t\tstrength={100}\r\n\t\t\t>\r\n\t\t\t\t<div className={styles.appPage} id=\"top\">\r\n\t\t\t\t\t<Logo />\r\n\t\t\t\t\tWELCOME TO THE\r\n\t\t\t\t\t<div className={glitchStyles.glitch} data-text=\"Overlook\">\r\n\t\t\t\t\t\tOverlook\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\tHOTEL\r\n\t\t\t\t\t<ArrowNav clickId=\"driving\" type=\"down\" />\r\n\t\t\t\t</div>\r\n\t\t\t</Parallax>\r\n\t\t\t<Parallax strength={200}>\r\n\t\t\t\t<div className={`${styles.appPage} ${styles.vh1point2}`} id=\"driving\" />\r\n\t\t\t\t<div className={styles.overlayArrowContainerPlus10vh}>\r\n\t\t\t\t\t<ArrowNav clickId=\"typewriter\" type=\"down\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<Background className={`${styles.vh1point2}`}>\r\n\t\t\t\t\t<DrivingSceneFullScreen />\r\n\t\t\t\t</Background>\r\n\t\t\t</Parallax>\r\n\t\t\t<Parallax strength={500}>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={`${styles.appPage} ${styles.vh1point5}`}\r\n\t\t\t\t\tid=\"carpet\"\r\n\t\t\t\t\t{...navDivProps('typewriter')}\r\n\t\t\t\t>\r\n\t\t\t\t\t<GradySisters />\r\n\t\t\t\t</div>\r\n\t\t\t\t<Background className={styles.vh2}>\r\n\t\t\t\t\t<LogoBackground />\r\n\t\t\t\t</Background>\r\n\t\t\t</Parallax>\r\n\t\t\t<Parallax strength={400}>\r\n\t\t\t\t<div className={styles.appPage} id=\"typewriter\">\r\n\t\t\t\t\t<Typewriter />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={styles.overlayArrowContainer}>\r\n\t\t\t\t\t<ArrowNav clickId=\"door-scene\" type=\"down\" />\r\n\t\t\t\t</div>\r\n\t\t\t</Parallax>\r\n\t\t\t<Parallax\r\n\t\t\t\tbgImage=\"dummy\"\r\n\t\t\t\tstrength={0}\r\n\t\t\t\trenderLayer={percentage => (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<FourPageNoiseCanvas />\r\n\t\t\t\t\t\t<DivAutoHideContent className={`${styles.appPage} ${styles.vh4}`} id=\"door-scene\">\r\n\t\t\t\t\t\t\t<DoorScene percentage={convertDoorScenePercentage(percentage)} />\r\n\t\t\t\t\t\t</DivAutoHideContent>\r\n\t\t\t\t\t\t<div className={`${styles.appPage} ${styles.vh4} ${styles.vignette}`} />\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t/>\r\n\t\t\t<div className={styles.appPage}>\r\n\t\t\t\t<span className={styles.calligraphy}>fin</span>\r\n\r\n\t\t\t\t<FadeInDiv className={styles.siteUpdateText} longFade={true}>\r\n\t\t\t\t\t<span>Site last updated July 4th 1921</span>\r\n\t\t\t\t</FadeInDiv>\r\n\t\t\t\t<ArrowNav clickId=\"top\" type=\"up\" />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n","/* eslint-disable @typescript-eslint/no-use-before-define */\r\n/* eslint-disable no-console */\r\n// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n\twindow.location.hostname === 'localhost' ||\r\n\t\t// [::1] is the IPv6 localhost address.\r\n\t\twindow.location.hostname === '[::1]' ||\r\n\t\t// 127.0.0.0/8 are considered localhost for IPv4.\r\n\t\twindow.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\r\n);\r\n\r\ntype Config = {\r\n\tonSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n\tonUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n\t\t// The URL constructor is available in all browsers that support SW.\r\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL ?? '', window.location.href);\r\n\t\tif (publicUrl.origin !== window.location.origin) {\r\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\r\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\r\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\twindow.addEventListener('load', () => {\r\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n\t\t\tif (isLocalhost) {\r\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\r\n\t\t\t\tcheckValidServiceWorker(swUrl, config);\r\n\r\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\r\n\t\t\t\t// service worker/PWA documentation.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\r\n\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\r\n\t\t\t\t\t\t\t'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// Is not localhost. Just register service worker\r\n\t\t\t\tregisterValidSW(swUrl, config);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n\tnavigator.serviceWorker\r\n\t\t.register(swUrl)\r\n\t\t.then(registration => {\r\n\t\t\t// eslint-disable-next-line no-param-reassign\r\n\t\t\tregistration.onupdatefound = () => {\r\n\t\t\t\tconst installingWorker = registration.installing;\r\n\t\t\t\tif (installingWorker == null) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tinstallingWorker.onstatechange = () => {\r\n\t\t\t\t\tif (installingWorker.state === 'installed') {\r\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\r\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\r\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\r\n\t\t\t\t\t\t\t// content until all client tabs are closed.\r\n\t\t\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\r\n\t\t\t\t\t\t\t\t\t'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\r\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// At this point, everything has been precached.\r\n\t\t\t\t\t\t\t// It's the perfect time to display a\r\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\r\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.');\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\r\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t};\r\n\t\t})\r\n\t\t.catch(error => {\r\n\t\t\tconsole.error('Error during service worker registration:', error);\r\n\t\t});\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n\t// Check if the service worker can be found. If it can't reload the page.\r\n\tfetch(swUrl, {\r\n\t\theaders: { 'Service-Worker': 'script' }\r\n\t})\r\n\t\t.then(response => {\r\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\r\n\t\t\tconst contentType = response.headers.get('content-type');\r\n\t\t\tif (\r\n\t\t\t\tresponse.status === 404 ||\r\n\t\t\t\t(contentType != null && contentType.indexOf('javascript') === -1)\r\n\t\t\t) {\r\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\r\n\t\t\t\t\tregistration.unregister().then(() => {\r\n\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// Service worker found. Proceed as normal.\r\n\t\t\t\tregisterValidSW(swUrl, config);\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(() => {\r\n\t\t\tconsole.log('No internet connection found. App is running in offline mode.');\r\n\t\t});\r\n}\r\n\r\nexport function unregister() {\r\n\tif ('serviceWorker' in navigator) {\r\n\t\tnavigator.serviceWorker.ready\r\n\t\t\t.then(registration => {\r\n\t\t\t\tregistration.unregister();\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\tconsole.error(error.message);\r\n\t\t\t});\r\n\t}\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t<App />\r\n\t</React.StrictMode>,\r\n\tdocument.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}