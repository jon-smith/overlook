{"version":3,"sources":["app.module.scss","components/logo.module.css","img/stmarylake.jpg","glitch.module.scss","img/tiles/tree_16x32.png","img/tiles/tree_16x16.png","img/tiles/grass_16x16.png","img/tiles/mud_light_16x16.png","img/tiles/shrub_light_16x16.png","img/tiles/road_mark_16x16.png","img/tiles/water_16x16.png","img/tiles/water_edge_left_16x16.png","img/tiles/water_edge_right_16x16.png","img/tiles/water_edge_top_16x16.png","img/tiles/water_edge_top_right_16x16.png","img/tiles/water_edge_top_left_16x16.png","img/tiles/snow_boulder_16x16.png","img/tiles/snow_ground_16x16.png","img/tiles/snow_ground_rocks_16x16.png","img/tiles/snow_grass_16x16.png","img/tiles/snow_stump_left_16x32.png","img/tiles/snow_stump_right_16x32.png","img/tiles/overlook_hotel_192x80.png","img/sprites/yellow_car_1_32x16.png","img/sprites/yellow_car_2_32x16.png","components/logo.tsx","hooks/use-interval.ts","components/noise-canvas.tsx","components/div-on-scroll-to-visible.tsx","components/div-auto-hide-content.tsx","components/fixed-pos-icon-container.tsx","pages/door-scene.tsx","hooks/use-state-with-time.ts","pages/grady-sisters.tsx","img/image-utils.ts","img/tiles.ts","img/sprites.ts","pages/driving-scene-columns.ts","utils/array-utils.ts","pages/driving-scene-drawing.ts","pages/driving-scene.tsx","hooks/use-request-animation-frame.ts","pages/typewriter-scene.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","buildHexPoints","radius","midX","midY","map","n","i","index","angleDeg","angleRad","Math","PI","cos","sin","hexPointFromEdgeIndex","buildHexPointsString","p","join","SVGElements","props","size","buildHex","color","points","fill","outerSize","BackgroundSVGElements","width","hexWidth","lineThickness","hexRad","sqrt","buildMainLogo","centreX","centreY","includeOuter","buildFillLine","top","x","y","height","hOffset","vOffset","topX","topY","leftX","leftY","topLeftY","rightX","rightY","topRightY","bottomX","bottomY","LogoBackground","id","patternUnits","Logo","className","styles","logo","viewBox","useInterval","callback","delay","savedCallback","useRef","useEffect","current","setInterval","clearInterval","NoiseCanvas","canvasRef","noiseFrames","currentFrame","ctx","getContext","Array","idata","createImageData","buffer32","Uint32Array","data","buffer","len","length","random","createNoise","putImageData","ref","style","DivWithOnYScrollEnter","children","scrollFps","onEnterYRange","onLeaveYRange","rest","divRef","scrollPos","useWindowScroll","useState","inYRange","setInYRange","element","getBoundingClientRect","bottom","window","innerHeight","elementInWithinYRange","DivAutoHideContent","show","setShow","FixedIconContainer","position","yOffsetPc","yOffsetEm","left","xOffsetEm","transform","icon","widthEm","hFlip","stageToIndex","s","DoorSceneContents","stageAndP","zeroToN","stage","relativeP","stageAndRelativeProgress","percentage","stageIndex","yOffset","doorSize","axeOffset","maxOffset","calcAxeOffset","faceOffset","calcFaceOffset","angry","axe","door","DoorScene","hideAll","useStateWithTime","initial","checkEquality","value","time","Date","now","setValue","setValueAndTime","useCallback","newValue","GradySisters","hasDisplayedOnce","setHasDisplayedOnce","display","setDisplay","lastSet","doUpdate","doRandomDisplay","isInRange","fromP","toP","hasPassedCentre","centre","windowCentre","elementPassedCentre","randomValue","girlLightSkinTone","fontFamily","htmlImageFromSourceAsync","src","Promise","resolve","img","Image","onload","a","loadTiles","loadImage","bigTreeTile","tree","smallTreeTile","smallTree","grassTile","grass","mudLightTile","mudLight","shrubLightTile","shrubLight","waterTile","water","waterLeftEdgeTile","waterLeftEdge","waterRightEdgeTile","waterRightEdge","waterTopEdgeTile","waterTopEdge","waterTopRightEdgeTile","waterTopRightEdge","waterTopLeftEdgeTile","waterTopLeftEdge","roadTile","road","snowBoulderTile","snowBoulder","snowGroundTile","snowGround","snowGroundRocksTile","snowGroundRocks","snowGrassTile","snowGrass","snowStumpLeftTile","snowStumpLeft","snowStumpRightTile","snowStumpRight","overlookHotelTile","hotel","loadSprites","carSprite1","car1","carSprite2","car2","drawColumn","def","drawCell","row","drawImage","above","forEach","cell","below","getColumn","columns","cumulative","repeats","drawSceneToCanvas","columnDefinitions","sprites","sceneProgress","columnOffset","floor","columnIndex","c","CANVAS_WIDTH","column","save","translate","restore","car","carImg","drawCar","makeArray","count","factory","_","randomBetween","from","to","makeGreyscale","imageData","luma","noiseArray","z","w","rgbSplitBuffer","Uint8ClampedArray","rgbSplitImage","t","console","error","v","noiseIndex","noisePixel","shift","r","pixelIndex","result","rgbShift","g","b","getPixel","offset","shiftMulti","shiftAdj","rs","gs","bs","calculateLengths","distanceToHotel","totalSceneLength","STOP_LENGTH","FADE_LENGTH","totalSceneLengthPlusFadeIn","DrivingSceneImpl","onEndScene","moving","setMoving","mode","setMode","speed","setSpeed","setSceneProgress","setProgressTime","handler","savedHandler","eventListener","event","addEventListener","removeEventListener","useWindowKeyDown","e","elementIsWithinYRange","keyCode","target","document","body","preventDefault","number","convertNumberKeyCodeToNumber","range","sinceLast","speedToUse","max","min","newProgress","progress","sceneProgressForDraw","alpha","calculateProgressAlphaAndStage","running","callbackRef","useLayoutEffect","frameRef","loop","requestAnimationFrame","cancelAnimationFrame","useRequestAnimationFrameLoop","rgbSplit","rectRGBSplit","greyscale","clearRect","TOTAL_ROWS","globalAlpha","getImageData","getSeconds","getMilliseconds","getRandomRectImg","CANVAS_HEIGHT","h","nImages","randomRects","xOffset","drawScene","DrivingScene","useAsync","tiles","callLoadTiles","callLoadSprites","columnDefs","useMemo","tile","forestTop","roadside","forestToLake","forestToLake1","forestToLake2","forestToLake3","forestToLake4","lakeTop","cutout","lakeTopMountain","edge1","edge2","lakeTopMountainLeft","lakeTopMountainMid","lakeTopMountainRight","getLakeTopTransitionCell","nGround","nEdges","lakeTopTransition","getLakeTopTransition2Cell","nBoulders","lakeTopTransition2","getSnowTopCell","includeTree","treePos","snowTop","overlookTop","overlookTop2","afterOverlookTop","forestBottom","roadside2","getWinterBottomTransitionCell","imgForCell","offsetCell","winterBottomTransition","winterBottom","columnsAndDuration","reduce","definitions","makeColumnDefinitions","undefined","textToRepeat","alterText","text","characters","extra","slice","TypewriterScene","setText","keyboardIcon","minHeight","minWidth","onChange","FourPageNoiseCanvas","useWindowSize","wait","vh4","convertDoorScenePercentage","DrivingSceneFullScreen","drivingSceneCanvas","navDivProps","clickId","onClick","anchor","querySelector","scrollIntoView","behavior","block","scrollToId","role","FadeInDiv","longFade","fadeIn","setFadeIn","classNameToUse","fadeIn3s","fadeIn2s","ArrowNav","arrowName","type","arrowUp","arrowDown","App","app","blur","bgImage","background","bgImageAlt","bgImageStyle","opacity","strength","appPage","glitchStyles","glitch","data-text","vh1point2","overlayArrowContainerPlus10vh","vh1point5","vh2","overlayArrowContainer","renderLayer","vignette","calligraphy","siteUpdateText","Boolean","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.4c4055ce.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"app_app__1Uy6u\",\"appPage\":\"app_appPage__We3tK\",\"calligraphy\":\"app_calligraphy__1XrDg\",\"vh1point2\":\"app_vh1point2__2BV1c\",\"vh1point5\":\"app_vh1point5__YvjLz\",\"vh2\":\"app_vh2__oHNJ_\",\"vh3\":\"app_vh3__2bPd2\",\"vh4\":\"app_vh4__2izdf\",\"drivingSceneCanvas\":\"app_drivingSceneCanvas__3WLXt\",\"siteUpdateText\":\"app_siteUpdateText__2b7oj\",\"vignette\":\"app_vignette__z5He4\",\"vignette-anim\":\"app_vignette-anim__2ss0N\",\"arrowUp\":\"app_arrowUp__2-1yX\",\"arrowRight\":\"app_arrowRight__2osVl\",\"arrowLeft\":\"app_arrowLeft__2H4iY\",\"arrowDown\":\"app_arrowDown__1z9-Y\",\"overlayArrowContainer\":\"app_overlayArrowContainer__39Nna\",\"overlayArrowContainerPlus10vh\":\"app_overlayArrowContainerPlus10vh__2CwCY\",\"fadeIn2s\":\"app_fadeIn2s__3oIJ8\",\"fadein\":\"app_fadein__3LzNg\",\"fadeIn3s\":\"app_fadeIn3s__XEI1j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logo\":\"logo_logo__mTUnK\",\"logo-float\":\"logo_logo-float__uraBD\"};","module.exports = __webpack_public_path__ + \"static/media/stmarylake.b2970c56.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"glitch\":\"glitch_glitch__3nVK2\",\"noise-anim\":\"glitch_noise-anim__17aSe\",\"noise-anim-2\":\"glitch_noise-anim-2__1_meq\"};","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAgCAIAAACU62+bAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAFJSURBVDhPvZHBdQMxCER9dCspIW1sCykhtbkNt5R89vNGrOxcw8NogBnByrev5/3xc8yIf572Wsdv5h/fSxkqYNaNl5w2cQpmXVxIN5eEQ8KjMeKXTTTwcdStCrRoepYlIliegmAj3V6JXKM6rzdqa0LuxmGDJy9imTWFhEhVjTJ509XUhLrnNNkbD3eshH6lsAEwAoxqeqWwiZo8wcTEEnB492xP2zSdIPBDVVrEwNY7R+BKmHMySqc+2ZeVAPSmzLszwdgPIiNsSZtDW6+kyd54OPoQ6lY1sgEwAoxqoK0JMjR5gomJJeDw7tmetmk6QeCHqrSIgfNK2j/8D/xM0vvLZfZK5mm8BVzH5PU/WN0AFgytvsEDmVUMnN26dBallYAjbg+HPVO9JyR3SxsK8KkpgUdKriHIYraglUC2iQ08o3S7RXjefwEVnQW4EjUaJAAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAFMSURBVDhPdZGxTgJREEXfLhaSUGC5BYUlFiaYUOwWfoCFJttaUlrSUvILFH4ApVuYwA+YrJ1bkEhBQQHJUpBoYkNhouflwvOhOIHZuTNzZ+7OBp2X47R1lRVj540x/aTE9/LoV97a6CuF0+wavOI4jl3g5+X3MGW8T/DzigP+WqW9iDkbFMB8uMHX8xjoqwqJ1P1615J07K2/U2yM8uIAQ0VkeUUw85hdllvme/IsD4c8nSFYuzSebHOeqg89eBckt/aeliBjNj+6NV5NeMjia27AKXgoRff0NCM4aBoRSrqwulX4G0RRhAR7JTj/Nfmw82BV2SuBoSqrWO/tv7oamG4/nA4s476qcS7O4qBs70oY30tlrcWAcBTLKtWbOeXpagaoXs4Y/HHfXl88LSaftcfrYjHZNJaN8yOqmrKVJOC0seqk96PTLcyK8Te/AO6lU5ZpFAAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAB1SURBVDhPY0w+xxFk6LXu/DY4yQAGyCLI4gxb/wcB9WgWMwBJCBuZxBRH4QOlkeWwijMCMcQqLLaDAZo4E5CFJgoXwSqOxQ34/YNwEhAgmwcVAgNkcSaoGHGqgVwsfgArA4lgFR+NB2TzoEJggCxOYjwwMAAA/pkpR8/QYFUAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAB0SURBVDhP1dHBDcAgCAVQx+gojtYxHKGjdAxH6bESyBc/mJ6b/Hh4SkAtd6ua/nSsPuRScJ0H6ZCdSwEpkrqNFE9rohftjmCYnc9Le/UI0XUpGPmssVfChk/qs0P6JhC4dSDFANGlgBRJ3UaKpzXR//8Prb7iXZnQM/6r1wAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAACiSURBVDhPY0w4wcEABgEGHhsu7ICQEBEIQBNnAuITK37ARSsqNkBEcIprFDBs+BGARgKtxSXOLGLB8EXkgYwOy4IJVywiOG68uPPkyh8gF0hiFYc6CUhCAJANlIY7CSIIBHBxkKchEnB1EDaQxCoODSVMpch6gADORQQrXBEaQBMH+QECOjoCgCQwBCFcOEATH40HiBCEi6wHCOBcEuOBgQEAfFDxOJjdqpUAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAxSURBVDhPY5w/fz4DKYAJShMNRqQGFiAO9DCEcOBg/Y7zQBKrOMk2jEYcMYBEDQwMAAQYCdtnSiDpAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABLSURBVDhPY8xI+MGAAQIiGDasgLKRAVCcCcqEAaAQEGCqhotjtwEPQLeBIEBogFiKCdDEyXUSkcYDAZU8jcfC0XjABJjiJNrAwAAAQYAdksAVr3EAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAFmSURBVDhPY2RhV/y95R9jGOP/Vf8F0oSPlJxz6dMQYLnfPu3H9nkMbBwMQPDrB4LBdLjyvXCG+v914ozBcqcqLxs0ex6pvP+PRXbfEoQi51gQCQRAEaaXn/6Ic39RyOX+v/GXdqPb9ea9zj1WQDlWdpAKIAAq2rsYqhkImP7///+PRVCc6wtnNNvvJW+Mmqx5Of4sSr7zCWwkJmD68pN1Sfy+J18kL9Sf4IyXOFd39PMPFmTVyE4CAiYxPla/Ga778reZdPhdrNlm1moPtIEP5nogQHcSM+NHaYEf5m32Zys3adW5nKo+CLQhbq4KJyOKX+GAKXOF7ZNXX0/XHNJv8brauMeozXdP8VGIHLLBcMD05NW353P/qhWbf1/4wqDVC2gP0FUcjH+cYqAqgADuASCDaV/pdeFkPmCYMvqzAf0AdBXQth//WQYwHpiFOEiLB17236TFw9/3P0iLh8qDDiTEAwMDAOSx8c06LhJCAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAFMSURBVDhPY1yx4//exQxsHAxA8OsHlMHGyrD7GMfXX5LHGlg+/WB59fpGyAwNPo4/314xsSCrdo5lgHM/vWXhFZW98uAckO0xwXNv8bHff37LM0gzZif/B8mDAdyGj28YFm9gEOAQkNHUu3f//ZGW+5++Mzu1aPz7eJIFrBIdiEoyMDIy/v//H0IyM4qIq2o9n/37cA4vE1QJzElAEgheP2eAq77PcP/v/zcvnjx/efu6yZTPIA0QRUDHwD0AtIFXgOfZXJVHDJ+BXCB5pe69VvWHk/GMTMgGQ1RDgKik6LuvDMwMvEA2NwPvpRdvWRklHRb+B9kANxgNiEqI3qkS4GVQXBXNyC0ifGbSJyEuA5zxcPC04uP3oHj48Or9hz/3Q2dYAeOB+dNfnPHw5sVrMVHZB88g8WA3aOPBktR4uFxBYjwYdpAYD4pKxgBxxvPiVe9Z6QAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAF0SURBVDhPY9iWxcDAYreznPnFbOebk0xvTXaf4Mbw8f//RYHYxRle/P//dI6ymJq3pIoNEC3PZ3jz//+9//dwiTP9Z2B49oFzeuThTXnnGNmEBbgY/jAwMDOIAEms4iwvJhqefXpfUpDDsd/1dPlGwzb/0xIqH74ycrBxYBVnnJjI4Grvef3+UUEuhpiFjmtStrFwWrAwsxy7cszJyAlTnAmo+sHjPfGLXPk4//CzvI5d6Kgo+u/U9VNA1VjFmZ48O5iy3OtMxSb7LjMOTg62/1+0qwTUJJhxiTNq6uqys3x4+0PwWvvHz99Zzt+5K8DJEL3AkJPxD1ZxxrV7/u9fysDCxvD+K8Pvnwyc3AxAwMHA4BTDgFWcacd8hv9MDL//MLD9Z/BLZmD6zcDBDAo/XOKM2cnAmICCXz8Y2ICGYABkcSYoTTRAaAAa4xwLItEAmjjISXAb4QwIwCrOBOTADUBTjVWcMTUa5GlkIQjAVAoCDAwAAlvpXSX2OZIAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAGFSURBVDhPY1yx4//exQxsHAxA8OsHlMHGyrDlsOq02OdP33N8uv82YeX/8wWMdhP+MzGKMCGrdo4FkRDAy/EneYEZF9sPGxfH0zmMhhP+T/Bi/P3/DRNENRAAGXDNQPD5Bwsn6w89Cdmvbx4bTvm/JJqRV5v/TIMkE1QeFXz6wbAo+c771++Vs66zMLPc7dVlEue20rE6+egFQgOak959ZfjGKvl+oebV18/PPr1vp2+3++D2zHn/QRogipCd9OcPg4qsxuqMY2IlsvLCv33MrQ5dPORq7zk7lZEJ2WC4B4Dgx68f4qJW2woOxi92VS/5rS7JfP3+URk5YcbU6P9AaWSlQPDlJ0OFLccvRkkONo7bj24IcTNEzTfkZf8NlMIeD0CGRTjIhazsDCwsDL9/MAjxg8R//2TAHg9AkRMrGQT5GHjYGZh+M3glMHz9wvD7DwMDMwNjdjLISRAAtwENIItjjwc8AGc8wAGaOMhJcBvhDAjAKo4zHnCJY48HIMBUCgIMDABNyrlnqq7DegAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAGLSURBVDhPY2Rg4Pt/QIvR+9f/LSyMQdz/133jjeNS5L/fOPH+9nkMbBwMQPDrB4LB9P//R0aHE/+/nGX0+XOz8whnvMS5uqM//rPsW4JQ5BwLIoEAKMJ0qIDx////jIxy/7ewqpfbXKrd7tJrDZRjZQepAAKgor2LoZqBgOnCJ4YLEw23tbxkDOL6v/67UZM1L8efRcl3PoGNxARMqfP+H7p4QUHGeVvxUfE04bO1R55+4EBWjewkIGCcmc5ga+l56OKhCHtT05rvX/9JLE3Y//bLp+2P/jP9RngD4SRJGeHr94+qSTCrlXH/+M0JVP3sI9fP9wy/Uf0KB4xySkoCQtyffrAsTTj/5RfD5x8MQNVRk/5HeDLwCaMohQDGdXv/AwMBGCaff4JMZQWr+PKCIbAAEThwJwEZTMDYYWBm+P2HAehirwQQycHMICKNohrZbYzZyf9BTDCAm4QGkMWZoDTRAKEB2WpkgCYOchLcRjgDArCKMwE5WMMblzhjajTI08hCEICpFAQYGACQlMHpvocT5gAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAEcSURBVDhPZZFLSgNREEXt1hUEHAt2ViEZxyDuJY5FsIXgOO5F8nFkUFyE6ER3kYHxlKcpXtpLdfV9Vfd1fbra/ewOCnyunh5f3+RX93f4niDOaUY+FmuPEKynqRU93LRVHdWwZjKmDmZqfn1LCusiKAgpLY0gnzdVljqKSwXyw4BS08lY7mBk61RAkpOezlo5wVzD8OK84mU5QOJydCbBl5yNIePCXks9dX5YtcfYUiZA9D1rMYLo/BUgNd1aOWOo4Q5jNbb0lw9wOY45AMgNakS84FFeM0cum99HyOp44mVL8kOe5eYZPxg2x9stCZt5//rGr142+NOTJm92MwD3bcIi/xFd0QzMFu1SJC9JDMbjHRGhAoq0mHOx/gWkLB6oLh+RgAAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAB0SURBVDhPY7yzbScDGCh7uN3dsYsgmwmItxw5BuRARIFcCBuXONQGOB9IIgNMccb///4j84EqgFxMdXBx7H4AOsbHxgrCRhMHaUAWQgZYxZmAGC4KVAEngQCrOCiU4BygCqClEHW4xEfjAQ1gFad1PDAwAAAQDcL5aBJPMAAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAEFSURBVDhPbVJLDgFBFJxuZ7CWGHeQiDUycQOZnYUV1iJBItbcRWTYCXEIYcMtLFCjJqW1qaQ771PvvXo9Yy6bbeBgfTzhbtdrcmUDYathcWCRh3swn4JRiZofwreStGuysziwlFiNp2KTRJAGpJKQkP8PT5XFQVdKEtSbIjmTQcsQcwzBcAcaa5ajCQwGMwcYLmbei+VKTXfgRFS6Wj2o2P8OSnArtwUicNMd5ON2NWA3Brkbi/0Jghq5Q1D5U0CSGLlLp9+BPNz8L9RbyzBCYeb1fDGBt8I05PC+CrILbBicXIirmYByKYx63eSwx/sWHw8Gz7c7bHbpd+Jsh1ytws9XCoI3KCC5in0JHKkAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAACrSURBVDhPY/wPBAwUACYoTRLYfeYxGIMA0QbANIDoAxfvM7iayIL5DCAv4AO7Tj+CsiDsqjkHoTwIn6ALQLbBbEcGMDGiArF67iEGB31FsLORDQMZTtALMADzCoyGeWVgohEZgA0A+QtbQBEDwAaAAgc5tEkyDDmeQQGDzEdm4wJwL6ADkBg4mggARpCtoDiGAVhcgzS3JttBRfEAkDNgcYoe18QACtMBAwMAc8M+WeVHGJAAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAgCAIAAACU62+bAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAD4SURBVDhP1ZJLDsIwDER7bjZcgdMgcRfO0jLmpRPXpIQt1ij1540TJJZt3aZ63h+Lo8yKjN4uV+VRFiJLkFBBSqxTQ6Z1uj82xNU7nZunN2iA2K0TWufYkNdn+ldDvmpiMOf8YIgFe0BwCSPlUjdE8V6sHI85mqgbIJyzD9TrpQPkTeQxTn+KNuIj5bEhmvTRwCBBY6DfA1qzVqc32IAowwBNiy4JuVE68eNE6/TDGEjKvagbMs1tVjZYzSAVg2kDKAxlh0o4h0faGIVaQJ8ooSZ0GHhGm+xR/NWA1BrKfuUHw5nw2DY3SPIESpTZF7UXlu5U/29Ytxe4o3cKGC2IBgAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAgCAIAAACU62+bAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAERSURBVDhPhZA7EsIwDAU5Nw1XoOQkDJyEhoor0FEQnlnNsyLno3kEWd6Nkxxcz+t9+k67aZxyPp7Q1BSipBEkawXKiT3oHBMl7QQ/PZquOsTDkn4CBM7GIbN3wKFfe5P+leA02hH0M21TWRVGmkYCpeVM0C/fONPude0CnKLtTKvypAv8sWGahgm9gBA8cnniuZoulIImMSpC3lCxhPCSpguG8lWC4qZJ/zfZF3IfkqFRYJeHUR8CU1CKJVtEQgCoRVAxURD6ro8rwmI1ZhTU5HACEdkfKdMFygki33iRc7jv7Mbee7w+ipckPmtBncvtjWMzXnqMCTsMtwS4fIj6VQHOGrSaVUGBsMBwS1jId/oBCKcI5EyL6zEAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/yellow_car_1_32x16.165b4b46.png\";","module.exports = __webpack_public_path__ + \"static/media/yellow_car_2_32x16.fc2bd6f8.png\";","import React from 'react';\r\nimport styles from './logo.module.css';\r\n\r\nconst logoMainDark = '#2e1c01';\r\nconst logoMainOrange = '#ffb347';\r\nconst logoMainRed = '#ff443a';\r\n\r\nconst logoBackgroundDark = 'black';\r\nconst logoBackgroundOrange = '#ea8900';\r\nconst logoBackgroundRed = '#c30a00';\r\n\r\nconst hexPointFromEdgeIndex = (\r\n\tindex: number,\r\n\tradius: number,\r\n\tmidX: number,\r\n\tmidY: number\r\n): [number, number] => {\r\n\tconst angleDeg = 60 * index - 30;\r\n\tconst angleRad = (Math.PI / 180) * angleDeg;\r\n\treturn [midX + radius * Math.cos(angleRad), midY + radius * Math.sin(angleRad)];\r\n};\r\n\r\nconst buildHexPoints = (radius: number, midX: number, midY: number): [number, number][] => {\r\n\treturn [0, 1, 2, 3, 4, 5, 6].map((n, i) => hexPointFromEdgeIndex(i, radius, midX, midY));\r\n};\r\n\r\nconst pointsToString = (points: [number, number][]) => points.map(p => p.join(',')).join(' ');\r\n\r\nconst buildHexPointsString = (radius: number, midX: number, midY: number) => {\r\n\treturn pointsToString(buildHexPoints(radius, midX, midY));\r\n};\r\n\r\nconst SVGElements = (props: { size: number }) => {\r\n\tconst { size } = props;\r\n\tconst buildHex = (radius: number, color: string) => {\r\n\t\tconst p = buildHexPointsString(radius, size * 0.5, size * 0.5);\r\n\t\treturn <polygon points={p} fill={color} />;\r\n\t};\r\n\r\n\tconst outerSize = size * 0.5;\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{buildHex(outerSize, logoMainDark)}\r\n\t\t\t{buildHex(outerSize * 0.8, logoMainOrange)}\r\n\t\t\t{buildHex(outerSize * 0.6, logoMainDark)}\r\n\t\t\t{buildHex(outerSize * 0.4, logoMainRed)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nconst hexMinorToMajorDimension = (w: number) => (w * 2) / Math.sqrt(3);\r\n\r\nconst BackgroundSVGElements = (props: { width: number }) => {\r\n\tconst { width } = props;\r\n\r\n\tconst hexWidth = (width * 8) / 7;\r\n\tconst lineThickness = hexWidth / 8;\r\n\tconst hexRad = hexMinorToMajorDimension(hexWidth) * 0.5;\r\n\r\n\tconst buildMainLogo = (centreX: number, centreY: number, includeOuter: boolean) => {\r\n\t\tconst buildHex = (radius: number, color: string) => {\r\n\t\t\tconst p = buildHexPointsString(radius, centreX, centreY);\r\n\t\t\treturn <polygon points={p} fill={color} />;\r\n\t\t};\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t{includeOuter && buildHex(hexRad, logoBackgroundDark)}\r\n\t\t\t\t{buildHex(hexRad * 0.75, logoBackgroundOrange)}\r\n\t\t\t\t{buildHex(hexRad * 0.5, logoBackgroundDark)}\r\n\t\t\t\t{buildHex(hexRad * 0.25, logoBackgroundRed)}\r\n\t\t\t</>\r\n\t\t);\r\n\t};\r\n\r\n\tconst buildFillLine = (centreX: number, top: number) => {\r\n\t\tconst x = centreX - lineThickness * 0.5;\r\n\t\treturn <rect x={x} y={top} width={lineThickness} height={hexRad} fill={logoBackgroundDark} />;\r\n\t};\r\n\r\n\tconst hOffset = hexRad * 0.75;\r\n\tconst vOffset = hexRad * 0.82;\r\n\r\n\tconst topX = width * 0.5;\r\n\tconst topY = width * 0.5;\r\n\r\n\tconst leftX = topX - hOffset;\r\n\tconst leftY = topY + vOffset;\r\n\tconst topLeftY = leftY - 2.6 * vOffset;\r\n\r\n\tconst rightX = topX + hOffset;\r\n\tconst rightY = leftY;\r\n\tconst topRightY = topLeftY;\r\n\r\n\tconst bottomX = topX;\r\n\tconst bottomY = topY + vOffset * 2;\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{buildMainLogo(topX, topY, true)}\r\n\t\t\t{buildMainLogo(leftX, leftY, false)}\r\n\t\t\t{buildMainLogo(rightX, rightY, false)}\r\n\t\t\t{buildMainLogo(leftX, topLeftY, false)}\r\n\t\t\t{buildMainLogo(rightX, topRightY, false)}\r\n\t\t\t{buildMainLogo(bottomX, bottomY, false)}\r\n\t\t\t{buildFillLine(topX, topY + hexRad * 0.25)}\r\n\t\t\t{buildFillLine(leftX, leftY - 1.25 * hexRad)}\r\n\t\t\t{buildFillLine(rightX, rightY - 1.25 * hexRad)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport const Logo = () => {\r\n\t// All measurements done relative to this number, but it doesn't appear to matter what this number is\r\n\t// But don't really want to hardccode the numbers below in case there becomes a need to change it\r\n\tconst dimension = 1;\r\n\r\n\treturn (\r\n\t\t<svg className={styles.logo} viewBox={`0 0 ${dimension} ${dimension}`}>\r\n\t\t\t<SVGElements size={dimension} />\r\n\t\t</svg>\r\n\t);\r\n};\r\n\r\nexport const LogoBackground = () => {\r\n\tconst width = 30;\r\n\tconst height = width * 1.41;\r\n\treturn (\r\n\t\t<svg width=\"100%\" height=\"100%\">\r\n\t\t\t<defs>\r\n\t\t\t\t<pattern\r\n\t\t\t\t\tid=\"pattern\"\r\n\t\t\t\t\tx=\"0\"\r\n\t\t\t\t\ty=\"0\"\r\n\t\t\t\t\twidth={width}\r\n\t\t\t\t\theight={height}\r\n\t\t\t\t\tpatternUnits=\"userSpaceOnUse\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<BackgroundSVGElements width={width} />\r\n\t\t\t\t</pattern>\r\n\t\t\t</defs>\r\n\t\t\t<rect x=\"0\" y=\"0\" width=\"100%\" height=\"100%\" fill=\"url(#pattern)\" />\r\n\t\t</svg>\r\n\t);\r\n};\r\n\r\nexport default Logo;\r\n","import { useRef, useEffect } from 'react';\r\n\r\nconst useInterval = (callback: () => void, delay: number) => {\r\n\tconst savedCallback = useRef<Function>();\r\n\r\n\tuseEffect(() => {\r\n\t\tsavedCallback.current = callback;\r\n\t}, [callback]);\r\n\r\n\tuseEffect(() => {\r\n\t\tfunction tick() {\r\n\t\t\tif (savedCallback.current) savedCallback.current();\r\n\t\t}\r\n\r\n\t\tconst id = setInterval(tick, delay);\r\n\t\treturn () => clearInterval(id);\r\n\t}, [delay]);\r\n};\r\n\r\nexport default useInterval;\r\n","import React, { useEffect, useRef } from 'react';\r\nimport useInterval from '../hooks/use-interval';\r\n\r\nconst createNoise = (ctx: CanvasRenderingContext2D, width: number, height: number) => {\r\n\tconst idata = ctx.createImageData(width, height);\r\n\tconst buffer32 = new Uint32Array(idata.data.buffer);\r\n\tconst len = buffer32.length;\r\n\r\n\tfor (let i = 0; i < len; i++) {\r\n\t\tif (Math.random() < 0.3) {\r\n\t\t\tbuffer32[i] = 0xff222222;\r\n\t\t}\r\n\t}\r\n\r\n\treturn idata;\r\n};\r\n\r\ninterface Props {\r\n\twidth: number;\r\n\theight: number;\r\n\tclassName?: string;\r\n\tstyle?: React.CSSProperties;\r\n}\r\n\r\nconst NoiseCanvas = (props: Props) => {\r\n\tconst canvasRef = useRef<HTMLCanvasElement>(null);\r\n\r\n\tconst noiseFrames = useRef<ImageData[]>([]);\r\n\tconst currentFrame = useRef<number>(0);\r\n\r\n\tconst { width, height } = props;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (canvasRef.current) {\r\n\t\t\tconst ctx = canvasRef.current.getContext('2d');\r\n\t\t\tif (ctx) {\r\n\t\t\t\tnoiseFrames.current = Array(10)\r\n\t\t\t\t\t.fill(0)\r\n\t\t\t\t\t.map(() => createNoise(ctx, width, height));\r\n\t\t\t}\r\n\t\t}\r\n\t}, [width, height]);\r\n\r\n\tuseInterval(() => {\r\n\t\tif (noiseFrames.current.length === 0) return;\r\n\r\n\t\tcurrentFrame.current =\r\n\t\t\tcurrentFrame.current === noiseFrames.current.length - 1 ? 0 : currentFrame.current + 1;\r\n\r\n\t\tif (canvasRef.current) {\r\n\t\t\tconst ctx = canvasRef.current.getContext('2d');\r\n\t\t\tif (ctx) {\r\n\t\t\t\tctx.putImageData(noiseFrames.current[currentFrame.current], 0, 0);\r\n\t\t\t}\r\n\t\t}\r\n\t}, 1000 / 25);\r\n\r\n\treturn (\r\n\t\t<canvas\r\n\t\t\tref={canvasRef}\r\n\t\t\twidth={width}\r\n\t\t\theight={height}\r\n\t\t\tstyle={props.style}\r\n\t\t\tclassName={props.className}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default NoiseCanvas;\r\n","import React, { useRef, useEffect, useState } from 'react';\r\nimport { useWindowScroll } from '@react-hook/window-scroll';\r\n\r\ninterface Props {\r\n\tscrollFps?: number;\r\n\tonEnterYRange?: () => void;\r\n\tonLeaveYRange?: () => void;\r\n}\r\n\r\nconst elementInWithinYRange = (element: HTMLDivElement) => {\r\n\tconst { top, bottom } = element.getBoundingClientRect();\r\n\treturn bottom > 0 && top < window.innerHeight;\r\n};\r\n\r\n// Div with callbacks when it enters/leaves the y-scroll view\r\nconst DivWithOnYScrollEnter = (\r\n\tprops: React.PropsWithChildren<Props & React.ComponentProps<'div'>>\r\n) => {\r\n\tconst { children, scrollFps, onEnterYRange, onLeaveYRange, ...rest } = props;\r\n\r\n\tconst divRef = useRef<HTMLDivElement>(null);\r\n\tconst scrollPos = useWindowScroll(scrollFps);\r\n\tconst [inYRange, setInYRange] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (divRef.current) setInYRange(elementInWithinYRange(divRef.current));\r\n\t}, [scrollPos]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (inYRange) {\r\n\t\t\tonEnterYRange?.();\r\n\t\t} else {\r\n\t\t\tonLeaveYRange?.();\r\n\t\t}\r\n\t}, [inYRange, onEnterYRange, onLeaveYRange]);\r\n\r\n\treturn (\r\n\t\t<div ref={divRef} {...rest}>\r\n\t\t\t{children}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default DivWithOnYScrollEnter;\r\n","import React, { useState } from 'react';\r\nimport DivWithOnYScrollEnter from './div-on-scroll-to-visible';\r\n\r\ninterface Props {\r\n\tscrollFps?: number;\r\n}\r\n\r\n// Div that hides the content when it has scrolled out of y-range\r\nconst DivAutoHideContent = (\r\n\tprops: React.PropsWithChildren<Props & React.ComponentProps<'div'>>\r\n) => {\r\n\tconst { children, ...rest } = props;\r\n\r\n\tconst [show, setShow] = useState(false);\r\n\r\n\treturn (\r\n\t\t<DivWithOnYScrollEnter\r\n\t\t\tonLeaveYRange={() => setShow(false)}\r\n\t\t\tonEnterYRange={() => setShow(true)}\r\n\t\t\t{...rest}\r\n\t\t>\r\n\t\t\t{show && children}\r\n\t\t</DivWithOnYScrollEnter>\r\n\t);\r\n};\r\n\r\nexport default DivAutoHideContent;\r\n","import React from 'react';\r\nimport { Icon } from '@iconify/react';\r\n\r\nconst FixedIconContainer = <T extends {}>(props: {\r\n\ticon: T;\r\n\twidthEm: number;\r\n\thFlip?: boolean;\r\n\tyOffsetPc?: number;\r\n\tyOffsetEm?: number;\r\n\txOffsetEm?: number;\r\n}) => (\r\n\t<div\r\n\t\tstyle={{\r\n\t\t\tposition: 'fixed',\r\n\t\t\ttop: `calc(50% +  ${props.yOffsetPc ?? 0}% + ${props.yOffsetEm ?? 0}em)`,\r\n\t\t\tleft: `${props.xOffsetEm ?? 0}em`,\r\n\t\t\twidth: '100vw',\r\n\t\t\ttransform: 'translateY(-50%)'\r\n\t\t}}\r\n\t>\r\n\t\t<Icon icon={props.icon} width={`${props.widthEm}em`} hFlip={props.hFlip} />\r\n\t</div>\r\n);\r\n\r\nexport default FixedIconContainer;\r\n","import React from 'react';\r\nimport axe from '@iconify/icons-twemoji/axe';\r\nimport door from '@iconify/icons-twemoji/door';\r\nimport angry from '@iconify/icons-twemoji/pouting-face';\r\nimport FixedIconContainer from 'components/fixed-pos-icon-container';\r\n\r\ntype Stage = 'door' | 'axe' | 'face' | 'exit';\r\n\r\nconst stageToIndex = (s: Stage) => {\r\n\tswitch (s) {\r\n\t\tcase 'door':\r\n\t\t\treturn 0;\r\n\t\tcase 'axe':\r\n\t\t\treturn 1;\r\n\t\tcase 'face':\r\n\t\t\treturn 2;\r\n\t\tcase 'exit':\r\n\t\t\treturn 3;\r\n\t\tdefault:\r\n\t\t\treturn 4;\r\n\t}\r\n};\r\n\r\ntype StageAndRelativeProgress = {\r\n\tstage: Stage;\r\n\trelativeP: number;\r\n};\r\n\r\n// Calculate the 'stage' of the animation and the relative progress within that stage\r\nconst stageAndRelativeProgress = (p: number): StageAndRelativeProgress => {\r\n\tconst N = 7;\r\n\tconst zeroToN = p * N;\r\n\tif (zeroToN < 2) {\r\n\t\treturn { stage: 'door', relativeP: zeroToN / 2 };\r\n\t}\r\n\tif (zeroToN < 4) {\r\n\t\treturn { stage: 'axe', relativeP: (zeroToN - 2) / 2 };\r\n\t}\r\n\tif (zeroToN < 6) {\r\n\t\treturn { stage: 'face', relativeP: (zeroToN - 4) / 2 };\r\n\t}\r\n\treturn { stage: 'exit', relativeP: zeroToN - (N - 1) };\r\n};\r\n\r\nconst yOffsetAndDoorSize = (p: StageAndRelativeProgress) => {\r\n\tconst maxDoorSize = 9;\r\n\tif (p.stage === 'door') {\r\n\t\treturn { yOffset: 50 - p.relativeP * 50, doorSize: p.relativeP * maxDoorSize };\r\n\t}\r\n\tif (p.stage === 'exit') {\r\n\t\treturn { yOffset: -p.relativeP * 100, doorSize: maxDoorSize };\r\n\t}\r\n\treturn { yOffset: 0, doorSize: maxDoorSize };\r\n};\r\n\r\nconst calcAxeOffset = (p: StageAndRelativeProgress) => {\r\n\tif (p.stage === 'axe' || p.stage === 'face') {\r\n\t\tconst maxOffset = p.stage === 'face' ? 5 : 3.5;\r\n\r\n\t\tif (p.relativeP <= 1 / 3) return p.relativeP * 3 * maxOffset;\r\n\t\tif (p.relativeP <= 2 / 3) return maxOffset;\r\n\r\n\t\treturn (1 - p.relativeP) * 3 * maxOffset;\r\n\t}\r\n\r\n\treturn 0;\r\n};\r\n\r\nconst calcFaceOffset = (p: StageAndRelativeProgress) => {\r\n\tif (p.stage === 'face') {\r\n\t\tconst maxOffset = 3.5;\r\n\t\tif (p.relativeP <= 1 / 3) return p.relativeP * 3 * maxOffset;\r\n\t\tif (p.relativeP <= 2 / 3) return maxOffset;\r\n\r\n\t\treturn (1 - p.relativeP) * 3 * maxOffset;\r\n\t}\r\n\r\n\treturn 0;\r\n};\r\n\r\nconst DoorSceneContents = (props: { percentage: number }) => {\r\n\tconst { percentage } = props;\r\n\r\n\tconst stageAndP = stageAndRelativeProgress(percentage);\r\n\tconst stageIndex = stageToIndex(stageAndP.stage);\r\n\r\n\tconst { yOffset, doorSize } = yOffsetAndDoorSize(stageAndP);\r\n\tconst axeOffset = calcAxeOffset(stageAndP);\r\n\tconst faceOffset = calcFaceOffset(stageAndP);\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{stageIndex >= stageToIndex('face') && (\r\n\t\t\t\t<FixedIconContainer\r\n\t\t\t\t\ticon={angry}\r\n\t\t\t\t\twidthEm={5}\r\n\t\t\t\t\txOffsetEm={faceOffset}\r\n\t\t\t\t\tyOffsetPc={yOffset}\r\n\t\t\t\t\tyOffsetEm={-1.5}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t\t{stageIndex >= stageToIndex('axe') && (\r\n\t\t\t\t<FixedIconContainer\r\n\t\t\t\t\ticon={axe}\r\n\t\t\t\t\twidthEm={5}\r\n\t\t\t\t\thFlip={true}\r\n\t\t\t\t\txOffsetEm={axeOffset}\r\n\t\t\t\t\tyOffsetPc={yOffset}\r\n\t\t\t\t\tyOffsetEm={0}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t\t<FixedIconContainer icon={door} widthEm={doorSize} yOffsetPc={yOffset} />\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nconst DoorScene = (props: { percentage: number }) => {\r\n\tconst { percentage } = props;\r\n\tconst hideAll = percentage <= 0.01 || percentage >= 0.99;\r\n\treturn <div>{!hideAll && <DoorSceneContents {...props} />}</div>;\r\n};\r\n\r\nexport default DoorScene;\r\n","import { useState, useCallback } from 'react';\r\n\r\nconst useStateWithTime = <T extends unknown>(initial: T, checkEquality = true) => {\r\n\tconst [value, setValue] = useState({ value: initial, time: Date.now() });\r\n\tconst setValueAndTime = useCallback(\r\n\t\t(newValue: T) => {\r\n\t\t\tif (!checkEquality || value.value !== newValue) {\r\n\t\t\t\tsetValue({ value: newValue, time: Date.now() });\r\n\t\t\t}\r\n\t\t},\r\n\t\t[checkEquality, value.value]\r\n\t);\r\n\r\n\treturn [value.value, setValueAndTime, value.time] as const;\r\n};\r\n\r\nexport default useStateWithTime;\r\n","import React, { useRef, useState, useEffect, useCallback } from 'react';\r\nimport useWindowScroll from '@react-hook/window-scroll';\r\nimport girlLightSkinTone from '@iconify/icons-twemoji/girl-light-skin-tone';\r\nimport useInterval from 'hooks/use-interval';\r\nimport useStateWithTime from 'hooks/use-state-with-time';\r\nimport FixedIconContainer from 'components/fixed-pos-icon-container';\r\n\r\nconst elementInWithinYRange = (element: HTMLDivElement, fromP: number, toP: number) => {\r\n\tconst { top } = element.getBoundingClientRect();\r\n\treturn top >= window.innerHeight * fromP && top <= window.innerHeight * toP;\r\n};\r\n\r\nconst elementPassedCentre = (element: HTMLDivElement) => {\r\n\tconst { top, bottom } = element.getBoundingClientRect();\r\n\r\n\tconst centre = (top + bottom) * 0.5;\r\n\tconst windowCentre = window.innerHeight * 0.5;\r\n\treturn windowCentre > 0 && centre < windowCentre;\r\n};\r\n\r\nconst GradySisters = () => {\r\n\tconst divRef = useRef<HTMLDivElement>(null);\r\n\r\n\tconst scrollPos = useWindowScroll(10);\r\n\r\n\tconst [hasDisplayedOnce, setHasDisplayedOnce] = useState(false);\r\n\tconst [display, setDisplay, lastSet] = useStateWithTime(false);\r\n\r\n\tconst doUpdate = useCallback(\r\n\t\t(doRandomDisplay: boolean) => {\r\n\t\t\tif (!divRef.current) return;\r\n\r\n\t\t\tconst isInRange = elementInWithinYRange(divRef.current, 0.2, 0.8);\r\n\t\t\tconst hasPassedCentre = elementPassedCentre(divRef.current);\r\n\r\n\t\t\tif (!isInRange) {\r\n\t\t\t\tsetDisplay(false);\r\n\t\t\t} else if (!hasDisplayedOnce) {\r\n\t\t\t\tif (hasPassedCentre) {\r\n\t\t\t\t\tsetDisplay(true);\r\n\t\t\t\t\tsetHasDisplayedOnce(true);\r\n\t\t\t\t}\r\n\t\t\t} else if (display) {\r\n\t\t\t\tif (Date.now() - lastSet > 700) setDisplay(false);\r\n\t\t\t} else if (doRandomDisplay) {\r\n\t\t\t\tconst randomValue = Math.random();\r\n\t\t\t\tconst randomDisplay = randomValue < 0.01;\r\n\t\t\t\tsetDisplay(isInRange && randomDisplay);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[display, hasDisplayedOnce, lastSet, setDisplay]\r\n\t);\r\n\r\n\tuseEffect(() => {\r\n\t\tdoUpdate(true);\r\n\t}, [scrollPos, doUpdate]);\r\n\r\n\tuseInterval(() => {\r\n\t\tdoUpdate(false);\r\n\t}, 100);\r\n\r\n\treturn (\r\n\t\t<div ref={divRef}>\r\n\t\t\t{display && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<FixedIconContainer icon={girlLightSkinTone} widthEm={5} xOffsetEm={-2.5} />\r\n\t\t\t\t\t<FixedIconContainer icon={girlLightSkinTone} widthEm={5} xOffsetEm={2.5} />\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tposition: 'fixed',\r\n\t\t\t\t\t\t\ttop: '50%',\r\n\t\t\t\t\t\t\tleft: '50%',\r\n\t\t\t\t\t\t\ttransform: 'translate(-50%, -50%)',\r\n\t\t\t\t\t\t\tfontFamily: 'consolas',\r\n\t\t\t\t\t\t\tcolor: 'black'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tCOME PLAY WITH US\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default GradySisters;\r\n","export const htmlImageFromSource = (src: string) => {\r\n\tconst img = new Image();\r\n\timg.src = src;\r\n\treturn img;\r\n};\r\n\r\nexport const htmlImageFromSourceAsync = (src: string) => {\r\n\tconst promise = new Promise<HTMLImageElement>(resolve => {\r\n\t\tconst img = new Image();\r\n\t\timg.onload = async () => {\r\n\t\t\tresolve(img);\r\n\t\t};\r\n\t\timg.src = src;\r\n\t});\r\n\treturn promise;\r\n};\r\n\r\n// N.B. Not supported on Safari\r\nexport const imageBitmapFromSource = (src: string) => {\r\n\tconst promise = new Promise<ImageBitmap>(resolve => {\r\n\t\tconst img = new Image();\r\n\t\timg.onload = async () => {\r\n\t\t\tconst bitmap = await createImageBitmap(img);\r\n\t\t\tresolve(bitmap);\r\n\t\t};\r\n\t\timg.src = src;\r\n\t});\r\n\r\n\treturn promise;\r\n};\r\n","import bigTreeTile from 'img/tiles/tree_16x32.png';\r\nimport smallTreeTile from 'img/tiles/tree_16x16.png';\r\nimport grassTile from 'img/tiles/grass_16x16.png';\r\nimport mudLightTile from 'img/tiles/mud_light_16x16.png';\r\nimport shrubLightTile from 'img/tiles/shrub_light_16x16.png';\r\nimport roadTile from 'img/tiles/road_mark_16x16.png';\r\nimport waterTile from 'img/tiles/water_16x16.png';\r\nimport waterLeftEdgeTile from 'img/tiles/water_edge_left_16x16.png';\r\nimport waterRightEdgeTile from 'img/tiles/water_edge_right_16x16.png';\r\nimport waterTopEdgeTile from 'img/tiles/water_edge_top_16x16.png';\r\nimport waterTopRightEdgeTile from 'img/tiles/water_edge_top_right_16x16.png';\r\nimport waterTopLeftEdgeTile from 'img/tiles/water_edge_top_left_16x16.png';\r\nimport snowBoulderTile from 'img/tiles/snow_boulder_16x16.png';\r\nimport snowGroundTile from 'img/tiles/snow_ground_16x16.png';\r\nimport snowGroundRocksTile from 'img/tiles/snow_ground_rocks_16x16.png';\r\nimport snowGrassTile from 'img/tiles/snow_grass_16x16.png';\r\nimport snowStumpLeftTile from 'img/tiles/snow_stump_left_16x32.png';\r\nimport snowStumpRightTile from 'img/tiles/snow_stump_right_16x32.png';\r\nimport overlookHotelTile from 'img/tiles/overlook_hotel_192x80.png';\r\nimport { htmlImageFromSourceAsync as loadImage } from 'img/image-utils';\r\n\r\nexport async function loadTiles() {\r\n\tconst tree = await loadImage(bigTreeTile);\r\n\tconst smallTree = await loadImage(smallTreeTile);\r\n\tconst grass = await loadImage(grassTile);\r\n\tconst mudLight = await loadImage(mudLightTile);\r\n\tconst shrubLight = await loadImage(shrubLightTile);\r\n\tconst water = await loadImage(waterTile);\r\n\tconst waterLeftEdge = await loadImage(waterLeftEdgeTile);\r\n\tconst waterRightEdge = await loadImage(waterRightEdgeTile);\r\n\tconst waterTopEdge = await loadImage(waterTopEdgeTile);\r\n\tconst waterTopRightEdge = await loadImage(waterTopRightEdgeTile);\r\n\tconst waterTopLeftEdge = await loadImage(waterTopLeftEdgeTile);\r\n\tconst road = await loadImage(roadTile);\r\n\tconst snowBoulder = await loadImage(snowBoulderTile);\r\n\tconst snowGround = await loadImage(snowGroundTile);\r\n\tconst snowGroundRocks = await loadImage(snowGroundRocksTile);\r\n\tconst snowGrass = await loadImage(snowGrassTile);\r\n\tconst snowStumpLeft = await loadImage(snowStumpLeftTile);\r\n\tconst snowStumpRight = await loadImage(snowStumpRightTile);\r\n\tconst hotel = await loadImage(overlookHotelTile);\r\n\r\n\treturn {\r\n\t\ttree,\r\n\t\tsmallTree,\r\n\t\tgrass,\r\n\t\tmudLight,\r\n\t\tshrubLight,\r\n\t\twater,\r\n\t\twaterLeftEdge,\r\n\t\twaterRightEdge,\r\n\t\twaterTopEdge,\r\n\t\twaterTopRightEdge,\r\n\t\twaterTopLeftEdge,\r\n\t\troad,\r\n\t\tsnowBoulder,\r\n\t\tsnowGround,\r\n\t\tsnowGroundRocks,\r\n\t\tsnowGrass,\r\n\t\tsnowStumpLeft,\r\n\t\tsnowStumpRight,\r\n\t\thotel\r\n\t};\r\n}\r\n\r\ntype ExtractPromiseType<P> = P extends Promise<infer T> ? T : never;\r\n\r\nexport type TilesT = ExtractPromiseType<ReturnType<typeof loadTiles>>;\r\n","import carSprite1 from 'img/sprites/yellow_car_1_32x16.png';\r\nimport carSprite2 from 'img/sprites/yellow_car_2_32x16.png';\r\nimport { htmlImageFromSourceAsync as loadImage } from 'img/image-utils';\r\n\r\nexport const loadSprites = async () => {\r\n\tconst car1 = await loadImage(carSprite1);\r\n\tconst car2 = await loadImage(carSprite2);\r\n\treturn { car1, car2 };\r\n};\r\n\r\ntype ExtractPromiseType<P> = P extends Promise<infer T> ? T : never;\r\n\r\nexport type SpritesT = ExtractPromiseType<ReturnType<typeof loadSprites>>;\r\n","import { TilesT } from 'img/tiles';\r\nimport { FixedLengthArray } from 'utils/array-utils';\r\nimport { SpritesT } from 'img/sprites';\r\n\r\nconst BLANK_ROWS = 4; // This needs to be tuned for the current parallax settings to get the canvas into the centre\r\nconst ABOVE_ROAD_ROWS = 9;\r\nconst BELOW_ROAD_ROWS = 8;\r\nconst TOTAL_ROWS = BLANK_ROWS + ABOVE_ROAD_ROWS + BELOW_ROAD_ROWS + 1;\r\n\r\nexport const CANVAS_WIDTH = 16 * 40;\r\nexport const CANVAS_HEIGHT = TOTAL_ROWS * 16;\r\n\r\ntype AboveRoadDefinition = FixedLengthArray<CanvasImageSource | null, typeof ABOVE_ROAD_ROWS>;\r\n\r\ntype BelowRoadDefinition = FixedLengthArray<CanvasImageSource | null, typeof BELOW_ROAD_ROWS>;\r\n\r\nexport type SceneColumnDefinition = {\r\n\tabove: AboveRoadDefinition;\r\n\troad: CanvasImageSource;\r\n\tbelow: BelowRoadDefinition;\r\n\trepeats: number;\r\n};\r\n\r\nexport function makeColumnDefinitions(\r\n\ttile: TilesT\r\n): {\r\n\tdefinitions: SceneColumnDefinition[];\r\n\tdistanceToHotel: number;\r\n} {\r\n\tconst forestTop = (roadside: CanvasImageSource): AboveRoadDefinition => [\r\n\t\ttile.tree,\r\n\t\tnull,\r\n\t\ttile.tree,\r\n\t\tnull,\r\n\t\ttile.tree,\r\n\t\tnull,\r\n\t\ttile.tree,\r\n\t\tnull,\r\n\t\troadside\r\n\t];\r\n\r\n\tconst forestToLake = (\r\n\t\troadside: [CanvasImageSource, CanvasImageSource, CanvasImageSource]\r\n\t): AboveRoadDefinition => [\r\n\t\ttile.tree,\r\n\t\tnull,\r\n\t\ttile.tree,\r\n\t\tnull,\r\n\t\ttile.tree,\r\n\t\tnull,\r\n\t\troadside[0],\r\n\t\troadside[1],\r\n\t\troadside[2]\r\n\t];\r\n\r\n\tconst forestToLake1: AboveRoadDefinition = [\r\n\t\ttile.tree,\r\n\t\tnull,\r\n\t\ttile.tree,\r\n\t\tnull,\r\n\t\ttile.tree,\r\n\t\tnull,\r\n\t\ttile.tree,\r\n\t\tnull,\r\n\t\ttile.mudLight\r\n\t];\r\n\r\n\tconst forestToLake2 = forestToLake([tile.smallTree, tile.mudLight, tile.mudLight]);\r\n\tconst forestToLake3 = forestToLake([tile.mudLight, tile.mudLight, tile.mudLight]);\r\n\r\n\tconst forestToLake4: AboveRoadDefinition = [\r\n\t\ttile.waterLeftEdge,\r\n\t\ttile.waterLeftEdge,\r\n\t\ttile.waterLeftEdge,\r\n\t\ttile.waterLeftEdge,\r\n\t\ttile.mudLight,\r\n\t\ttile.mudLight,\r\n\t\ttile.mudLight,\r\n\t\ttile.mudLight,\r\n\t\ttile.mudLight\r\n\t];\r\n\r\n\tconst lakeTop = (cutout?: CanvasImageSource): AboveRoadDefinition => [\r\n\t\ttile.water,\r\n\t\ttile.water,\r\n\t\ttile.water,\r\n\t\ttile.water,\r\n\t\tcutout ?? tile.mudLight,\r\n\t\ttile.mudLight,\r\n\t\ttile.mudLight,\r\n\t\ttile.mudLight,\r\n\t\ttile.mudLight\r\n\t];\r\n\r\n\tconst lakeTopMountain = (\r\n\t\tedge1: CanvasImageSource,\r\n\t\tedge2: CanvasImageSource\r\n\t): AboveRoadDefinition => [\r\n\t\tedge1,\r\n\t\tedge2,\r\n\t\ttile.water,\r\n\t\ttile.water,\r\n\t\ttile.mudLight,\r\n\t\ttile.mudLight,\r\n\t\ttile.mudLight,\r\n\t\ttile.mudLight,\r\n\t\ttile.mudLight\r\n\t];\r\n\r\n\tconst lakeTopMountainLeft = lakeTopMountain(tile.waterRightEdge, tile.waterTopRightEdge);\r\n\tconst lakeTopMountainMid = lakeTopMountain(tile.mudLight, tile.waterTopEdge);\r\n\tconst lakeTopMountainRight = lakeTopMountain(tile.waterLeftEdge, tile.waterTopLeftEdge);\r\n\r\n\tconst getLakeTopTransitionCell = (cell: number, nGround: number, nEdges: number) => {\r\n\t\tif (nGround > cell) return tile.mudLight;\r\n\t\tconst offsetCell = cell - nGround;\r\n\t\treturn nEdges > offsetCell ? tile.waterRightEdge : tile.water;\r\n\t};\r\n\r\n\tconst lakeTopTransition = (nGround: number, nEdges: number): AboveRoadDefinition => [\r\n\t\tgetLakeTopTransitionCell(3, nGround, nEdges),\r\n\t\tgetLakeTopTransitionCell(2, nGround, nEdges),\r\n\t\tgetLakeTopTransitionCell(1, nGround, nEdges),\r\n\t\tgetLakeTopTransitionCell(0, nGround, nEdges),\r\n\t\ttile.mudLight,\r\n\t\ttile.mudLight,\r\n\t\ttile.mudLight,\r\n\t\ttile.mudLight,\r\n\t\ttile.mudLight\r\n\t];\r\n\r\n\tconst getLakeTopTransition2Cell = (cell: number, nBoulders: number) => {\r\n\t\tif (cell < nBoulders) {\r\n\t\t\tif (cell < nBoulders - 3) {\r\n\t\t\t\treturn cell === 0 ? tile.snowGround : tile.snowGrass;\r\n\t\t\t}\r\n\t\t\treturn tile.snowBoulder;\r\n\t\t}\r\n\r\n\t\treturn tile.mudLight;\r\n\t};\r\n\r\n\tconst lakeTopTransition2 = (nBoulders: number): AboveRoadDefinition => [\r\n\t\tgetLakeTopTransition2Cell(8, nBoulders),\r\n\t\tgetLakeTopTransition2Cell(7, nBoulders),\r\n\t\tgetLakeTopTransition2Cell(6, nBoulders),\r\n\t\tgetLakeTopTransition2Cell(5, nBoulders),\r\n\t\tgetLakeTopTransition2Cell(4, nBoulders),\r\n\t\tgetLakeTopTransition2Cell(3, nBoulders),\r\n\t\tgetLakeTopTransition2Cell(2, nBoulders),\r\n\t\tgetLakeTopTransition2Cell(1, nBoulders),\r\n\t\tgetLakeTopTransition2Cell(0, nBoulders)\r\n\t];\r\n\r\n\tconst getSnowTopCell = (\r\n\t\tcell: number,\r\n\t\tincludeTree: 'left' | 'right' | 'none',\r\n\t\ttreePos: number\r\n\t): CanvasImageSource | null => {\r\n\t\tif (includeTree !== 'none') {\r\n\t\t\tif (cell - 1 === treePos) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tif (cell === treePos) {\r\n\t\t\t\tconst img = includeTree === 'left' ? tile.snowStumpLeft : tile.snowStumpRight;\r\n\t\t\t\treturn img;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn tile.snowGrass;\r\n\t};\r\n\r\n\tconst snowTop = (\r\n\t\tincludeTree: 'left' | 'right' | 'none' = 'none',\r\n\t\ttreePos = 0\r\n\t): AboveRoadDefinition => [\r\n\t\ttile.snowBoulder,\r\n\t\tgetSnowTopCell(0, includeTree, treePos),\r\n\t\tgetSnowTopCell(1, includeTree, treePos),\r\n\t\tgetSnowTopCell(2, includeTree, treePos),\r\n\t\tgetSnowTopCell(3, includeTree, treePos),\r\n\t\tgetSnowTopCell(4, includeTree, treePos),\r\n\t\tgetSnowTopCell(5, includeTree, treePos),\r\n\t\tgetSnowTopCell(6, includeTree, treePos),\r\n\t\ttile.snowGround\r\n\t];\r\n\r\n\tconst overlookTop: AboveRoadDefinition = [\r\n\t\ttile.snowBoulder,\r\n\t\ttile.snowBoulder,\r\n\t\ttile.snowBoulder,\r\n\t\ttile.snowBoulder,\r\n\t\ttile.hotel,\r\n\t\tnull,\r\n\t\tnull,\r\n\t\tnull,\r\n\t\tnull\r\n\t];\r\n\r\n\tconst overlookTop2: AboveRoadDefinition = [\r\n\t\ttile.snowBoulder,\r\n\t\ttile.snowBoulder,\r\n\t\ttile.snowBoulder,\r\n\t\ttile.snowBoulder,\r\n\t\tnull,\r\n\t\tnull,\r\n\t\tnull,\r\n\t\tnull,\r\n\t\tnull\r\n\t];\r\n\r\n\tconst afterOverlookTop: AboveRoadDefinition = [\r\n\t\ttile.snowBoulder,\r\n\t\ttile.snowBoulder,\r\n\t\ttile.snowBoulder,\r\n\t\ttile.snowBoulder,\r\n\t\ttile.snowGrass,\r\n\t\ttile.snowGrass,\r\n\t\ttile.snowGrass,\r\n\t\ttile.snowGrass,\r\n\t\ttile.snowGrass\r\n\t];\r\n\r\n\tconst forestBottom = (\r\n\t\troadside: CanvasImageSource,\r\n\t\troadside2?: CanvasImageSource\r\n\t): BelowRoadDefinition => [\r\n\t\troadside,\r\n\t\troadside2 ?? tile.smallTree,\r\n\t\ttile.tree,\r\n\t\tnull,\r\n\t\ttile.tree,\r\n\t\tnull,\r\n\t\ttile.tree,\r\n\t\tnull\r\n\t];\r\n\r\n\tconst getWinterBottomTransitionCell = (cell: number, stage: number): CanvasImageSource | null => {\r\n\t\tconst imgForCell = (c: number) => {\r\n\t\t\tconst offsetCell = c - 1;\r\n\t\t\tif (offsetCell < stage) return tile.snowBoulder;\r\n\t\t\tif (stage % 2 === 0 && offsetCell === stage) return tile.smallTree;\r\n\t\t\treturn tile.tree;\r\n\t\t};\r\n\t\t// If the cell above is a large tree, this cell is null\r\n\t\tif (cell % 2 !== 0 && imgForCell(cell - 1) === tile.tree) return null;\r\n\t\treturn imgForCell(cell);\r\n\t};\r\n\r\n\tconst winterBottomTransition = (stage: number): BelowRoadDefinition => [\r\n\t\ttile.snowBoulder,\r\n\t\tgetWinterBottomTransitionCell(1, stage),\r\n\t\tgetWinterBottomTransitionCell(2, stage),\r\n\t\tgetWinterBottomTransitionCell(3, stage),\r\n\t\tgetWinterBottomTransitionCell(4, stage),\r\n\t\tgetWinterBottomTransitionCell(5, stage),\r\n\t\tgetWinterBottomTransitionCell(6, stage),\r\n\t\tgetWinterBottomTransitionCell(7, stage)\r\n\t];\r\n\r\n\tconst winterBottom: BelowRoadDefinition = [\r\n\t\ttile.snowGround,\r\n\t\ttile.snowGround,\r\n\t\ttile.snowGround,\r\n\t\ttile.snowGround,\r\n\t\ttile.snowGroundRocks,\r\n\t\ttile.snowGroundRocks,\r\n\t\ttile.snowGroundRocks,\r\n\t\ttile.snowGroundRocks\r\n\t];\r\n\r\n\tconst columnsAndDuration: readonly [[AboveRoadDefinition, BelowRoadDefinition], number][] = [\r\n\t\t[[forestTop(tile.smallTree), forestBottom(tile.grass)], 25],\r\n\t\t[[forestTop(tile.grass), forestBottom(tile.grass)], 1],\r\n\t\t[[forestTop(tile.mudLight), forestBottom(tile.grass)], 3],\r\n\t\t[[forestTop(tile.grass), forestBottom(tile.grass)], 1],\r\n\t\t[[forestTop(tile.smallTree), forestBottom(tile.grass)], 2],\r\n\t\t[[forestTop(tile.smallTree), forestBottom(tile.mudLight)], 3],\r\n\t\t[[forestTop(tile.smallTree), forestBottom(tile.grass)], 1],\r\n\t\t[[forestTop(tile.grass), forestBottom(tile.grass)], 1],\r\n\t\t[[forestTop(tile.shrubLight), forestBottom(tile.grass)], 2],\r\n\t\t[[forestTop(tile.grass), forestBottom(tile.grass)], 1],\r\n\t\t[[forestTop(tile.smallTree), forestBottom(tile.grass)], 6],\r\n\t\t// transition to lake\r\n\t\t[[forestTop(tile.grass), forestBottom(tile.grass)], 1],\r\n\t\t[[forestToLake1, forestBottom(tile.grass)], 1],\r\n\t\t[[forestToLake2, forestBottom(tile.grass)], 1],\r\n\t\t[[forestToLake3, forestBottom(tile.grass)], 1],\r\n\t\t[[forestToLake4, forestBottom(tile.grass)], 1],\r\n\t\t// Lake top\r\n\t\t[[lakeTop(), forestBottom(tile.grass)], 4],\r\n\t\t[[lakeTop(tile.waterLeftEdge), forestBottom(tile.grass)], 1],\r\n\t\t[[lakeTop(tile.water), forestBottom(tile.grass)], 3],\r\n\t\t[[lakeTop(tile.waterRightEdge), forestBottom(tile.mudLight)], 1],\r\n\t\t[[lakeTop(), forestBottom(tile.mudLight)], 4],\r\n\t\t[[lakeTop(), forestBottom(tile.mudLight, tile.mudLight)], 4],\r\n\t\t[[lakeTopMountainLeft, forestBottom(tile.mudLight, tile.mudLight)], 1],\r\n\t\t[[lakeTopMountainMid, forestBottom(tile.mudLight, tile.mudLight)], 4],\r\n\t\t[[lakeTopMountainRight, forestBottom(tile.mudLight, tile.mudLight)], 1],\r\n\t\t[[lakeTop(), forestBottom(tile.mudLight, tile.mudLight)], 2],\r\n\t\t[[lakeTopTransition(0, 2), forestBottom(tile.mudLight, tile.mudLight)], 1],\r\n\t\t[[lakeTopTransition(2, 0), forestBottom(tile.mudLight, tile.mudLight)], 1],\r\n\t\t[[lakeTopTransition(2, 1), forestBottom(tile.mudLight, tile.mudLight)], 1],\r\n\t\t[[lakeTopTransition(3, 1), forestBottom(tile.mudLight, tile.smallTree)], 1],\r\n\t\t[[lakeTopTransition2(1), winterBottomTransition(0)], 1],\r\n\t\t[[lakeTopTransition2(2), winterBottomTransition(1)], 1],\r\n\t\t[[lakeTopTransition2(2), winterBottomTransition(3)], 1],\r\n\t\t[[lakeTopTransition2(4), winterBottomTransition(3)], 1],\r\n\t\t[[lakeTopTransition2(6), winterBottomTransition(4)], 1],\r\n\t\t[[lakeTopTransition2(8), winterBottom], 1],\r\n\t\t[[lakeTopTransition2(9), winterBottom], 1],\r\n\t\t[[snowTop('left', 2), winterBottom], 1],\r\n\t\t[[snowTop('right', 2), winterBottom], 1],\r\n\t\t[[snowTop(), winterBottom], 2],\r\n\t\t[[snowTop('left', 4), winterBottom], 1],\r\n\t\t[[snowTop('right', 4), winterBottom], 1],\r\n\t\t[[snowTop(), winterBottom], 1],\r\n\t\t[[snowTop('left', 1), winterBottom], 1],\r\n\t\t[[snowTop('right', 1), winterBottom], 1],\r\n\t\t[[snowTop(), winterBottom], 10],\r\n\t\t[[overlookTop, winterBottom], 1],\r\n\t\t[[overlookTop2, winterBottom], 11],\r\n\t\t[[afterOverlookTop, winterBottom], 20]\r\n\t];\r\n\r\n\tconst totalColumns = columnsAndDuration.map(c => c[1]).reduce((a, b) => a + b, 0);\r\n\tconst distanceToHotel = (totalColumns - 46) * 16;\r\n\r\n\treturn {\r\n\t\tdefinitions: columnsAndDuration.map(c => ({\r\n\t\t\tabove: c[0][0],\r\n\t\t\troad: tile.road,\r\n\t\t\tbelow: c[0][1],\r\n\t\t\trepeats: c[1]\r\n\t\t})),\r\n\t\tdistanceToHotel\r\n\t};\r\n}\r\n\r\nfunction drawColumn(ctx: CanvasRenderingContext2D, def: SceneColumnDefinition) {\r\n\tconst drawCell = (img: CanvasImageSource, row: number) => {\r\n\t\tconst { width, height } = img;\r\n\t\tconst y = (row + BLANK_ROWS) * 16;\r\n\t\tctx.drawImage(img, 0, y, width as number, height as number);\r\n\t};\r\n\r\n\tdef.above.forEach((cell, i) => {\r\n\t\tif (cell) drawCell(cell, i);\r\n\t});\r\n\r\n\tdrawCell(def.road, ABOVE_ROAD_ROWS);\r\n\r\n\tdef.below.forEach((cell, i) => {\r\n\t\tif (cell) {\r\n\t\t\tdrawCell(cell, i + 1 + ABOVE_ROAD_ROWS);\r\n\t\t}\r\n\t});\r\n}\r\n\r\nfunction drawCar(ctx: CanvasRenderingContext2D, car: CanvasImageSource) {\r\n\tconst carImg = car;\r\n\tctx.drawImage(carImg, CANVAS_WIDTH / 2 - 8, (BLANK_ROWS + 9) * 16, 32, 16);\r\n}\r\n\r\nfunction getColumn(\r\n\tcolumns: readonly SceneColumnDefinition[],\r\n\tindex: number\r\n): SceneColumnDefinition | null {\r\n\tlet cumulative = 0;\r\n\tfor (let i = 0; i < columns.length; ++i) {\r\n\t\tcumulative += columns[i].repeats;\r\n\t\tif (index < cumulative) return columns[i];\r\n\t}\r\n\treturn null;\r\n}\r\n\r\nexport function drawSceneToCanvas(\r\n\tctx: CanvasRenderingContext2D,\r\n\tcolumnDefinitions: readonly SceneColumnDefinition[],\r\n\tsprites: SpritesT,\r\n\tsceneProgress: number\r\n) {\r\n\tconst columnOffset = Math.floor(sceneProgress) % 16;\r\n\tconst columnIndex = Math.floor(sceneProgress / 16);\r\n\r\n\tfor (let c = -1; c < CANVAS_WIDTH / 16 + 1; c += 1) {\r\n\t\tconst column = getColumn(columnDefinitions, columnIndex + c);\r\n\t\tif (column) {\r\n\t\t\tctx.save();\r\n\t\t\tctx.translate(c * 16 - columnOffset, 0.0);\r\n\t\t\tdrawColumn(ctx, column);\r\n\t\t\tctx.restore();\r\n\t\t}\r\n\t}\r\n\r\n\tconst carImg = Math.floor(sceneProgress % 8) > 4 ? sprites.car1 : sprites.car2;\r\n\tdrawCar(ctx, carImg);\r\n}\r\n","type ArrayLengthMutationKeys = 'splice' | 'push' | 'pop' | 'shift' | 'unshift';\r\nexport type FixedLengthArray<T, L extends number, TObj = [T, ...Array<T>]> = Pick<\r\n\tTObj,\r\n\tExclude<keyof TObj, ArrayLengthMutationKeys>\r\n> & {\r\n\treadonly length: L;\r\n\t[I: number]: T;\r\n\t[Symbol.iterator]: () => IterableIterator<T>;\r\n};\r\n\r\nexport function makeArray<T>(count: number, factory: (i: number) => T) {\r\n\tconst empty = new Array(count).fill(0);\r\n\treturn empty.map((_, i) => factory(i));\r\n}\r\n","import { SpritesT } from 'img/sprites';\r\nimport { makeArray } from 'utils/array-utils';\r\nimport {\r\n\tdrawSceneToCanvas,\r\n\tCANVAS_HEIGHT,\r\n\tCANVAS_WIDTH,\r\n\tSceneColumnDefinition\r\n} from './driving-scene-columns';\r\n\r\nconst randomBetween = (from: number, to: number) => {\r\n\tconst rand01 = Math.random();\r\n\tconst range = to - from;\r\n\treturn from + range * rand01;\r\n};\r\n\r\nfunction makeGreyscale(imageData: ImageData) {\r\n\tfor (let i = 0; i < imageData.data.length; i += 4) {\r\n\t\tconst luma = Math.floor(\r\n\t\t\timageData.data[i] * 0.3 + imageData.data[i + 1] * 0.59 + imageData.data[i + 2] * 0.11\r\n\t\t);\r\n\r\n\t\t// eslint-disable-next-line no-param-reassign\r\n\t\timageData.data[i] = luma;\r\n\t\t// eslint-disable-next-line no-param-reassign\r\n\t\timageData.data[i + 1] = luma;\r\n\t\t// eslint-disable-next-line no-param-reassign\r\n\t\timageData.data[i + 2] = luma;\r\n\t}\r\n}\r\n\r\nconst noiseArray = makeArray(CANVAS_WIDTH * CANVAS_HEIGHT, () => ({\r\n\tx: Math.random(),\r\n\ty: Math.random(),\r\n\tz: Math.random(),\r\n\tw: Math.random()\r\n}));\r\n\r\ntype Vec2 = { x: number; y: number };\r\ntype Vec4 = { x: number; y: number; z: number; w: number };\r\n\r\nconst rgbSplitBuffer = new Uint8ClampedArray(CANVAS_WIDTH * CANVAS_HEIGHT * 4);\r\n\r\nfunction rgbSplitImage(imageData: ImageData, buffer: Uint8ClampedArray, t: number) {\r\n\tconst { width, height } = imageData;\r\n\r\n\tif (buffer.length < width * height * 4) {\r\n\t\tconsole.error('rgbSplit buffer too small');\r\n\t\treturn;\r\n\t}\r\n\r\n\tfunction getPixel(x: number, y: number, offset: number) {\r\n\t\tconst index = Math.floor(y % height) * width + Math.floor(x % width);\r\n\t\treturn imageData.data[Math.floor(index * 4) + offset] / 255.0;\r\n\t}\r\n\r\n\tconst FPS = 10;\r\n\tconst noiseIndex = Math.floor(t * FPS) % noiseArray.length;\r\n\tconst noisePixel = noiseArray[noiseIndex];\r\n\r\n\tconst shiftAmplitude = 10;\r\n\r\n\tfunction rgbShift(p: Vec2, shift: Vec4) {\r\n\t\tconst shiftMulti = 2.0 * shift.w; // - 1.0;\r\n\t\tconst shiftAdj = {\r\n\t\t\tx: shift.x * shiftMulti,\r\n\t\t\ty: shift.y * shiftMulti,\r\n\t\t\tz: shift.z * shiftMulti\r\n\t\t};\r\n\r\n\t\tconst rs = { x: shiftAdj.x, y: -shiftAdj.y };\r\n\t\tconst gs = { x: shiftAdj.y, y: -shiftAdj.z };\r\n\t\tconst bs = { x: shiftAdj.z, y: -shiftAdj.x };\r\n\r\n\t\tconst r = getPixel(p.x + rs.x, p.y + rs.y, 0);\r\n\t\tconst g = getPixel(p.x + gs.x, p.y + gs.y, 1);\r\n\t\tconst b = getPixel(p.x + bs.x, p.y + bs.y, 2);\r\n\t\tconst a = getPixel(p.x, p.y, 3);\r\n\r\n\t\treturn { r, g, b, a };\r\n\t}\r\n\r\n\tfunction amplifyNoise(v: Vec4, p: number) {\r\n\t\treturn {\r\n\t\t\tx: shiftAmplitude * v.x ** p,\r\n\t\t\ty: shiftAmplitude * v.y ** p,\r\n\t\t\tz: shiftAmplitude * v.z ** p,\r\n\t\t\tw: v.w\r\n\t\t};\r\n\t}\r\n\r\n\tconst shift = amplifyNoise(noisePixel, 8);\r\n\r\n\tfor (let r = 0; r < height; ++r) {\r\n\t\tfor (let c = 0; c < width; ++c) {\r\n\t\t\tconst index = r * width + c;\r\n\t\t\tconst pixelIndex = index * 4;\r\n\r\n\t\t\tconst result = rgbShift({ x: c, y: r }, shift);\r\n\r\n\t\t\t// eslint-disable-next-line no-param-reassign\r\n\t\t\tbuffer[pixelIndex] = result.r * 255;\r\n\t\t\t// eslint-disable-next-line no-param-reassign\r\n\t\t\tbuffer[pixelIndex + 1] = result.g * 255;\r\n\t\t\t// eslint-disable-next-line no-param-reassign\r\n\t\t\tbuffer[pixelIndex + 2] = result.b * 255;\r\n\t\t\t// eslint-disable-next-line no-param-reassign\r\n\t\t\tbuffer[pixelIndex + 3] = result.a * 255;\r\n\t\t}\r\n\t}\r\n\r\n\tfor (let i = 0; i < imageData.data.length; ++i) {\r\n\t\t// eslint-disable-next-line no-param-reassign\r\n\t\timageData.data[i] = buffer[i];\r\n\t}\r\n}\r\n\r\nexport function drawScene(\r\n\tctx: CanvasRenderingContext2D,\r\n\tcolumnDefinitions: readonly SceneColumnDefinition[],\r\n\tsprites: SpritesT,\r\n\tsceneProgress: number,\r\n\talpha: number,\r\n\trgbSplit = false,\r\n\trectRGBSplit = false,\r\n\tgreyscale = false\r\n) {\r\n\tctx.clearRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\r\n\tctx.globalAlpha = alpha;\r\n\r\n\tdrawSceneToCanvas(ctx, columnDefinitions, sprites, sceneProgress);\r\n\r\n\tif (greyscale) {\r\n\t\tconst imageData = ctx.getImageData(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\r\n\t\tmakeGreyscale(imageData);\r\n\t\tctx.putImageData(imageData, 0, 0);\r\n\t}\r\n\r\n\tif (rgbSplit) {\r\n\t\tconst imageData = ctx.getImageData(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\r\n\t\tconst now = new Date(Date.now());\r\n\t\tconst t = now.getSeconds() + now.getMilliseconds() * 0.001;\r\n\t\trgbSplitImage(imageData, rgbSplitBuffer, t);\r\n\t\tctx.putImageData(imageData, 0, 0);\r\n\t}\r\n\r\n\tif (rectRGBSplit) {\r\n\t\tconst random = Math.random();\r\n\t\tif (random < 0.2) {\r\n\t\t\tconst now = new Date(Date.now());\r\n\t\t\tconst t = now.getSeconds() + now.getMilliseconds() * 0.001;\r\n\r\n\t\t\tconst getRandomRectImg = () => {\r\n\t\t\t\tconst x = Math.floor(randomBetween(0, CANVAS_WIDTH - 30));\r\n\t\t\t\tconst y = Math.floor(randomBetween(0, CANVAS_HEIGHT - 50));\r\n\t\t\t\tconst w = Math.floor(randomBetween(30, CANVAS_WIDTH - x));\r\n\t\t\t\tconst h = Math.floor(randomBetween(10, 20));\r\n\t\t\t\treturn { x, y, w, h };\r\n\t\t\t};\r\n\r\n\t\t\tconst nImages = Math.floor(randomBetween(5, 10));\r\n\t\t\tconst randomRects = makeArray(nImages, getRandomRectImg);\r\n\r\n\t\t\trandomRects.forEach(r => {\r\n\t\t\t\tconst img = ctx.getImageData(r.x, r.y, r.w, r.h);\r\n\t\t\t\trgbSplitImage(img, rgbSplitBuffer, t);\r\n\r\n\t\t\t\tconst xOffset = Math.floor(randomBetween(-5, 5));\r\n\t\t\t\tconst yOffset = Math.floor(randomBetween(-5, 5));\r\n\r\n\t\t\t\tctx.putImageData(img, r.x + xOffset, r.y + yOffset);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n","import React, { useEffect, useRef, useState, useCallback, useMemo } from 'react';\r\nimport { useAsync } from '@react-hook/async';\r\nimport useInterval from 'hooks/use-interval';\r\nimport useStateWithTime from 'hooks/use-state-with-time';\r\nimport { useRequestAnimationFrameLoop } from 'hooks/use-request-animation-frame';\r\nimport { loadTiles } from 'img/tiles';\r\nimport { loadSprites, SpritesT } from 'img/sprites';\r\nimport {\r\n\tCANVAS_HEIGHT,\r\n\tCANVAS_WIDTH,\r\n\tmakeColumnDefinitions,\r\n\tSceneColumnDefinition\r\n} from './driving-scene-columns';\r\nimport { drawScene } from './driving-scene-drawing';\r\n\r\nconst elementIsWithinYRange = (element: Element) => {\r\n\tconst { top, bottom } = element.getBoundingClientRect();\r\n\treturn bottom > 0 && top < window.innerHeight;\r\n};\r\n\r\nconst clamp = (value: number, range: [number, number]) =>\r\n\tMath.max(range[0], Math.min(value, range[1]));\r\n\r\nconst useWindowKeyDown = (handler: (e: KeyboardEvent) => void) => {\r\n\tconst savedHandler = useRef(handler);\r\n\r\n\tuseEffect(() => {\r\n\t\tsavedHandler.current = handler;\r\n\t}, [handler]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst eventListener = (event: KeyboardEvent) => savedHandler.current(event);\r\n\r\n\t\twindow.addEventListener('keydown', eventListener);\r\n\r\n\t\treturn () => {\r\n\t\t\twindow.removeEventListener('keydown', eventListener);\r\n\t\t};\r\n\t});\r\n};\r\n\r\ninterface Props {\r\n\tclassName?: string;\r\n\tstyle?: React.CSSProperties;\r\n\tonEndScene?: () => void;\r\n}\r\n\r\nconst LEFT_ARROW = 37;\r\nconst RIGHT_ARROW = 39;\r\nconst SPACE_BAR = 32;\r\nconst ENTER = 13;\r\n\r\nconst convertNumberKeyCodeToNumber = (keyCode: number): number | null => {\r\n\t// 0-9 keys\r\n\tif (keyCode >= 48 && keyCode <= 57) return keyCode - 48;\r\n\r\n\t// Numpad\r\n\tif (keyCode >= 96 && keyCode <= 105) return keyCode - 96;\r\n\r\n\treturn null;\r\n};\r\n\r\nfunction calculateLengths(distanceToHotel: number) {\r\n\tconst STOP_LENGTH = 50;\r\n\tconst FADE_LENGTH = 100;\r\n\tconst totalSceneLength = distanceToHotel + STOP_LENGTH + FADE_LENGTH;\r\n\tconst totalSceneLengthPlusFadeIn = totalSceneLength + FADE_LENGTH;\r\n\treturn {\r\n\t\tSTOP_LENGTH,\r\n\t\tFADE_LENGTH,\r\n\t\ttotalSceneLength,\r\n\t\ttotalSceneLengthPlusFadeIn\r\n\t};\r\n}\r\n\r\nfunction calculateProgressAlphaAndStage(\r\n\tprogress: number,\r\n\tdistanceToHotel: number\r\n): {\r\n\tsceneProgressForDraw: number;\r\n\talpha: number;\r\n\tstage: 'main' | 'hotel' | 'fadeout' | 'fadein';\r\n} {\r\n\tconst { STOP_LENGTH, FADE_LENGTH } = calculateLengths(distanceToHotel);\r\n\r\n\tif (progress < distanceToHotel)\r\n\t\treturn { sceneProgressForDraw: progress, alpha: 1.0, stage: 'main' };\r\n\r\n\tif (progress < distanceToHotel + STOP_LENGTH)\r\n\t\treturn { sceneProgressForDraw: distanceToHotel, alpha: 1.0, stage: 'hotel' };\r\n\r\n\tif (progress < distanceToHotel + STOP_LENGTH + FADE_LENGTH) {\r\n\t\tconst intoFade = progress - (distanceToHotel + STOP_LENGTH);\r\n\t\treturn {\r\n\t\t\tsceneProgressForDraw: distanceToHotel,\r\n\t\t\talpha: 1.0 - intoFade / FADE_LENGTH,\r\n\t\t\tstage: 'fadeout'\r\n\t\t};\r\n\t}\r\n\r\n\tif (progress < distanceToHotel + STOP_LENGTH + FADE_LENGTH * 2) {\r\n\t\tconst intoFade = progress - (distanceToHotel + STOP_LENGTH + FADE_LENGTH);\r\n\t\treturn { sceneProgressForDraw: 0, alpha: intoFade / FADE_LENGTH, stage: 'fadein' };\r\n\t}\r\n\r\n\treturn { sceneProgressForDraw: 0, alpha: 1.0, stage: 'main' };\r\n}\r\n\r\ntype ImplProps = Props & {\r\n\tsprites: SpritesT;\r\n\tcolumnDefinitions: readonly SceneColumnDefinition[];\r\n\tdistanceToHotel: number;\r\n};\r\n\r\nconst DrivingSceneImpl = (props: ImplProps) => {\r\n\tconst { className, style, sprites, distanceToHotel, columnDefinitions, onEndScene } = props;\r\n\r\n\tconst { totalSceneLength, totalSceneLengthPlusFadeIn } = calculateLengths(distanceToHotel);\r\n\r\n\tconst canvasRef = useRef<HTMLCanvasElement>(null);\r\n\r\n\tconst [moving, setMoving] = useState(true);\r\n\tconst [mode, setMode] = useState(0);\r\n\tconst [speed, setSpeed] = useState(20); // pixels per second\r\n\tconst [sceneProgress, setSceneProgress, setProgressTime] = useStateWithTime(0, false);\r\n\r\n\tuseWindowKeyDown((e: KeyboardEvent) => {\r\n\t\tif (canvasRef.current && elementIsWithinYRange(canvasRef.current)) {\r\n\t\t\tconst { keyCode } = e;\r\n\t\t\tif (keyCode === LEFT_ARROW) {\r\n\t\t\t\tsetSpeed(speed - 1);\r\n\t\t\t} else if (keyCode === RIGHT_ARROW) {\r\n\t\t\t\tsetSpeed(speed + 1);\r\n\t\t\t} else if (keyCode === SPACE_BAR) {\r\n\t\t\t\tif (e.target === document.body) {\r\n\t\t\t\t\tsetMoving(!moving);\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t}\r\n\t\t\t} else if (keyCode === ENTER) {\r\n\t\t\t\tsetMode(mode + 1);\r\n\t\t\t} else {\r\n\t\t\t\tconst number = convertNumberKeyCodeToNumber(keyCode);\r\n\t\t\t\tif (number !== null) {\r\n\t\t\t\t\tsetSceneProgress((number * distanceToHotel) / 9);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tuseInterval(() => {\r\n\t\tif (!moving) {\r\n\t\t\t// Even if not moving, set the time so we update the time\r\n\t\t\tsetSceneProgress(sceneProgress);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst sinceLast = Date.now() - setProgressTime;\r\n\t\tconst speedToUse = clamp(speed, [5, 100]);\r\n\t\tconst distance = speedToUse * sinceLast * 0.001;\r\n\t\tconst newProgress = sceneProgress + distance;\r\n\t\tif (sceneProgress < totalSceneLength && newProgress >= totalSceneLength) {\r\n\t\t\tonEndScene?.();\r\n\t\t}\r\n\t\t// Reset when we reach totalSceneProgress\r\n\t\tsetSceneProgress(newProgress % totalSceneLengthPlusFadeIn);\r\n\t}, 1000 / 25);\r\n\r\n\tconst { sceneProgressForDraw, alpha } = calculateProgressAlphaAndStage(\r\n\t\tsceneProgress,\r\n\t\tdistanceToHotel\r\n\t);\r\n\r\n\tconst animationLoop = useCallback(() => {\r\n\t\tif (canvasRef.current) {\r\n\t\t\tconst ctx = canvasRef.current.getContext('2d');\r\n\t\t\tif (ctx) {\r\n\t\t\t\tdrawScene(\r\n\t\t\t\t\tctx,\r\n\t\t\t\t\tcolumnDefinitions,\r\n\t\t\t\t\tsprites,\r\n\t\t\t\t\tsceneProgressForDraw,\r\n\t\t\t\t\talpha,\r\n\t\t\t\t\tmode % 4 === 1,\r\n\t\t\t\t\tmode % 4 === 2,\r\n\t\t\t\t\tmode % 4 === 3\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\t}, [sceneProgressForDraw, columnDefinitions, sprites, alpha, mode]);\r\n\r\n\tuseRequestAnimationFrameLoop(animationLoop, true);\r\n\r\n\treturn (\r\n\t\t<canvas\r\n\t\t\tref={canvasRef}\r\n\t\t\twidth={CANVAS_WIDTH}\r\n\t\t\theight={CANVAS_HEIGHT}\r\n\t\t\tstyle={style}\r\n\t\t\tclassName={className}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nconst DrivingScene = (props: Props) => {\r\n\tconst [{ value: tiles }, callLoadTiles] = useAsync(loadTiles, []);\r\n\tconst [{ value: sprites }, callLoadSprites] = useAsync(loadSprites, []);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tcallLoadTiles();\r\n\t\t\tcallLoadSprites();\r\n\t\t},\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t\t[]\r\n\t);\r\n\r\n\tconst columnDefs = useMemo(() => (tiles ? makeColumnDefinitions(tiles) : undefined), [tiles]);\r\n\r\n\tif (sprites && columnDefs)\r\n\t\treturn (\r\n\t\t\t<DrivingSceneImpl\r\n\t\t\t\tsprites={sprites}\r\n\t\t\t\tcolumnDefinitions={columnDefs.definitions}\r\n\t\t\t\tdistanceToHotel={columnDefs.distanceToHotel}\r\n\t\t\t\t{...props}\r\n\t\t\t/>\r\n\t\t);\r\n\r\n\treturn <div />;\r\n};\r\n\r\nexport default DrivingScene;\r\n","import { useRef, useCallback, useEffect, useLayoutEffect } from 'react';\r\n\r\nexport function useRequestAnimationFrame(callback: () => void, deps: React.DependencyList) {\r\n\tuseEffect(() => {\r\n\t\tconst id = requestAnimationFrame(callback);\r\n\t\treturn () => cancelAnimationFrame(id);\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, deps);\r\n}\r\n\r\nexport function useRequestAnimationFrameLoop(callback: () => void, running: boolean) {\r\n\tconst callbackRef = useRef<() => void>(callback);\r\n\tuseLayoutEffect(() => {\r\n\t\tcallbackRef.current = callback;\r\n\t}, [callback]);\r\n\r\n\tconst frameRef = useRef<number>(0);\r\n\r\n\tconst loop = useCallback(() => {\r\n\t\tframeRef.current = requestAnimationFrame(loop);\r\n\t\tcallbackRef.current();\r\n\t}, []);\r\n\r\n\tuseLayoutEffect(() => {\r\n\t\tframeRef.current = running ? requestAnimationFrame(loop) : 0;\r\n\t\treturn () => cancelAnimationFrame(frameRef.current);\r\n\t}, [loop, running]);\r\n}\r\n","import React, { useState } from 'react';\r\n\r\nimport { InlineIcon } from '@iconify/react';\r\nimport keyboardIcon from '@iconify/icons-twemoji/keyboard';\r\n\r\nconst textToRepeat = 'all work and no play makes Jack a dull boy ';\r\n\r\nconst alterText = (text: string) => {\r\n\tconst characters = text.length;\r\n\tconst repeats = Math.floor(characters / textToRepeat.length);\r\n\tconst extra = characters % textToRepeat.length;\r\n\treturn new Array(repeats).fill(textToRepeat).join('') + textToRepeat.slice(0, extra);\r\n};\r\n\r\nconst TypewriterScene = () => {\r\n\tconst [text, setText] = useState('');\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div>\r\n\t\t\t\t<InlineIcon icon={keyboardIcon} />\r\n\t\t\t\tLeave a comment\r\n\t\t\t\t<InlineIcon icon={keyboardIcon} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<textarea\r\n\t\t\t\t\tstyle={{ minHeight: '30vh', minWidth: '50vw' }}\r\n\t\t\t\t\tvalue={alterText(text)}\r\n\t\t\t\t\tonChange={e => setText(e.target.value)}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default TypewriterScene;\r\n","import React, { useState } from 'react';\r\nimport { Parallax, Background } from 'react-parallax';\r\nimport { useWindowSize } from '@react-hook/window-size';\r\nimport Logo, { LogoBackground } from 'components/logo';\r\nimport NoiseCanvas from 'components/noise-canvas';\r\nimport DivAutoHideContent from 'components/div-auto-hide-content';\r\nimport background from 'img/stmarylake.jpg';\r\nimport styles from 'app.module.scss';\r\nimport glitchStyles from 'glitch.module.scss';\r\nimport DoorScene from 'pages/door-scene';\r\nimport GradySisters from 'pages/grady-sisters';\r\nimport DrivingScene from 'pages/driving-scene';\r\nimport Typewriter from 'pages/typewriter-scene';\r\nimport DivWithOnYScrollEnter from 'components/div-on-scroll-to-visible';\r\n\r\nconst FourPageNoiseCanvas = () => {\r\n\tconst [width, height] = useWindowSize(undefined, undefined, { wait: 500 });\r\n\treturn (\r\n\t\t<NoiseCanvas\r\n\t\t\twidth={width}\r\n\t\t\theight={height * 4}\r\n\t\t\tclassName={styles.vh4}\r\n\t\t\tstyle={{ position: 'absolute', left: 0, top: 0 }}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nconst convertDoorScenePercentage = (percentage: number) => {\r\n\t// The start percentage depends on the height of the div in the current parallax section\r\n\tconst startP = 0.375;\r\n\treturn (percentage - startP) / (1 - startP);\r\n};\r\n\r\nconst scrollToId = (id: string) => {\r\n\tconst anchor = document.querySelector(`#${id}`);\r\n\tif (anchor) anchor.scrollIntoView({ behavior: 'smooth', block: 'end' });\r\n};\r\n\r\nconst DrivingSceneFullScreen = () => {\r\n\treturn <DrivingScene className={styles.drivingSceneCanvas} />;\r\n};\r\n\r\ntype NavID = 'top' | 'driving' | 'typewriter' | 'door-scene' | 'bottom';\r\n\r\nconst navDivProps = (clickId: NavID) => {\r\n\treturn {\r\n\t\tonClick: () => scrollToId(clickId),\r\n\t\trole: 'button'\r\n\t};\r\n};\r\n\r\nconst fadeStyle = (long: boolean) => (long ? styles.fadeIn3s : styles.fadeIn2s);\r\n\r\nconst FadeInDiv = (\r\n\tprops: React.PropsWithChildren<{ longFade: boolean } & React.ComponentProps<'div'>>\r\n) => {\r\n\tconst { longFade, children, className, ...rest } = props;\r\n\tconst [fadeIn, setFadeIn] = useState(false);\r\n\tconst classNameToUse = `${className} ${fadeIn ? fadeStyle(longFade) : ''}`;\r\n\treturn (\r\n\t\t<DivWithOnYScrollEnter\r\n\t\t\tclassName={classNameToUse}\r\n\t\t\tscrollFps={100}\r\n\t\t\tonEnterYRange={() => setFadeIn(true)}\r\n\t\t\tonLeaveYRange={() => setFadeIn(false)}\r\n\t\t\t{...rest}\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</DivWithOnYScrollEnter>\r\n\t);\r\n};\r\n\r\nconst ArrowNav = (props: { clickId: NavID; type: 'up' | 'down' }) => {\r\n\tconst arrowName = props.type === 'up' ? styles.arrowUp : styles.arrowDown;\r\n\treturn <FadeInDiv className={arrowName} longFade={false} {...navDivProps(props.clickId)} />;\r\n};\r\n\r\nfunction App() {\r\n\treturn (\r\n\t\t<div className={styles.app}>\r\n\t\t\t<Parallax\r\n\t\t\t\tblur={{ min: -3, max: 5 }}\r\n\t\t\t\tbgImage={background}\r\n\t\t\t\tbgImageAlt=\"background\"\r\n\t\t\t\tbgImageStyle={{ opacity: '0.7' }}\r\n\t\t\t\tstrength={100}\r\n\t\t\t>\r\n\t\t\t\t<div className={styles.appPage} id=\"top\">\r\n\t\t\t\t\t<Logo />\r\n\t\t\t\t\tWELCOME TO THE\r\n\t\t\t\t\t<div className={glitchStyles.glitch} data-text=\"Overlook\">\r\n\t\t\t\t\t\tOverlook\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\tHOTEL\r\n\t\t\t\t\t<ArrowNav clickId=\"driving\" type=\"down\" />\r\n\t\t\t\t</div>\r\n\t\t\t</Parallax>\r\n\t\t\t<Parallax strength={200}>\r\n\t\t\t\t<div className={`${styles.appPage} ${styles.vh1point2}`} id=\"driving\" />\r\n\t\t\t\t<div className={styles.overlayArrowContainerPlus10vh}>\r\n\t\t\t\t\t<ArrowNav clickId=\"typewriter\" type=\"down\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<Background className={`${styles.vh1point2}`}>\r\n\t\t\t\t\t<DrivingSceneFullScreen />\r\n\t\t\t\t</Background>\r\n\t\t\t</Parallax>\r\n\t\t\t<Parallax strength={500}>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={`${styles.appPage} ${styles.vh1point5}`}\r\n\t\t\t\t\tid=\"carpet\"\r\n\t\t\t\t\t{...navDivProps('typewriter')}\r\n\t\t\t\t>\r\n\t\t\t\t\t<GradySisters />\r\n\t\t\t\t</div>\r\n\t\t\t\t<Background className={styles.vh2}>\r\n\t\t\t\t\t<LogoBackground />\r\n\t\t\t\t</Background>\r\n\t\t\t</Parallax>\r\n\t\t\t<Parallax strength={400}>\r\n\t\t\t\t<div className={styles.appPage} id=\"typewriter\">\r\n\t\t\t\t\t<Typewriter />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={styles.overlayArrowContainer}>\r\n\t\t\t\t\t<ArrowNav clickId=\"door-scene\" type=\"down\" />\r\n\t\t\t\t</div>\r\n\t\t\t</Parallax>\r\n\t\t\t<Parallax\r\n\t\t\t\tbgImage=\"dummy\"\r\n\t\t\t\tstrength={0}\r\n\t\t\t\trenderLayer={percentage => (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<FourPageNoiseCanvas />\r\n\t\t\t\t\t\t<DivAutoHideContent className={`${styles.appPage} ${styles.vh4}`} id=\"door-scene\">\r\n\t\t\t\t\t\t\t<DoorScene percentage={convertDoorScenePercentage(percentage)} />\r\n\t\t\t\t\t\t</DivAutoHideContent>\r\n\t\t\t\t\t\t<div className={`${styles.appPage} ${styles.vh4} ${styles.vignette}`} />\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t/>\r\n\t\t\t<div className={styles.appPage}>\r\n\t\t\t\t<span className={styles.calligraphy}>fin</span>\r\n\r\n\t\t\t\t<FadeInDiv className={styles.siteUpdateText} longFade={true}>\r\n\t\t\t\t\t<span>Site last updated July 4th 1921</span>\r\n\t\t\t\t</FadeInDiv>\r\n\t\t\t\t<ArrowNav clickId=\"top\" type=\"up\" />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n","/* eslint-disable @typescript-eslint/no-use-before-define */\r\n/* eslint-disable no-console */\r\n// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n\twindow.location.hostname === 'localhost' ||\r\n\t\t// [::1] is the IPv6 localhost address.\r\n\t\twindow.location.hostname === '[::1]' ||\r\n\t\t// 127.0.0.0/8 are considered localhost for IPv4.\r\n\t\twindow.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\r\n);\r\n\r\ntype Config = {\r\n\tonSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n\tonUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n\t\t// The URL constructor is available in all browsers that support SW.\r\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL ?? '', window.location.href);\r\n\t\tif (publicUrl.origin !== window.location.origin) {\r\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\r\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\r\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\twindow.addEventListener('load', () => {\r\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n\t\t\tif (isLocalhost) {\r\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\r\n\t\t\t\tcheckValidServiceWorker(swUrl, config);\r\n\r\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\r\n\t\t\t\t// service worker/PWA documentation.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\r\n\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\r\n\t\t\t\t\t\t\t'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// Is not localhost. Just register service worker\r\n\t\t\t\tregisterValidSW(swUrl, config);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n\tnavigator.serviceWorker\r\n\t\t.register(swUrl)\r\n\t\t.then(registration => {\r\n\t\t\t// eslint-disable-next-line no-param-reassign\r\n\t\t\tregistration.onupdatefound = () => {\r\n\t\t\t\tconst installingWorker = registration.installing;\r\n\t\t\t\tif (installingWorker == null) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tinstallingWorker.onstatechange = () => {\r\n\t\t\t\t\tif (installingWorker.state === 'installed') {\r\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\r\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\r\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\r\n\t\t\t\t\t\t\t// content until all client tabs are closed.\r\n\t\t\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\r\n\t\t\t\t\t\t\t\t\t'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\r\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// At this point, everything has been precached.\r\n\t\t\t\t\t\t\t// It's the perfect time to display a\r\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\r\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.');\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\r\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t};\r\n\t\t})\r\n\t\t.catch(error => {\r\n\t\t\tconsole.error('Error during service worker registration:', error);\r\n\t\t});\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n\t// Check if the service worker can be found. If it can't reload the page.\r\n\tfetch(swUrl, {\r\n\t\theaders: { 'Service-Worker': 'script' }\r\n\t})\r\n\t\t.then(response => {\r\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\r\n\t\t\tconst contentType = response.headers.get('content-type');\r\n\t\t\tif (\r\n\t\t\t\tresponse.status === 404 ||\r\n\t\t\t\t(contentType != null && contentType.indexOf('javascript') === -1)\r\n\t\t\t) {\r\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\r\n\t\t\t\t\tregistration.unregister().then(() => {\r\n\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// Service worker found. Proceed as normal.\r\n\t\t\t\tregisterValidSW(swUrl, config);\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(() => {\r\n\t\t\tconsole.log('No internet connection found. App is running in offline mode.');\r\n\t\t});\r\n}\r\n\r\nexport function unregister() {\r\n\tif ('serviceWorker' in navigator) {\r\n\t\tnavigator.serviceWorker.ready\r\n\t\t\t.then(registration => {\r\n\t\t\t\tregistration.unregister();\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\tconsole.error(error.message);\r\n\t\t\t});\r\n\t}\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t<App />\r\n\t</React.StrictMode>,\r\n\tdocument.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}